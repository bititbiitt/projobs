{"version":3,"sources":["../../../../../projobs/src/app/jobs/page.tsx","../../../../../projobs/node_modules/lucide-react/src/icons/filter-x.ts","../../../../../projobs/node_modules/lucide-react/src/icons/bookmark.ts","../../../../../projobs/node_modules/lucide-react/src/icons/filter.ts","../../../../../projobs/node_modules/lucide-react/src/icons/arrow-left.ts","../../../../../projobs/node_modules/lucide-react/src/icons/arrow-right.ts","../../../../../projobs/node_modules/lucide-react/src/icons/check.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useRef, useState, Suspense } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport { Bookmark, Filter, MapPin, Search, Star, ArrowLeft, ArrowRight, Check, FilterX } from \"lucide-react\";\r\n\r\nconst radiusOptions = [\r\n  { label: \"Select radius\", value: \"\" },\r\n  { label: \"Within 1 mile\", value: \"1\" },\r\n  { label: \"Within 5 miles\", value: \"5\" },\r\n  { label: \"Within 10 miles\", value: \"10\" },\r\n  { label: \"Within 25 miles\", value: \"25\" },\r\n  { label: \"Within 50 miles\", value: \"50\" },\r\n  { label: \"Within 100 miles\", value: \"100\" },\r\n];\r\n\r\nconst salaryOptions = [\r\n  { label: \"All Salaries\", value: \"\" },\r\n  { label: \"Highest First\", value: \"highest\" },\r\n  { label: \"Lowest First\", value: \"lowest\" },\r\n  { label: \"$0–30K\", value: \"0-30\" },\r\n  { label: \"$31–60K\", value: \"31-60\" },\r\n  { label: \"$61–100K\", value: \"61-100\" },\r\n  { label: \"$101–150K\", value: \"101-150\" },\r\n  { label: \"$151–200K\", value: \"151-200\" },\r\n  { label: \"$201–250K\", value: \"201-250\" },\r\n  { label: \"$251–300K\", value: \"251-300\" },\r\n  { label: \"$301–350K\", value: \"301-350\" },\r\n  { label: \"$350+\", value: \"350plus\" },\r\n];\r\n\r\nconst workSiteOptions = [\r\n  { label: \"All Work Sites\", value: \"\" },\r\n  { label: \"Flexible/Hybrid\", value: \"Hybrid\" },\r\n  { label: \"On-site\", value: \"On-site\" },\r\n  { label: \"Remote\", value: \"Remote\" },\r\n];\r\n\r\nconst jobTypeOptions = [\r\n  { label: \"All Types\", value: \"\" },\r\n  { label: \"Full Time\", value: \"FULL_TIME\" },\r\n  { label: \"Part Time\", value: \"PART_TIME\" },\r\n  { label: \"Temporary\", value: \"TEMPORARY\" },\r\n  { label: \"Volunteer\", value: \"VOLUNTEER\" },\r\n  { label: \"Contract\", value: \"CONTRACT\" },\r\n  { label: \"Internship\", value: \"INTERNSHIP\" },\r\n  { label: \"Seasonal\", value: \"SEASONAL\" },\r\n  { label: \"At Will\", value: \"AT_WILL\" },\r\n];\r\n\r\nconst jobLevelOptions = [\r\n  { label: \"All Levels\", value: \"\" },\r\n  { label: \"Entry\", value: \"Entry\" },\r\n  { label: \"Executive\", value: \"Executive\" },\r\n  { label: \"Lead\", value: \"Lead\" },\r\n  { label: \"Manager\", value: \"Manager\" },\r\n  { label: \"Professional\", value: \"Professional\" },\r\n  { label: \"Public Safety Rank\", value: \"Public Safety Rank\" },\r\n  { label: \"Senior Manager\", value: \"Senior Manager\" },\r\n  { label: \"Senior\", value: \"Senior\" },\r\n  { label: \"Senior Professional\", value: \"Senior\" },\r\n  { label: \"Skilled\", value: \"Skilled\" },\r\n  { label: \"Supervisor\", value: \"Supervisor\" },\r\n  { label: \"Support\", value: \"Support\" },\r\n  { label: \"Temporary / Seasonal\", value: \"Temporary / Seasonal\" },\r\n];\r\n\r\nconst dateOptions = [\r\n  { label: \"All Dates\", value: \"\" },\r\n  { label: \"Newest First\", value: \"newest\" },\r\n  { label: \"Oldest First\", value: \"oldest\" },\r\n  { label: \"Within 24 Hours\", value: \"24h\" },\r\n  { label: \"Within Week\", value: \"week\" },\r\n  { label: \"Within Month\", value: \"month\" },\r\n  { label: \"Within 3 Months\", value: \"3months\" },\r\n];\r\n\r\nconst categoryPlaceholder = [{ label: \"All Categories\", value: \"\" }];\r\nconst functionPlaceholder = [{ label: \"All Functions\", value: \"\" }];\r\n\r\ntype Option = { label: string; value: string };\r\n\r\ntype Filters = {\r\n  radius: string[];\r\n  category: string[];\r\n  jobFunction: string[];\r\n  jobType: string[];\r\n  jobLevel: string[];\r\n  salary: string[];\r\n  workSite: string[];\r\n  dateRange: string[];\r\n};\r\n\r\ntype JobItem = {\r\n  id: string;\r\n  title: string | null;\r\n  company: string | null;\r\n  organization: string | null;\r\n  location: string | null;\r\n  zipCode: string | null;\r\n  salaryRange: string | null;\r\n  workspace: string | null;\r\n  type: string | null;\r\n  level: string | null;\r\n  featured: boolean;\r\n  slug: string | null;\r\n  applyUrl?: string | null;\r\n  description: string | null;\r\n  openingDate: string | null;\r\n  closingDate: string | null;\r\n  reviewingDate: string | null;\r\n  createdAt: string;\r\n  jobCategory?: { name: string; slug: string } | null;\r\n  jobFunction?: { name: string; slug: string } | null;\r\n};\r\n\r\ninterface SuggestionItem {\r\n  value: string;\r\n  type: 'keyword' | 'location';\r\n  score: number;\r\n  typeRating?: number; // 1-10 priority (1=Highest)\r\n  sortValue?: number; // For Zip codes\r\n}\r\n\r\nfunction formatDate(value?: string | null) {\r\n  if (!value) return \"\";\r\n  const d = new Date(value);\r\n  if (Number.isNaN(d.getTime())) return \"\";\r\n  return d.toLocaleDateString(\"en-US\", { month: \"short\", day: \"2-digit\", year: \"numeric\" });\r\n}\r\n\r\nfunction daysAgo(value?: string) {\r\n  if (!value) return \"\";\r\n  const now = new Date();\r\n  const then = new Date(value);\r\n  const diff = now.getTime() - then.getTime();\r\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24));\r\n  if (days <= 0) return \"Today\";\r\n  if (days === 1) return \"1 day ago\";\r\n  return `${days} days ago`;\r\n}\r\n\r\nfunction isFilterActive(filters: Filters, searchText: string, locationText: string) {\r\n  return (\r\n    searchText.trim() !== \"\" ||\r\n    locationText.trim() !== \"\" ||\r\n    Object.values(filters).some((v) => v.length > 0)\r\n  );\r\n}\r\n\r\nfunction JobsPageContent() {\r\n  const searchParams = useSearchParams();\r\n\r\n  // Unified Search State\r\n  // We initialize the input with q or location if present (prefer q if both, or combine? usually q)\r\n  const [query, setQuery] = useState(searchParams.get(\"q\") || searchParams.get(\"location\") || \"\");\r\n  \r\n  // Actual Filter State (kept separate to drive the API)\r\n  const [debouncedSearch, setDebouncedSearch] = useState(searchParams.get(\"q\") || \"\");\r\n  const [debouncedLocation, setDebouncedLocation] = useState(searchParams.get(\"location\") || \"\");\r\n\r\n  const [filters, setFilters] = useState<Filters>({\r\n    radius: searchParams.getAll(\"radius\"),\r\n    category: searchParams.getAll(\"category\"),\r\n    jobFunction: searchParams.getAll(\"jobFunction\"),\r\n    jobType: searchParams.getAll(\"jobType\"),\r\n    jobLevel: searchParams.getAll(\"jobLevel\"),\r\n    salary: searchParams.getAll(\"salary\"),\r\n    workSite: searchParams.getAll(\"workSite\"),\r\n    dateRange: searchParams.getAll(\"dateRange\"),\r\n  });\r\n\r\n  const [jobs, setJobs] = useState<JobItem[]>([]);\r\n  const [total, setTotal] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [categories, setCategories] = useState<Option[]>(categoryPlaceholder);\r\n  const [functions, setFunctions] = useState<Option[]>(functionPlaceholder);\r\n  \r\n  // Unified Suggestions State\r\n  const [suggestions, setSuggestions] = useState<SuggestionItem[]>([]);\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const [activeIndex, setActiveIndex] = useState(-1);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [openFilter, setOpenFilter] = useState<string | null>(null);\r\n  const [showMobileFilters, setShowMobileFilters] = useState(false);\r\n  // Animated placeholder state for cycling search hints\r\n  const [animatedPlaceholder, setAnimatedPlaceholder] = useState(\"Search by job title, function, category, or organization...|\");\r\n  const [savedJobs, setSavedJobs] = useState<Set<string>>(new Set());\r\n\r\n  const sentinelRef = useRef<HTMLDivElement | null>(null);\r\n  const filterPanelRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  const pageSize = 20;\r\n\r\n  const filterActive = useMemo(\r\n    () => isFilterActive(filters, debouncedSearch, debouncedLocation),\r\n    [filters, debouncedSearch, debouncedLocation]\r\n  );\r\n\r\n  useEffect(() => {\r\n    // Search-As-You-Type (Debounced)\r\n    const handler = setTimeout(() => {\r\n      const qClean = query.trim();\r\n\r\n      // Clear if empty\r\n      if (qClean === \"\") {\r\n        setDebouncedSearch(\"\");\r\n        setDebouncedLocation(\"\");\r\n        return;\r\n      }\r\n\r\n      // If matches explicit Location Patterns (Zip Code or City, State)\r\n      // prioritize it as location\r\n      if (/^\\d{5}/.test(qClean) || qClean.includes(',')) {\r\n          setDebouncedLocation(query);\r\n          setDebouncedSearch(\"\");\r\n      } else {\r\n          // Otherwise treat as keyword (default behavior for pasted text)\r\n          // This ensures \"Engineer\" works as a keyword search immediately\r\n          setDebouncedSearch(query);\r\n          // Do NOT clear location here if it was previously set? \r\n          // Actually, if they type in the single box, we assume they are REPLACING the previous search.\r\n          // So clearing the other field is correct for a unified box.\r\n          setDebouncedLocation(\"\");\r\n      }\r\n\r\n    }, 600); \r\n\r\n    return () => clearTimeout(handler);\r\n  }, [query]); // Remove suggestions dependency to avoid race conditions\r\n\r\n  // Remove separate location debounce effect\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => setIsMobile(window.matchMedia(\"(pointer: coarse)\").matches);\r\n    checkMobile();\r\n    window.addEventListener(\"resize\", checkMobile);\r\n    return () => window.removeEventListener(\"resize\", checkMobile);\r\n  }, []);\r\n\r\n  // Animated Placeholder for Search Box - Typewriter effect cycles through helpful search examples\r\n  useEffect(() => {\r\n    const placeholders = [\r\n      \"Search by job title, function, category, or organization\",\r\n      \"Try 'Web Developer' or 'Remote'\",\r\n      \"Enter by city, state, or ZIP code\",\r\n      \"Or just ZIP code like '90210'\",\r\n    ];\r\n    let currentTextIndex = 0;\r\n    let currentCharIndex = 0;\r\n    let isDeleting = false;\r\n    let pauseEnd = Date.now() + 2000; // Initial pause at the end of text\r\n    let step = 0;\r\n    const typingSteps = 2; // 100ms (50ms * 2)\r\n      const erasingSteps = 1; // 25ms (50ms * 1)\r\n\r\n    const interval = setInterval(() => {\r\n      step++;\r\n      const currentText = placeholders[currentTextIndex];\r\n\r\n      if (isDeleting) {\r\n        if (step % erasingSteps === 0) {\r\n          if (currentCharIndex > 0) {\r\n            currentCharIndex--;\r\n            setAnimatedPlaceholder(currentText.substring(0, currentCharIndex) + \"|\");\r\n          } else {\r\n            isDeleting = false;\r\n            currentTextIndex = (currentTextIndex + 1) % placeholders.length;\r\n            pauseEnd = Date.now() + 700; // Short pause before typing next\r\n          }\r\n        }\r\n      } else {\r\n        if (Date.now() > pauseEnd) {\r\n          if (step % typingSteps === 0) {\r\n            if (currentCharIndex < currentText.length) {\r\n              currentCharIndex++;\r\n              setAnimatedPlaceholder(currentText.substring(0, currentCharIndex) + \"|\");\r\n            } else {\r\n              isDeleting = true;\r\n              pauseEnd = Date.now() + 3000; // Pause before deleting\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }, 50); // Base interval\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // Combined Suggestion Fetching (Copied & Adapted from HeroSection)\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n    const qLower = query.toLowerCase();\r\n    \r\n    if (query.trim().length > 0) {\r\n       const encQuery = encodeURIComponent(query);\r\n       \r\n       Promise.all([\r\n          fetch(`/api/search?q=${encQuery}`, { signal: controller.signal }),\r\n          fetch(`/api/search?taxonomy=locations&q=${encQuery}`, { signal: controller.signal })\r\n       ])\r\n       .then(async ([kRes, lRes]) => {\r\n          const kData = kRes.ok ? await kRes.json() : [];\r\n          const lData = lRes.ok ? await lRes.json() : [];\r\n\r\n          // Determine input type (Numeric/Zip vs Alpha)\r\n          const isNumericInput = /^\\d/.test(qLower);\r\n\r\n          // --- Process Locations ---\r\n          const locationItems: SuggestionItem[] = (Array.isArray(lData) ? lData : [])\r\n             .filter((item: any) => typeof item === 'string' && item.length > 0)\r\n             .map((item: string) => {\r\n                 const lowerItem = item.toLowerCase();\r\n                 let score = 0;\r\n                 let typeRating = 7; \r\n\r\n                 // Case A: Numeric Input (Zip Code Search)\r\n                 if (isNumericInput) {\r\n                     const match = item.match(/\\b\\d{5}\\b/);\r\n                     if (match && match[0].startsWith(qLower)) {\r\n                        const zip = parseInt(match[0], 10);\r\n                        return { value: item, type: 'location' as const, score: 100, sortValue: zip }; \r\n                     }\r\n                 }\r\n\r\n                 // Case B: Alpha Input (City/State Search)\r\n                 if (lowerItem.startsWith(qLower)) {\r\n                     score = 3; \r\n                     typeRating = 5; \r\n                 } else {\r\n                     const parts = lowerItem.split(',').map(s => s.trim());\r\n                     if (parts.length > 1 && parts[1].toLowerCase().startsWith(qLower)) {\r\n                        score = 2;\r\n                        typeRating = 6; \r\n                     } else {\r\n                         const match = item.match(/\\b\\d{5}\\b/);\r\n                         if (match && match[0].startsWith(qLower)) {\r\n                             score = 1;\r\n                             typeRating = 7; \r\n                         }\r\n                     }\r\n                 }\r\n\r\n                 return { value: item, type: 'location' as const, score, typeRating, sortValue: 0 };\r\n             })\r\n             .filter(i => i.score > 0);\r\n\r\n          // --- Process Keywords ---\r\n          const keywordItems: SuggestionItem[] = (Array.isArray(kData) ? kData : [])\r\n             .filter((item: any) => {\r\n                 const text = typeof item === 'string' ? item : item.text;\r\n                 return text.toLowerCase().startsWith(qLower);\r\n             })\r\n             .map((item: any) => {\r\n                 const text = typeof item === 'string' ? item : item.text;\r\n                 const type = typeof item === 'string' ? 'keyword' : item.type;\r\n                 \r\n                 let typeRating = 10;\r\n                 if (type === 'job') typeRating = 1;\r\n                 else if (type === 'function') typeRating = 2;\r\n                 else if (type === 'category') typeRating = 3;\r\n                 else if (type === 'company' || type === 'organization') typeRating = 4;\r\n\r\n                 return { \r\n                     value: text, \r\n                     type: 'keyword' as const, \r\n                     score: isNumericInput ? 0.5 : 5, \r\n                     typeRating \r\n                 }; \r\n             });\r\n\r\n\r\n          // --- Merge & Sort Strategy (Ghost Text Logic) ---\r\n          // The sort order here DIRECTLY DETERMINES the top suggestion, which becomes the \"Ghost Text\".\r\n          //\r\n          // ALPHA MODE (e.g. \"C\", \"Ca\", \"Tx\"):\r\n          // - Priority is determined by typeRating (1-7).\r\n          // - Example \"C\": Matches \"Civil Engineer\" (Job Title, Rank 1). \r\n          //     Sorted by Job Title A-Z.\r\n          //     Ghost Text: \"Civil Engineer\"\r\n          // - Example \"Ca\": No Job Title match. Matches \"Beverly Hills, CA\" (State Match, Rank 6).\r\n          //     Sorted by City/State A-Z.\r\n          //     Ghost Text: \"Beverly Hills, CA 90210\"\r\n          // - Example \"Tx\": Matches \"Austin, TX\" (State Match, Rank 6).\r\n          //     Sorted by City/State A-Z.\r\n          //     Ghost Text: \"Austin, TX 73301\"\r\n          //\r\n          // NUMERIC MODE (e.g. \"8\", \"900\"):\r\n          // - Priority is determined by score (Zip matches get 100).\r\n          // - Example \"8\": Matches \"80202\" (Zip Match). sorted by Zip Code numeric order.\r\n          //     Ghost Text: \"Denver, CO 80202\"\r\n\r\n          const merged = [...locationItems, ...keywordItems].sort((a: any, b: any) => {\r\n              // Rule 1: Numeric Input Algorithm\r\n              // 1. Zip Code (Highest Priority - Score 100)\r\n              // 2. City name starts with number (Rare)\r\n              // 3. State code starts with number (Impossible)\r\n              // 4. No Match -> Handled by backend (Deep Search in Details)\r\n              if (isNumericInput) {\r\n                   // Prefer high scores (Zip matches)\r\n                   if (a.score !== b.score) return b.score - a.score;\r\n                   // Tie-break by numeric value for zips\r\n                   if (a.sortValue !== b.sortValue) return a.sortValue - b.sortValue;\r\n              }\r\n\r\n              // Rule 2: Alpha Input Algorithm\r\n              // strict separation by Type Rating (1-7)\r\n              // 1. Job Title\r\n              // 2. Job Function\r\n              // 3. Job Category\r\n              // 4. Organization/Company\r\n              // 5. City Match\r\n              // 6. State Match\r\n              // 7. Zip Match\r\n              if (a.typeRating !== b.typeRating) {\r\n                  return (a.typeRating || 99) - (b.typeRating || 99);\r\n              }\r\n\r\n              // Rule 3: Alphabetical Tie-Breaker\r\n              return a.value.localeCompare(b.value);\r\n          }).slice(0, 8);\r\n\r\n          setSuggestions(merged);\r\n       })\r\n       .catch(err => { if (err.name !== 'AbortError') console.error(err); });\r\n\r\n    } else {\r\n      setSuggestions([]);\r\n      setActiveIndex(-1);\r\n    }\r\n    return () => controller.abort();\r\n  }, [query]);\r\n\r\n  // Unified Ghost Text\r\n  const inlineSuggestion = useMemo(() => {\r\n    if (isMobile || !query || suggestions.length === 0) return \"\";\r\n    \r\n    // Standard Prefix Match\r\n    const bestMatch = suggestions[0];\r\n    if (bestMatch && bestMatch.value.toLowerCase().startsWith(query.toLowerCase())) {\r\n       return bestMatch.value.slice(query.length);\r\n    }\r\n    \r\n    // Zip Code Context Match (90026 -> 90026 - Los Angeles, CA)\r\n    if (bestMatch && /^\\d{5}$/.test(query) && bestMatch.value.includes(query)) {\r\n        const remainder = bestMatch.value.replace(query, '').trim();\r\n        return `  - ${remainder.replace(/,/g, '').trim()}`; // extra space for separation\r\n    }\r\n\r\n    return \"\";\r\n  }, [query, suggestions, isMobile]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (!filterPanelRef.current) return;\r\n      if (openFilter && !filterPanelRef.current.contains(event.target as Node)) {\r\n        setOpenFilter(null);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, [openFilter]);\r\n\r\n  const optionSources: Record<keyof Filters, Option[]> = {\r\n    radius: radiusOptions,\r\n    category: categories,\r\n    jobFunction: functions,\r\n    jobType: jobTypeOptions,\r\n    jobLevel: jobLevelOptions,\r\n    salary: salaryOptions,\r\n    workSite: workSiteOptions,\r\n    dateRange: dateOptions,\r\n  };\r\n\r\n  const findLabel = (key: keyof Filters, value: string) => {\r\n    const options = optionSources[key] || [];\r\n    return options.find((o) => o.value === value)?.label || value;\r\n  };\r\n\r\n  // --- Filter Construction ---\r\n  // Converts state filters (arrays) into URL search params\r\n  const buildParams = (targetPage: number) => {\r\n    const params = new URLSearchParams();\r\n    params.set(\"page\", String(targetPage));\r\n    params.set(\"pageSize\", String(pageSize));\r\n    if (debouncedSearch) params.set(\"q\", debouncedSearch);\r\n    if (debouncedLocation) params.set(\"location\", debouncedLocation);\r\n    Object.entries(filters).forEach(([key, value]) => {\r\n      if (Array.isArray(value) && value.length) {\r\n        value.forEach((v) => params.append(key, v));\r\n      }\r\n    });\r\n    return params.toString();\r\n  };\r\n\r\n  const loadJobs = async (reset = false, targetPage?: number) => {\r\n    const nextPage = targetPage ?? (reset ? 1 : page);\r\n    setLoading(true);\r\n    const params = buildParams(nextPage);\r\n    const res = await fetch(`/api/jobs?${params}`);\r\n    const data = await res.json();\r\n    setTotal(data.total || 0);\r\n    setHasMore(Boolean(data.hasMore));\r\n    setPage(data.page || nextPage);\r\n    setJobs((prev) => (reset ? data.items : [...prev, ...data.items]));\r\n    setLoading(false);\r\n  };\r\n\r\n  // initial load - REMOVED (covered by filter change effect)\r\n  // useEffect(() => {\r\n  //   loadJobs(true, 1);\r\n  // }, []);\r\n\r\n  // reload on filter/search change\r\n  useEffect(() => {\r\n    loadJobs(true, 1);\r\n  }, [debouncedSearch, debouncedLocation, filters]);\r\n\r\n  // Fetch dropdown lists (categories/functions)\r\n  useEffect(() => {\r\n    const fetchTaxonomy = async () => {\r\n      try {\r\n        const [catRes, funcRes] = await Promise.all([\r\n          fetch('/api/search?taxonomy=categories'),\r\n          fetch('/api/search?taxonomy=functions'),\r\n        ]);\r\n        if (catRes.ok) {\r\n          const cats = await catRes.json();\r\n          if (Array.isArray(cats)) {\r\n            setCategories([{ label: \"All Categories\", value: \"\" }, ...cats.map((c: any) => ({ label: c.name ?? c, value: c.slug ?? c }))]);\r\n          }\r\n        }\r\n        if (funcRes.ok) {\r\n          const funcs = await funcRes.json();\r\n          if (Array.isArray(funcs)) {\r\n            setFunctions([{ label: \"All Functions\", value: \"\" }, ...funcs.map((f: any) => ({ label: f.name ?? f, value: f.slug ?? f }))]);\r\n          }\r\n        }\r\n      } catch (err) {\r\n        // silent fail, placeholders remain\r\n      }\r\n    };\r\n    fetchTaxonomy();\r\n  }, []);\r\n\r\n  // --- Infinite Scroll Observer ---\r\n  // Triggers loadJobs() when user scrolls to the bottom sentinel\r\n  useEffect(() => {\r\n    if (!filterActive) return;\r\n    const sentinel = sentinelRef.current;\r\n    if (!sentinel) return;\r\n\r\n    const observer = new IntersectionObserver((entries) => {\r\n      const first = entries[0];\r\n      if (first.isIntersecting && hasMore && !loading) {\r\n        loadJobs(false, page + 1);\r\n      }\r\n    }, { threshold: 1 });\r\n\r\n    observer.observe(sentinel);\r\n    return () => observer.disconnect();\r\n  }, [filterActive, hasMore, loading, page]);\r\n\r\n  const toggleFilterDropdown = (key: keyof Filters) => {\r\n    setOpenFilter((prev) => (prev === key ? null : key));\r\n  };\r\n\r\n  const updateFilterSelection = (key: keyof Filters, value: string) => {\r\n    setFilters((prev) => {\r\n      const next = new Set(prev[key]);\r\n      if (next.has(value)) {\r\n        next.delete(value);\r\n      } else {\r\n        next.add(value);\r\n      }\r\n      return { ...prev, [key]: Array.from(next) } as Filters;\r\n    });\r\n    setPage(1);\r\n  };\r\n\r\n  const onFilterChange = (key: keyof Filters, values: string[]) => {\r\n    setFilters((prev) => ({ ...prev, [key]: values }));\r\n    setPage(1);\r\n  };\r\n\r\n  // --- SEARCH BAR LOGIC ---\r\n  const handleSelectSuggestion = (item: SuggestionItem | string) => {\r\n    let value = typeof item === 'string' ? item : item.value;\r\n    let type = typeof item === 'string' ? \"keyword\" : item.type; // default raw text to keyword\r\n\r\n    if (typeof item === 'string') {\r\n        const match = suggestions.find((s) => s.value.toLowerCase() === item.toLowerCase());\r\n        if (match) {\r\n            value = match.value;\r\n            type = match.type;\r\n        } else {\r\n             // Smart Classification: Did user type a Location?\r\n             // Check 1: Explicit patterns (5-digit Zip, or \"City, State\")\r\n             if (/^\\d{5}/.test(value) || value.includes(',')) {\r\n                 type = 'location';\r\n             } else {\r\n                 // Check 2: Implicit Match from Top Suggestion\r\n                 // e.g. User typed \"Austin\" and hit Enter. Top suggestion \"Austin, TX\".\r\n                 // Auto-upgrade to Location search.\r\n                 const bestMatch = suggestions.length > 0 ? suggestions[0] : null;\r\n                 if (bestMatch && bestMatch.type === 'location' && bestMatch.value.toLowerCase().startsWith(value.toLowerCase())) {\r\n                     type = 'location';\r\n                     value = bestMatch.value; // Auto-complete to full location string\r\n                 }\r\n             }\r\n        }\r\n    }\r\n\r\n    setQuery(value);\r\n    setIsFocused(false);\r\n    setSuggestions([]);\r\n    setActiveIndex(-1);\r\n\r\n    // Apply Filter State immediately\r\n    if (type === 'location') {\r\n        setDebouncedLocation(value);\r\n        setDebouncedSearch(\"\"); // clear generic search to enable radius logic\r\n    } else {\r\n        setDebouncedSearch(value);\r\n        setDebouncedLocation(\"\"); // clear location to enable keyword search\r\n    }\r\n  };\r\n\r\n  const handleSearchKeyDown = (e: React.KeyboardEvent) => {\r\n    // --- NAVIGATION KEYS ---\r\n    if (e.key === \"ArrowDown\") {\r\n      if (suggestions.length === 0) return;\r\n      e.preventDefault();\r\n      setActiveIndex((prev) => Math.min(prev + 1, suggestions.length - 1));\r\n    } else if (e.key === \"ArrowUp\") {\r\n      if (suggestions.length === 0) return;\r\n      e.preventDefault();\r\n      setActiveIndex((prev) => Math.max(prev - 1, -1));\r\n    } \r\n    // --- ENTER KEY LOGIC ---\r\n    else if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      if (activeIndex >= 0 && suggestions.length > 0) {\r\n        handleSelectSuggestion(suggestions[activeIndex]);\r\n      } else {\r\n        handleSelectSuggestion(query); // Submit Raw Text (processed by handleSelectSuggestion)\r\n      }\r\n    } \r\n    // --- TAB KEY LOGIC ---\r\n    // Selects the \"Best Match\" (Ghost Text)\r\n    else if (e.key === \"Tab\") {\r\n      if (suggestions.length === 0) return;\r\n      e.preventDefault();\r\n      // Select the active item if one is highlighted, otherwise default to the top suggestion\r\n      const target = activeIndex >= 0 ? suggestions[activeIndex] : suggestions[0];\r\n      handleSelectSuggestion(target);\r\n    } else if (e.key === \"Escape\") {\r\n      setIsFocused(false);\r\n    }\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setFilters({\r\n      radius: [],\r\n      category: [],\r\n      jobFunction: [],\r\n      jobType: [],\r\n      jobLevel: [],\r\n      salary: [],\r\n      workSite: [],\r\n      dateRange: [],\r\n    });\r\n    setQuery(\"\");\r\n    // Effect will clear debounced filters\r\n  };\r\n\r\n  const toggleSavedJob = (jobId: string) => {\r\n    setSavedJobs(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(jobId)) {\r\n        newSet.delete(jobId);\r\n      } else {\r\n        newSet.add(jobId);\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const totalPages = Math.max(1, Math.ceil(total / pageSize));\r\n\r\n  const renderCheckboxDropdown = (key: keyof Filters, label: string, options: Option[]) => {\r\n    const selected = filters[key];\r\n    const isOpen = openFilter === key;\r\n    const cleanOptions = options.filter((opt) => opt.value !== \"\");\r\n    const summary = selected.length === 0 ? label : `${selected.length} Selected`;\r\n    const hasSelection = selected.length > 0;\r\n\r\n    // --- Active Filter Border Logic ---\r\n    // Rule: If a user has selected any filters in this group (selected.length > 0),\r\n    // the border turns RED (\"border-red-500\") to visually indicate active refinement.\r\n    // If no filters are selected, it reverts to the standard teal/gray behavior.\r\n    return (\r\n      <div className=\"relative\" key={key}>\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => toggleFilterDropdown(key)}\r\n          className={`w-full flex items-center justify-between gap-2 rounded-lg border px-3 py-2 text-sm bg-white shadow-sm transition-colors ${\r\n            hasSelection ? \"border-red-500 hover:border-red-600\" : isOpen ? \"border-primary-teal\" : \"border-gray-200 hover:border-gray-300\"\r\n          }`}\r\n        >\r\n          <span className={`font-medium ${hasSelection ? \"text-navy\" : \"text-gray-700\"}`}>{summary}</span>\r\n          <span className={`text-xs text-gray-500 transition-transform ${isOpen ? \"rotate-180\" : \"\"}`}>▾</span>\r\n        </button>\r\n        {isOpen && (\r\n          <div className=\"absolute z-50 mt-2 w-full min-w-[200px] rounded-lg border border-gray-200 bg-white shadow-lg max-h-[60vh] overflow-y-auto transform origin-top-left\">\r\n            <div className=\"py-2 text-sm\">\r\n              {cleanOptions.map((opt) => {\r\n                const checked = selected.includes(opt.value);\r\n                return (\r\n                  <label\r\n                    key={opt.value}\r\n                    className={`flex items-center gap-3 px-3 py-2 hover:bg-gray-50 cursor-pointer ${checked ? \"bg-gray-50\" : \"\"}`}\r\n                  >\r\n                    <span className=\"h-4 w-4 rounded border border-gray-300 flex items-center justify-center bg-white\">\r\n                      {checked && <Check size={14} className=\"text-primary-teal\" />}\r\n                    </span>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"sr-only\"\r\n                      checked={checked}\r\n                      onChange={() => updateFilterSelection(key, opt.value)}\r\n                    />\r\n                    <span className=\"text-gray-700\">{opt.label}</span>\r\n                  </label>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderFilterRows = () => (\r\n    <div className=\"space-y-3\" ref={filterPanelRef}>\r\n      {/* Mobile Header: Show Filters + Clear All */}\r\n      <div className=\"flex flex-row lg:hidden items-center justify-between w-full mb-2\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 font-medium hover:bg-gray-50 transition-colors shadow-sm\"\r\n          onClick={() => setShowMobileFilters(!showMobileFilters)}\r\n        >\r\n          <Filter size={16} />\r\n          {showMobileFilters ? \"Hide Filters\" : \"Show Filters\"}\r\n        </button>\r\n\r\n        {filterActive && (\r\n          <button\r\n            onClick={clearFilters}\r\n            className=\"flex items-center gap-1.5 px-4 py-2 text-sm text-primary-teal font-medium bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 transition-colors\"\r\n          >\r\n            <FilterX size={16} />\r\n            Clear all filters\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"flex flex-col gap-3 lg:flex-row lg:items-start\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-3 flex-1\">\r\n        {/* --- Jobs Page Search Box Styling --- \r\n            Similar to Home Page, this box turns RED (\"border-red-500\") on focus. \r\n            Also includes pulsating border animation when not focused to draw attention.\r\n        */}\r\n        <div className={`col-span-1 lg:col-span-2 flex items-center gap-2 rounded-lg border px-3 py-2 bg-white shadow-sm relative transition-colors ${isFocused ? \"border-red-500\" : \"border-gray-200 pulse-border\"}`}>\r\n          <Search size={16} className=\"text-gray-400\" />\r\n          {!isMobile && isFocused && (\r\n            <div className=\"absolute inset-0 pl-7 pr-3 py-2 flex items-center pointer-events-none z-10\">\r\n              {inlineSuggestion && (\r\n                 <>\r\n                   <span className=\"text-transparent whitespace-pre\">{query}</span>\r\n                   <span className=\"text-gray-400 opacity-60 whitespace-pre\">{inlineSuggestion}</span>\r\n                   <span className=\"ml-2 text-[10px] bg-gray-50 text-gray-400 px-1.5 py-0.5 rounded border border-gray-200 shadow-sm font-mono tracking-wider opacity-70\">TAB</span>\r\n                 </>\r\n              )}\r\n              {/* Fallback for non-prefix matches (e.g. Zip codes, State codes) where inline text doesn't align but Tab still works */}\r\n              {!inlineSuggestion && suggestions.length > 0 && (\r\n                 <div className=\"flex-1 text-right\">\r\n                    <span className=\"text-[10px] bg-gray-50 text-gray-400 px-1.5 py-0.5 rounded border border-gray-200 shadow-sm font-mono tracking-wider opacity-70\">TAB</span>\r\n                 </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          <input\r\n            className=\"w-full focus:outline-none text-sm bg-transparent relative z-20\"\r\n            placeholder={animatedPlaceholder}\r\n            value={query}\r\n            onChange={(e) => { setQuery(e.target.value); setActiveIndex(-1); }}\r\n            onKeyDown={handleSearchKeyDown}\r\n            onFocus={() => setIsFocused(true)}\r\n            onBlur={() => setTimeout(() => setIsFocused(false), 200)}\r\n          />\r\n          {!isMobile && isFocused && suggestions.length > 0 && (\r\n            <div className=\"absolute top-full left-0 right-0 bg-white mt-2 rounded-lg shadow-xl border border-gray-100 overflow-hidden text-left z-50\">\r\n              <ul>\r\n                {suggestions.map((item, idx) => (\r\n                  <li key={idx}>\r\n                    <button\r\n                      type=\"button\"\r\n                      className={`w-full px-4 py-2 hover:bg-gray-50 text-gray-700 text-sm flex items-center gap-2 ${idx === activeIndex ? \"bg-gray-100 ring-1 ring-inset ring-gray-200\" : \"\"}`}\r\n                      onClick={() => handleSelectSuggestion(item)}\r\n                      onMouseEnter={() => setActiveIndex(idx)}\r\n                    >\r\n                      {item.type === 'location' ? <MapPin size={14} className=\"text-gray-400\" /> : <Search size={14} className=\"text-gray-400\" />}\r\n                      {item.value}\r\n                    </button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n\r\n\r\n        {/* Collapsible Mobile Filters */}\r\n        <div className={`contents lg:contents ${!showMobileFilters ? \"hidden lg:contents\" : \"\"}`}>\r\n          {renderCheckboxDropdown('radius', 'Radius', radiusOptions)}\r\n          {renderCheckboxDropdown('category', 'Category', categories)}\r\n        </div>\r\n      </div>\r\n        {filterActive && (\r\n          <div className=\"hidden lg:flex lg:flex-col items-end lg:items-start\">\r\n            <button\r\n              onClick={clearFilters}\r\n              className=\"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 text-sm text-gray-600 hover:border-primary-teal/40 hover:text-primary-teal w-full lg:w-auto whitespace-nowrap\"\r\n            >\r\n              <Filter size={16} /> Reset all filters\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {isMobile && isFocused && suggestions.length > 0 && (\r\n        <div className=\"flex gap-2 p-2 overflow-x-auto border border-gray-100 bg-white rounded-lg shadow-sm\">\r\n          {suggestions.map((item, idx) => (\r\n            <button\r\n              key={idx}\r\n              type=\"button\"\r\n              onClick={() => handleSelectSuggestion(item)}\r\n              className=\"px-4 py-2 bg-gray-50 text-gray-700 text-sm rounded-full border border-gray-200 whitespace-nowrap active:bg-blue-50 active:border-blue-200 transition-colors flex items-center gap-2\"\r\n            >\r\n              {item.type === 'location' ? <MapPin size={14} className=\"text-gray-400\" /> : <Search size={14} className=\"text-gray-400\" />}\r\n              {item.value}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      <div className={`grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-3 ${!showMobileFilters ? \"hidden lg:grid\" : \"\"}`}>\r\n        {renderCheckboxDropdown('jobFunction', 'Function', functions)}\r\n\r\n        {renderCheckboxDropdown('jobType', 'Job Type', jobTypeOptions)}\r\n        {renderCheckboxDropdown('workSite', 'Work Site', workSiteOptions)}\r\n        {renderCheckboxDropdown('jobLevel', 'Job Level', jobLevelOptions)}\r\n        {renderCheckboxDropdown('salary', 'Salary', salaryOptions)}\r\n        {renderCheckboxDropdown('dateRange', 'Date Range', dateOptions)}\r\n      </div>\r\n\r\n      {(() => {\r\n        const selectedEntries = (Object.entries(filters) as [keyof Filters, string[]][]) \r\n          .flatMap(([key, values]) => values.map((value) => ({ key, value, label: findLabel(key, value) })));\r\n        if (selectedEntries.length === 0) return null;\r\n        return (\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {selectedEntries.map((item, idx) => (\r\n              <button\r\n                key={`${item.key}-${item.value}-${idx}`}\r\n                type=\"button\"\r\n                onClick={() => updateFilterSelection(item.key, item.value)}\r\n                className=\"inline-flex items-center gap-2 px-3 py-1.5 rounded-full border border-gray-200 bg-white text-xs text-gray-700 hover:border-primary-teal hover:text-primary-teal shadow-sm\"\r\n              >\r\n                <span className=\"font-medium\">{item.label}</span>\r\n                <span className=\"text-gray-400\">✕</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        );\r\n      })()}\r\n    </div>\r\n  );\r\n\r\n  const renderJobCard = (job: JobItem) => {\r\n    const applyHref = (typeof job.applyUrl === 'string' && job.applyUrl) || (typeof job.slug === 'string' && job.slug ? `/jobs/${job.slug}` : \"#\");\r\n    const postedText = daysAgo(job.createdAt);\r\n\r\n    return (\r\n      <div key={job.id} className=\"bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-all\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"space-y-1\">\r\n            <h3 className=\"text-xl font-semibold text-navy flex items-center gap-2\">\r\n              {job.title || 'Untitled role'}\r\n              {job.featured && (\r\n                <span className=\"text-xs font-semibold text-yellow-700 bg-accent-yellow/30 px-2 py-1 rounded-full\">Featured</span>\r\n              )}\r\n            </h3>\r\n            <p className=\"text-gray-600 font-medium\">{job.organization || job.company || 'Organization unknown'}</p>\r\n            <div className=\"flex items-center gap-2 text-sm text-gray-500\">\r\n              <MapPin size={16} className=\"text-primary-teal\" />\r\n              <span>{job.location || 'Location unavailable'}</span>\r\n              {postedText && <span className=\"ml-2 text-xs text-gray-400\">{postedText}</span>}\r\n            </div>\r\n          </div>\r\n          <button \r\n            onClick={() => toggleSavedJob(job.id)}\r\n            className={`flex items-center gap-2 px-3 py-2 rounded-full border transition-colors ${\r\n              savedJobs.has(job.id) \r\n                ? \"border-green-500 text-green-700 bg-green-50\" \r\n                : \"border-gray-200 text-gray-500 hover:text-primary-teal hover:border-primary-teal/40\"\r\n            }`}\r\n          >\r\n            <Bookmark size={16} className={savedJobs.has(job.id) ? \"text-green-600\" : \"\"} />\r\n            <span className={`text-sm font-medium ${savedJobs.has(job.id) ? \"font-bold text-green-700\" : \"\"}`}>\r\n              {savedJobs.has(job.id) ? \"Saved ✓\" : \"Save job\"}\r\n            </span>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"mt-3 flex flex-wrap items-center gap-3 text-sm text-gray-700\">\r\n          {job.salaryRange && <span className=\"font-semibold\">Annual Salary: {job.salaryRange}</span>}\r\n          {job.openingDate && <span className=\"flex items-center gap-1 text-gray-500 text-xs\">Opening: {formatDate(job.openingDate)}</span>}\r\n          {job.closingDate && <span className=\"flex items-center gap-1 text-gray-500 text-xs\">Closing: {formatDate(job.closingDate)}</span>}\r\n          {job.reviewingDate && <span className=\"flex items-center gap-1 text-gray-500 text-xs\">Reviewing: {formatDate(job.reviewingDate)}</span>}\r\n        </div>\r\n\r\n        {/* --- Job Tags & Quick Filters (Dual Functionality) --- \r\n            These tags serve two purposes:\r\n            1. Display Metadata: Show details like Category, Function, Level, etc.\r\n            2. Quick Filtering: Clicking a tag immediately filters the job list by that value.\r\n               - Active State: If the filter is active, the tag gets a RED border (\"border-red-500\").\r\n               - Inactive State: Default pastel colors based on type.\r\n        */}\r\n        <div className=\"mt-4 flex justify-between items-center text-xs font-semibold\">\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {job.jobCategory?.name && (\r\n              <button\r\n                onClick={() => updateFilterSelection('category', job.jobCategory!.slug)}\r\n                className={`px-3 py-1 rounded-md bg-gray-50 text-gray-600 border transition-colors cursor-pointer ${\r\n                  filters.category.includes(job.jobCategory!.slug) \r\n                    ? \"border-red-500 ring-1 ring-red-500\" \r\n                    : \"border-gray-200 hover:bg-gray-100 hover:border-gray-300\"\r\n                }`}\r\n              >\r\n                {job.jobCategory.name}\r\n              </button>\r\n            )}\r\n            {job.jobFunction?.name && (\r\n              <button\r\n                onClick={() => updateFilterSelection('jobFunction', job.jobFunction!.slug)}\r\n                className={`px-3 py-1 rounded-md bg-orange-50 text-orange-700 border transition-colors cursor-pointer ${\r\n                  filters.jobFunction.includes(job.jobFunction!.slug)\r\n                    ? \"border-red-500 ring-1 ring-red-500\"\r\n                    : \"border-orange-100 hover:bg-orange-100 hover:border-orange-200\"\r\n                }`}\r\n              >\r\n                {job.jobFunction.name}\r\n              </button>\r\n            )}\r\n            {job.type && (\r\n              <button\r\n                onClick={() => updateFilterSelection('jobType', job.type!)}\r\n                className={`px-3 py-1 rounded-md bg-blue-50 text-blue-700 border transition-colors cursor-pointer ${\r\n                  filters.jobType.includes(job.type!)\r\n                    ? \"border-red-500 ring-1 ring-red-500\"\r\n                    : \"border-blue-100 hover:bg-blue-100 hover:border-blue-200\"\r\n                }`}\r\n              >\r\n                {job.type.replace(/_/g, ' ')}\r\n              </button>\r\n            )}\r\n            {job.workspace && (\r\n              <button\r\n                onClick={() => updateFilterSelection('workSite', job.workspace!)}\r\n                className={`px-3 py-1 rounded-md bg-green-50 text-green-700 border transition-colors cursor-pointer ${\r\n                  filters.workSite.includes(job.workspace!)\r\n                    ? \"border-red-500 ring-1 ring-red-500\"\r\n                    : \"border-green-100 hover:bg-green-100 hover:border-green-200\"\r\n                }`}\r\n              >\r\n                {job.workspace}\r\n              </button>\r\n            )}\r\n            {job.level && (\r\n              <button\r\n                onClick={() => updateFilterSelection('jobLevel', job.level!)}\r\n                className={`px-3 py-1 rounded-md bg-purple-50 text-purple-700 border transition-colors cursor-pointer ${\r\n                  filters.jobLevel.includes(job.level!)\r\n                    ? \"border-red-500 ring-1 ring-red-500\"\r\n                    : \"border-purple-100 hover:bg-purple-100 hover:border-purple-200\"\r\n                }`}\r\n              >\r\n                {job.level}\r\n              </button>\r\n            )}\r\n          </div>\r\n          <Link href={applyHref} className=\"inline-flex items-center gap-2 bg-primary-teal text-white px-4 py-2 rounded-lg hover:bg-primary-teal/90 transition-colors text-sm font-semibold\">\r\n            Apply Now\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-50 min-h-screen\">\r\n      <div className=\"sticky top-0 z-20 border-b border-gray-200 bg-white/95 backdrop-blur shadow-sm\">\r\n        <div className=\"container mx-auto px-4 py-4 space-y-3\">\r\n          <div className=\"flex flex-col lg:flex-row gap-3 items-start lg:items-center\">\r\n            <h1 className=\"text-lg font-semibold text-navy\">Browse Jobs</h1>\r\n            <div className=\"flex-1\" />\r\n            <button\r\n              onClick={clearFilters}\r\n              className=\"hidden lg:inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 text-sm text-gray-600 hover:border-primary-teal/40 hover:text-primary-teal\"\r\n            >\r\n              <Filter size={16} /> Clear all filters\r\n            </button>\r\n          </div>\r\n          {renderFilterRows()}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container mx-auto px-4 py-8 space-y-6\">\r\n        <div>\r\n          <h2 className=\"text-3xl font-bold text-navy\">{total} Jobs Found</h2>\r\n          <p className=\"text-gray-600\">Explore career opportunities with leading employers</p>\r\n        </div>\r\n\r\n        <div className=\"space-y-4\">\r\n          {jobs.map(renderJobCard)}\r\n          {loading && <div className=\"text-center text-gray-500 text-sm\">Loading...</div>}\r\n          {!loading && jobs.length === 0 && (\r\n            <div className=\"text-center text-gray-500 text-sm py-8\">No jobs match your criteria.</div>\r\n          )}\r\n        </div>\r\n\r\n        {!filterActive && totalPages > 1 && (\r\n          <div className=\"flex items-center justify-center gap-3 pt-4\">\r\n            <button\r\n              className=\"flex items-center gap-1 px-3 py-2 rounded border border-gray-200 text-sm disabled:opacity-50\"\r\n              disabled={page === 1 || loading}\r\n              onClick={() => loadJobs(false, page - 1)}\r\n            >\r\n              <ArrowLeft size={14} /> Prev\r\n            </button>\r\n            <span className=\"text-sm text-gray-600\">Page {page} of {totalPages}</span>\r\n            <button\r\n              className=\"flex items-center gap-1 px-3 py-2 rounded border border-gray-200 text-sm disabled:opacity-50\"\r\n              disabled={page >= totalPages || loading}\r\n              onClick={() => loadJobs(false, page + 1)}\r\n            >\r\n              Next <ArrowRight size={14} />\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {filterActive && <div ref={sentinelRef} className=\"h-4\" />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function JobsPage() {\r\n  return (\r\n    <Suspense fallback={<div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-8 text-gray-500\">Loading jobs...</div>}>\r\n      <JobsPageContent />\r\n    </Suspense>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FilterX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMuMDEzIDNIMmw4IDkuNDZWMTlsNCAydi04LjU0bC45LTEuMDU1IiAvPgogIDxwYXRoIGQ9Im0yMiAzLTUgNSIgLz4KICA8cGF0aCBkPSJtMTcgMyA1IDUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/filter-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FilterX = createLucideIcon('FilterX', [\n  ['path', { d: 'M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055', key: '1fi1da' }],\n  ['path', { d: 'm22 3-5 5', key: '12jva0' }],\n  ['path', { d: 'm17 3 5 5', key: 'k36vhe' }],\n]);\n\nexport default FilterX;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Bookmark\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTkgMjEtNy00LTcgNFY1YTIgMiAwIDAgMSAyLTJoMTBhMiAyIDAgMCAxIDIgMnYxNnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bookmark\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bookmark = createLucideIcon('Bookmark', [\n  ['path', { d: 'm19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z', key: '1fy3hk' }],\n]);\n\nexport default Bookmark;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Filter\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjIyIDMgMiAzIDEwIDEyLjQ2IDEwIDE5IDE0IDIxIDE0IDEyLjQ2IDIyIDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/filter\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Filter = createLucideIcon('Filter', [\n  ['polygon', { points: '22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3', key: '1yg77f' }],\n]);\n\nexport default Filter;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJtMTIgNSA3IDctNyA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRight = createLucideIcon('ArrowRight', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'm12 5 7 7-7 7', key: 'xquz4c' }],\n]);\n\nexport default ArrowRight;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('Check', [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]]);\n\nexport default Check;\n"],"names":[],"mappings":"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","ignoreList":[1,2,3,4,5,6]}