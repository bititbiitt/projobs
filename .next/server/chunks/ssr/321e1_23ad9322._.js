module.exports=[11310,(a,b,c)=>{function d(a,b,c,o,p){if(a===b)return a?[[0,a]]:[];if(null!=c){var q=function(a,b,c){var d="number"==typeof c?{index:c,length:0}:c.oldRange,e="number"==typeof c?null:c.newRange,f=a.length,g=b.length;if(0===d.length&&(null===e||0===e.length)){var h=d.index,i=a.slice(0,h),j=a.slice(h),k=e?e.index:null;a:{var l=h+g-f;if(null!==k&&k!==l||l<0||l>g)break a;var m=b.slice(0,l),n=b.slice(l);if(n!==j)break a;var o=Math.min(h,l),p=i.slice(0,o),q=m.slice(0,o);if(p!==q)break a;var r=i.slice(o),t=m.slice(o);return s(p,r,t,j)}b:if(null===k||k===h){var m=b.slice(0,h),n=b.slice(h);if(m!==i)break b;var u=Math.min(f-h,g-h),v=j.slice(j.length-u),w=n.slice(n.length-u);if(v!==w)break b;var r=j.slice(0,j.length-u),t=n.slice(0,n.length-u);return s(i,r,t,v)}}if(d.length>0&&e&&0===e.length)c:{var p=a.slice(0,d.index),v=a.slice(d.index+d.length),o=p.length,u=v.length;if(g<o+u)break c;var q=b.slice(0,o),w=b.slice(g-u);if(p!==q||v!==w)break c;var r=a.slice(o,f-u),t=b.slice(o,g-u);return s(p,r,t,v)}return null}(a,b,c);if(q)return q}var r=f(a,b),t=a.substring(0,r);r=h(a=a.substring(r),b=b.substring(r));var u=a.substring(a.length-r),v=function(a,b){if(!a)return[[1,b]];if(!b)return[[-1,a]];var c,g=a.length>b.length?a:b,i=a.length>b.length?b:a,j=g.indexOf(i);if(-1!==j)return c=[[1,g.substring(0,j)],[0,i],[1,g.substring(j+i.length)]],a.length>b.length&&(c[0][0]=c[2][0]=-1),c;if(1===i.length)return[[-1,a],[1,b]];var k=function(a,b){var c,d,e,g,i,j=a.length>b.length?a:b,k=a.length>b.length?b:a;if(j.length<4||2*k.length<j.length)return null;function l(a,b,c){for(var d,e,g,i,j=a.substring(c,c+Math.floor(a.length/4)),k=-1,l="";-1!==(k=b.indexOf(j,k+1));){var m=f(a.substring(c),b.substring(k)),n=h(a.substring(0,c),b.substring(0,k));l.length<n+m&&(l=b.substring(k-n,k)+b.substring(k,k+m),d=a.substring(0,c-n),e=a.substring(c+m),g=b.substring(0,k-n),i=b.substring(k+m))}return 2*l.length>=a.length?[d,e,g,i,l]:null}var m=l(j,k,Math.ceil(j.length/4)),n=l(j,k,Math.ceil(j.length/2));return m||n?(c=n?m&&m[4].length>n[4].length?m:n:m,a.length>b.length?(d=c[0],e=c[1],g=c[2],i=c[3]):(g=c[0],i=c[1],d=c[2],e=c[3]),[d,e,g,i,c[4]]):null}(a,b);if(k){var l=k[0],m=k[1],n=k[2],o=k[3],p=k[4],q=d(l,n),r=d(m,o);return q.concat([[0,p]],r)}return function(a,b){for(var c=a.length,d=b.length,f=Math.ceil((c+d)/2),g=2*f,h=Array(g),i=Array(g),j=0;j<g;j++)h[j]=-1,i[j]=-1;h[f+1]=0,i[f+1]=0;for(var k=c-d,l=k%2!=0,m=0,n=0,o=0,p=0,q=0;q<f;q++){for(var r=-q+m;r<=q-n;r+=2){for(var s,t=f+r,u=(s=r===-q||r!==q&&h[t-1]<h[t+1]?h[t+1]:h[t-1]+1)-r;s<c&&u<d&&a.charAt(s)===b.charAt(u);)s++,u++;if(h[t]=s,s>c)n+=2;else if(u>d)m+=2;else if(l){var v=f+k-r;if(v>=0&&v<g&&-1!==i[v]){var w=c-i[v];if(s>=w)return e(a,b,s,u)}}}for(var x=-q+o;x<=q-p;x+=2){for(var w,v=f+x,y=(w=x===-q||x!==q&&i[v-1]<i[v+1]?i[v+1]:i[v-1]+1)-x;w<c&&y<d&&a.charAt(c-w-1)===b.charAt(d-y-1);)w++,y++;if(i[v]=w,w>c)p+=2;else if(y>d)o+=2;else if(!l){var t=f+k-x;if(t>=0&&t<g&&-1!==h[t]){var s=h[t],u=f+s-t;if(s>=(w=c-w))return e(a,b,s,u)}}}}return[[-1,a],[1,b]]}(a,b)}(a=a.substring(0,a.length-r),b=b.substring(0,b.length-r));return t&&v.unshift([0,t]),u&&v.push([0,u]),n(v,p),o&&function(a){for(var b=!1,c=[],d=0,e=null,f=0,o=0,p=0,q=0,r=0;f<a.length;)0==a[f][0]?(c[d++]=f,o=q,p=r,q=0,r=0,e=a[f][1]):(1==a[f][0]?q+=a[f][1].length:r+=a[f][1].length,e&&e.length<=Math.max(o,p)&&e.length<=Math.max(q,r)&&(a.splice(c[d-1],0,[-1,e]),a[c[d-1]+1][0]=1,d--,f=--d>0?c[d-1]:-1,o=0,p=0,q=0,r=0,e=null,b=!0)),f++;for(b&&n(a),function(a){function b(a,b){if(!a||!b)return 6;var c=a.charAt(a.length-1),d=b.charAt(0),e=c.match(i),f=d.match(i),g=e&&c.match(j),h=f&&d.match(j),n=g&&c.match(k),o=h&&d.match(k),p=n&&a.match(l),q=o&&b.match(m);if(p||q)return 5;if(n||o)return 4;if(e&&!g&&h)return 3;if(g||h)return 2;if(e||f)return 1;return 0}for(var c=1;c<a.length-1;){if(0==a[c-1][0]&&0==a[c+1][0]){var d=a[c-1][1],e=a[c][1],f=a[c+1][1],g=h(d,e);if(g){var n=e.substring(e.length-g);d=d.substring(0,d.length-g),e=n+e.substring(0,e.length-g),f=n+f}for(var o=d,p=e,q=f,r=b(d,e)+b(e,f);e.charAt(0)===f.charAt(0);){d+=e.charAt(0),e=e.substring(1)+f.charAt(0),f=f.substring(1);var s=b(d,e)+b(e,f);s>=r&&(r=s,o=d,p=e,q=f)}a[c-1][1]!=o&&(o?a[c-1][1]=o:(a.splice(c-1,1),c--),a[c][1]=p,q?a[c+1][1]=q:(a.splice(c+1,1),c--))}c++}}(a),f=1;f<a.length;){if(-1==a[f-1][0]&&1==a[f][0]){var s=a[f-1][1],t=a[f][1],u=g(s,t),v=g(t,s);u>=v?(u>=s.length/2||u>=t.length/2)&&(a.splice(f,0,[0,t.substring(0,u)]),a[f-1][1]=s.substring(0,s.length-u),a[f+1][1]=t.substring(u),f++):(v>=s.length/2||v>=t.length/2)&&(a.splice(f,0,[0,s.substring(0,v)]),a[f-1][0]=1,a[f-1][1]=t.substring(0,t.length-v),a[f+1][0]=-1,a[f+1][1]=s.substring(v),f++),f++}f++}}(v),v}function e(a,b,c,e){var f=a.substring(0,c),g=b.substring(0,e),h=a.substring(c),i=b.substring(e),j=d(f,g),k=d(h,i);return j.concat(k)}function f(a,b){if(!a||!b||a.charAt(0)!==b.charAt(0))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;c<e;)a.substring(f,e)==b.substring(f,e)?f=c=e:d=e,e=Math.floor((d-c)/2+c);return o(a.charCodeAt(e-1))&&e--,e}function g(a,b){var c=a.length,d=b.length;if(0==c||0==d)return 0;c>d?a=a.substring(c-d):c<d&&(b=b.substring(0,c));var e=Math.min(c,d);if(a==b)return e;for(var f=0,g=1;;){var h=a.substring(e-g),i=b.indexOf(h);if(-1==i)return f;g+=i,(0==i||a.substring(e-g)==b.substring(0,g))&&(f=g,g++)}}function h(a,b){if(!a||!b||a.slice(-1)!==b.slice(-1))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;c<e;)a.substring(a.length-e,a.length-f)==b.substring(b.length-e,b.length-f)?f=c=e:d=e,e=Math.floor((d-c)/2+c);return p(a.charCodeAt(a.length-e))&&e--,e}var i=/[^a-zA-Z0-9]/,j=/\s/,k=/[\r\n]/,l=/\n\r?\n$/,m=/^\r?\n\r?\n/;function n(a,b){a.push([0,""]);for(var c,d=0,e=0,g=0,i="",j="";d<a.length;){if(d<a.length-1&&!a[d][1]){a.splice(d,1);continue}switch(a[d][0]){case 1:g++,j+=a[d][1],d++;break;case -1:e++,i+=a[d][1],d++;break;case 0:var k=d-g-e-1;if(b){if(k>=0&&r(a[k][1])){var l=a[k][1].slice(-1);if(a[k][1]=a[k][1].slice(0,-1),i=l+i,j=l+j,!a[k][1]){a.splice(k,1),d--;var m=k-1;a[m]&&1===a[m][0]&&(g++,j=a[m][1]+j,m--),a[m]&&-1===a[m][0]&&(e++,i=a[m][1]+i,m--),k=m}}if(q(a[d][1])){var l=a[d][1].charAt(0);a[d][1]=a[d][1].slice(1),i+=l,j+=l}}if(d<a.length-1&&!a[d][1]){a.splice(d,1);break}if(i.length>0||j.length>0){i.length>0&&j.length>0&&(0!==(c=f(j,i))&&(k>=0?a[k][1]+=j.substring(0,c):(a.splice(0,0,[0,j.substring(0,c)]),d++),j=j.substring(c),i=i.substring(c)),0!==(c=h(j,i))&&(a[d][1]=j.substring(j.length-c)+a[d][1],j=j.substring(0,j.length-c),i=i.substring(0,i.length-c)));var o=g+e;0===i.length&&0===j.length?(a.splice(d-o,o),d-=o):0===i.length?(a.splice(d-o,o,[1,j]),d=d-o+1):0===j.length?(a.splice(d-o,o,[-1,i]),d=d-o+1):(a.splice(d-o,o,[-1,i],[1,j]),d=d-o+2)}0!==d&&0===a[d-1][0]?(a[d-1][1]+=a[d][1],a.splice(d,1)):d++,g=0,e=0,i="",j=""}}""===a[a.length-1][1]&&a.pop();var p=!1;for(d=1;d<a.length-1;)0===a[d-1][0]&&0===a[d+1][0]&&(a[d][1].substring(a[d][1].length-a[d-1][1].length)===a[d-1][1]?(a[d][1]=a[d-1][1]+a[d][1].substring(0,a[d][1].length-a[d-1][1].length),a[d+1][1]=a[d-1][1]+a[d+1][1],a.splice(d-1,1),p=!0):a[d][1].substring(0,a[d+1][1].length)==a[d+1][1]&&(a[d-1][1]+=a[d+1][1],a[d][1]=a[d][1].substring(a[d+1][1].length)+a[d+1][1],a.splice(d+1,1),p=!0)),d++;p&&n(a,b)}function o(a){return a>=55296&&a<=56319}function p(a){return a>=56320&&a<=57343}function q(a){return p(a.charCodeAt(0))}function r(a){return o(a.charCodeAt(a.length-1))}function s(a,b,c,d){if(r(a)||q(d))return null;for(var e=[[0,a],[-1,b],[1,c],[0,d]],f=[],g=0;g<e.length;g++)e[g][1].length>0&&f.push(e[g]);return f}function t(a,b,c,e){return d(a,b,c,e,!0)}t.INSERT=1,t.DELETE=-1,t.EQUAL=0,b.exports=t},11576,(a,b,c)=>{var d,e="__lodash_hash_undefined__",f="[object Arguments]",g="[object Boolean]",h="[object Date]",i="[object Function]",j="[object GeneratorFunction]",k="[object Map]",l="[object Number]",m="[object Object]",n="[object Promise]",o="[object RegExp]",p="[object Set]",q="[object String]",r="[object Symbol]",s="[object WeakMap]",t="[object ArrayBuffer]",u="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",y="[object Int16Array]",z="[object Int32Array]",A="[object Uint8Array]",B="[object Uint8ClampedArray]",C="[object Uint16Array]",D="[object Uint32Array]",E=/\w*$/,F=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,H={};H[f]=H["[object Array]"]=H[t]=H[u]=H[g]=H[h]=H[v]=H[w]=H[x]=H[y]=H[z]=H[k]=H[l]=H[m]=H[o]=H[p]=H[q]=H[r]=H[A]=H[B]=H[C]=H[D]=!0,H["[object Error]"]=H[i]=H[s]=!1;var I=a.g&&a.g.Object===Object&&a.g,J="object"==typeof self&&self&&self.Object===Object&&self,K=I||J||Function("return this")(),L=c&&!c.nodeType&&c,M=L&&b&&!b.nodeType&&b,N=M&&M.exports===L;function O(a,b){return a.set(b[0],b[1]),a}function P(a,b){return a.add(b),a}function Q(a,b,c,d){var e=-1,f=a?a.length:0;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function R(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(a){}return b}function S(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function T(a,b){return function(c){return a(b(c))}}function U(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}var V=Array.prototype,W=Function.prototype,X=Object.prototype,Y=K["__core-js_shared__"],Z=(d=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",$=W.toString,_=X.hasOwnProperty,aa=X.toString,ab=RegExp("^"+$.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ac=N?K.Buffer:void 0,ad=K.Symbol,ae=K.Uint8Array,af=T(Object.getPrototypeOf,Object),ag=Object.create,ah=X.propertyIsEnumerable,ai=V.splice,aj=Object.getOwnPropertySymbols,ak=ac?ac.isBuffer:void 0,al=T(Object.keys,Object),am=aI(K,"DataView"),an=aI(K,"Map"),ao=aI(K,"Promise"),ap=aI(K,"Set"),aq=aI(K,"WeakMap"),ar=aI(Object,"create"),as=aM(am),at=aM(an),au=aM(ao),av=aM(ap),aw=aM(aq),ax=ad?ad.prototype:void 0,ay=ax?ax.valueOf:void 0;function az(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function aA(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function aB(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function aC(a){this.__data__=new aA(a)}function aD(a,b,c){var d=a[b];_.call(a,b)&&aN(d,c)&&(void 0!==c||b in a)||(a[b]=c)}function aE(a,b){for(var c=a.length;c--;)if(aN(a[c][0],b))return c;return -1}function aF(a){var b=new a.constructor(a.byteLength);return new ae(b).set(new ae(a)),b}function aG(a,b,c,d){c||(c={});for(var e=-1,f=b.length;++e<f;){var g=b[e],h=d?d(c[g],a[g],g,c,a):void 0;aD(c,g,void 0===h?a[g]:h)}return c}function aH(a,b){var c,d,e=a.__data__;return("string"==(d=typeof(c=b))||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==c:null===c)?e["string"==typeof b?"string":"hash"]:e.map}function aI(a,b){var c,d=null==a?void 0:a[b];return!(!aS(d)||(c=d,Z&&Z in c))&&(aR(d)||R(d)?ab:F).test(aM(d))?d:void 0}az.prototype.clear=function(){this.__data__=ar?ar(null):{}},az.prototype.delete=function(a){return this.has(a)&&delete this.__data__[a]},az.prototype.get=function(a){var b=this.__data__;if(ar){var c=b[a];return c===e?void 0:c}return _.call(b,a)?b[a]:void 0},az.prototype.has=function(a){var b=this.__data__;return ar?void 0!==b[a]:_.call(b,a)},az.prototype.set=function(a,b){return this.__data__[a]=ar&&void 0===b?e:b,this},aA.prototype.clear=function(){this.__data__=[]},aA.prototype.delete=function(a){var b=this.__data__,c=aE(b,a);return!(c<0)&&(c==b.length-1?b.pop():ai.call(b,c,1),!0)},aA.prototype.get=function(a){var b=this.__data__,c=aE(b,a);return c<0?void 0:b[c][1]},aA.prototype.has=function(a){return aE(this.__data__,a)>-1},aA.prototype.set=function(a,b){var c=this.__data__,d=aE(c,a);return d<0?c.push([a,b]):c[d][1]=b,this},aB.prototype.clear=function(){this.__data__={hash:new az,map:new(an||aA),string:new az}},aB.prototype.delete=function(a){return aH(this,a).delete(a)},aB.prototype.get=function(a){return aH(this,a).get(a)},aB.prototype.has=function(a){return aH(this,a).has(a)},aB.prototype.set=function(a,b){return aH(this,a).set(a,b),this},aC.prototype.clear=function(){this.__data__=new aA},aC.prototype.delete=function(a){return this.__data__.delete(a)},aC.prototype.get=function(a){return this.__data__.get(a)},aC.prototype.has=function(a){return this.__data__.has(a)},aC.prototype.set=function(a,b){var c=this.__data__;if(c instanceof aA){var d=c.__data__;if(!an||d.length<199)return d.push([a,b]),this;c=this.__data__=new aB(d)}return c.set(a,b),this};var aJ=aj?T(aj,Object):function(){return[]},aK=function(a){return aa.call(a)};function aL(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||X)}function aM(a){if(null!=a){try{return $.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function aN(a,b){return a===b||a!=a&&b!=b}(am&&aK(new am(new ArrayBuffer(1)))!=u||an&&aK(new an)!=k||ao&&aK(ao.resolve())!=n||ap&&aK(new ap)!=p||aq&&aK(new aq)!=s)&&(aK=function(a){var b=aa.call(a),c=b==m?a.constructor:void 0,d=c?aM(c):void 0;if(d)switch(d){case as:return u;case at:return k;case au:return n;case av:return p;case aw:return s}return b});var aO=Array.isArray;function aP(a){var b;return null!=a&&"number"==typeof(b=a.length)&&b>-1&&b%1==0&&b<=0x1fffffffffffff&&!aR(a)}var aQ=ak||function(){return!1};function aR(a){var b=aS(a)?aa.call(a):"";return b==i||b==j}function aS(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function aT(a){return aP(a)?function(a,b){var c,d,e,g,h,i=aO(a)||(e=d=c=a)&&"object"==typeof e&&aP(d)&&_.call(c,"callee")&&(!ah.call(c,"callee")||aa.call(c)==f)?function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}(a.length,String):[],j=i.length,k=!!j;for(var l in a){_.call(a,l)&&!(k&&("length"==l||(g=l,(h=null==(h=j)?0x1fffffffffffff:h)&&("number"==typeof g||G.test(g))&&g>-1&&g%1==0&&g<h)))&&i.push(l)}return i}(a):function(a){if(!aL(a))return al(a);var b=[];for(var c in Object(a))_.call(a,c)&&"constructor"!=c&&b.push(c);return b}(a)}b.exports=function(a){return function a(b,c,d,e,n,s,F){if(e&&(G=s?e(b,n,s,F):e(b)),void 0!==G)return G;if(!aS(b))return b;var G,I=aO(b);if(I){if(K=(J=b).length,L=J.constructor(K),K&&"string"==typeof J[0]&&_.call(J,"index")&&(L.index=J.index,L.input=J.input),G=L,!c){var J,K,L,M=b,N=G,T=-1,V=M.length;for(N||(N=Array(V));++T<V;)N[T]=M[T];return N}}else{var W,X,Y,Z,$,aa=aK(b),ab=aa==i||aa==j;if(aQ(b)){var ac=b,ad=c;if(ad)return ac.slice();var ae=new ac.constructor(ac.length);return ac.copy(ae),ae}if(aa==m||aa==f||ab&&!s){if(R(b))return s?b:{};if(G="function"!=typeof(W=ab?{}:b).constructor||aL(W)?{}:aS(X=af(W))?ag(X):{},!c){return Y=b,Z=($=G)&&aG(b,aT(b),$),aG(Y,aJ(Y),Z)}}else{if(!H[aa])return s?b:{};G=function(a,b,c,d){var e,f,i,j=a.constructor;switch(b){case t:return aF(a);case g:case h:return new j(+a);case u:return e=d?aF(a.buffer):a.buffer,new a.constructor(e,a.byteOffset,a.byteLength);case v:case w:case x:case y:case z:case A:case B:case C:case D:return f=d?aF(a.buffer):a.buffer,new a.constructor(f,a.byteOffset,a.length);case k:return Q(d?c(S(a),!0):S(a),O,new a.constructor);case l:case q:return new j(a);case o:return(i=new a.constructor(a.source,E.exec(a))).lastIndex=a.lastIndex,i;case p:return Q(d?c(U(a),!0):U(a),P,new a.constructor);case r:return ay?Object(ay.call(a)):{}}}(b,aa,a,c)}}F||(F=new aC);var ah=F.get(b);if(ah)return ah;if(F.set(b,G),!I)var ai=d?function(a){var b;return b=aT(a),aO(a)?b:function(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}(b,aJ(a))}(b):aT(b);return!function(a,b){for(var c=-1,d=a?a.length:0;++c<d&&!1!==b(a[c],c,a););}(ai||b,function(f,g){ai&&(f=b[g=f]),aD(G,g,a(f,c,d,e,g,b,F))}),G}(a,!0,!0)}},736,(a,b,c)=>{var d,e,f,g="__lodash_hash_undefined__",h="[object Arguments]",i="[object Array]",j="[object Boolean]",k="[object Date]",l="[object Error]",m="[object Function]",n="[object Map]",o="[object Number]",p="[object Object]",q="[object Promise]",r="[object RegExp]",s="[object Set]",t="[object String]",u="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",x=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,z={};z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z[h]=z[i]=z[v]=z[j]=z[w]=z[k]=z[l]=z[m]=z[n]=z[o]=z[p]=z[r]=z[s]=z[t]=z[u]=!1;var A=a.g&&a.g.Object===Object&&a.g,B="object"==typeof self&&self&&self.Object===Object&&self,C=A||B||Function("return this")(),D=c&&!c.nodeType&&c,E=D&&b&&!b.nodeType&&b,F=E&&E.exports===D,G=F&&A.process,H=function(){try{return G&&G.binding&&G.binding("util")}catch(a){}}(),I=H&&H.isTypedArray;function J(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function K(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}var L=Array.prototype,M=Function.prototype,N=Object.prototype,O=C["__core-js_shared__"],P=M.toString,Q=N.hasOwnProperty,R=(d=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",S=N.toString,T=RegExp("^"+P.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=F?C.Buffer:void 0,V=C.Symbol,W=C.Uint8Array,X=N.propertyIsEnumerable,Y=L.splice,Z=V?V.toStringTag:void 0,$=Object.getOwnPropertySymbols,_=U?U.isBuffer:void 0,aa=(e=Object.keys,f=Object,function(a){return e(f(a))}),ab=az(C,"DataView"),ac=az(C,"Map"),ad=az(C,"Promise"),ae=az(C,"Set"),af=az(C,"WeakMap"),ag=az(Object,"create"),ah=aC(ab),ai=aC(ac),aj=aC(ad),ak=aC(ae),al=aC(af),am=V?V.prototype:void 0,an=am?am.valueOf:void 0;function ao(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function ap(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function aq(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function ar(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new aq;++b<c;)this.add(a[b])}function as(a){var b=this.__data__=new ap(a);this.size=b.size}function at(a,b){for(var c=a.length;c--;)if(aD(a[c][0],b))return c;return -1}function au(a){var b;return null==a?void 0===a?"[object Undefined]":"[object Null]":Z&&Z in Object(a)?function(a){var b=Q.call(a,Z),c=a[Z];try{a[Z]=void 0;var d=!0}catch(a){}var e=S.call(a);return d&&(b?a[Z]=c:delete a[Z]),e}(a):(b=a,S.call(b))}function av(a){return aK(a)&&au(a)==h}function aw(a,b,c,d,e,f){var g=1&c,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a);if(j&&f.get(b))return j==b;var k=-1,l=!0,m=2&c?new ar:void 0;for(f.set(a,b),f.set(b,a);++k<h;){var n=a[k],o=b[k];if(d)var p=g?d(o,n,k,b,a,f):d(n,o,k,a,b,f);if(void 0!==p){if(p)continue;l=!1;break}if(m){if(!function(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}(b,function(a,b){if(!m.has(b)&&(n===a||e(n,a,c,d,f)))return m.push(b)})){l=!1;break}}else if(!(n===o||e(n,o,c,d,f))){l=!1;break}}return f.delete(a),f.delete(b),l}function ax(a){var b;return b=aM(a),aF(a)?b:function(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}(b,aA(a))}function ay(a,b){var c,d,e=a.__data__;return("string"==(d=typeof(c=b))||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==c:null===c)?e["string"==typeof b?"string":"hash"]:e.map}function az(a,b){var c,d=null==a?void 0:a[b];return!(!aJ(d)||(c=d,R&&R in c))&&(aH(d)?T:x).test(aC(d))?d:void 0}ao.prototype.clear=function(){this.__data__=ag?ag(null):{},this.size=0},ao.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=!!b,b},ao.prototype.get=function(a){var b=this.__data__;if(ag){var c=b[a];return c===g?void 0:c}return Q.call(b,a)?b[a]:void 0},ao.prototype.has=function(a){var b=this.__data__;return ag?void 0!==b[a]:Q.call(b,a)},ao.prototype.set=function(a,b){var c=this.__data__;return this.size+=+!this.has(a),c[a]=ag&&void 0===b?g:b,this},ap.prototype.clear=function(){this.__data__=[],this.size=0},ap.prototype.delete=function(a){var b=this.__data__,c=at(b,a);return!(c<0)&&(c==b.length-1?b.pop():Y.call(b,c,1),--this.size,!0)},ap.prototype.get=function(a){var b=this.__data__,c=at(b,a);return c<0?void 0:b[c][1]},ap.prototype.has=function(a){return at(this.__data__,a)>-1},ap.prototype.set=function(a,b){var c=this.__data__,d=at(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this},aq.prototype.clear=function(){this.size=0,this.__data__={hash:new ao,map:new(ac||ap),string:new ao}},aq.prototype.delete=function(a){var b=ay(this,a).delete(a);return this.size-=!!b,b},aq.prototype.get=function(a){return ay(this,a).get(a)},aq.prototype.has=function(a){return ay(this,a).has(a)},aq.prototype.set=function(a,b){var c=ay(this,a),d=c.size;return c.set(a,b),this.size+=+(c.size!=d),this},ar.prototype.add=ar.prototype.push=function(a){return this.__data__.set(a,g),this},ar.prototype.has=function(a){return this.__data__.has(a)},as.prototype.clear=function(){this.__data__=new ap,this.size=0},as.prototype.delete=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c},as.prototype.get=function(a){return this.__data__.get(a)},as.prototype.has=function(a){return this.__data__.has(a)},as.prototype.set=function(a,b){var c=this.__data__;if(c instanceof ap){var d=c.__data__;if(!ac||d.length<199)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new aq(d)}return c.set(a,b),this.size=c.size,this};var aA=$?function(a){return null==a?[]:function(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}($(a=Object(a)),function(b){return X.call(a,b)})}:function(){return[]},aB=au;function aC(a){if(null!=a){try{return P.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function aD(a,b){return a===b||a!=a&&b!=b}(ab&&aB(new ab(new ArrayBuffer(1)))!=w||ac&&aB(new ac)!=n||ad&&aB(ad.resolve())!=q||ae&&aB(new ae)!=s||af&&aB(new af)!=u)&&(aB=function(a){var b=au(a),c=b==p?a.constructor:void 0,d=c?aC(c):"";if(d)switch(d){case ah:return w;case ai:return n;case aj:return q;case ak:return s;case al:return u}return b});var aE=av(function(){return arguments}())?av:function(a){return aK(a)&&Q.call(a,"callee")&&!X.call(a,"callee")},aF=Array.isArray,aG=_||function(){return!1};function aH(a){if(!aJ(a))return!1;var b=au(a);return b==m||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b}function aI(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=0x1fffffffffffff}function aJ(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function aK(a){return null!=a&&"object"==typeof a}var aL=I?function(a){return I(a)}:function(a){return aK(a)&&aI(a.length)&&!!z[au(a)]};function aM(a){return null!=a&&aI(a.length)&&!aH(a)?function(a,b){var c,d,e=aF(a),f=!e&&aE(a),g=!e&&!f&&aG(a),h=!e&&!f&&!g&&aL(a),i=e||f||g||h,j=i?function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}(a.length,String):[],k=j.length;for(var l in a){Q.call(a,l)&&!(i&&("length"==l||g&&("offset"==l||"parent"==l)||h&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||(c=l,(d=null==(d=k)?0x1fffffffffffff:d)&&("number"==typeof c||y.test(c))&&c>-1&&c%1==0&&c<d)))&&j.push(l)}return j}(a):function(a){if(c=(b=a)&&b.constructor,b!==("function"==typeof c&&c.prototype||N))return aa(a);var b,c,d=[];for(var e in Object(a))Q.call(a,e)&&"constructor"!=e&&d.push(e);return d}(a)}b.exports=function(a,b){return function a(b,c,d,e,f){return b===c||(null!=b&&null!=c&&(aK(b)||aK(c))?function(a,b,c,d,e,f){var g=aF(a),m=aF(b),q=g?i:aB(a),u=m?i:aB(b);q=q==h?p:q,u=u==h?p:u;var x=q==p,y=u==p,z=q==u;if(z&&aG(a)){if(!aG(b))return!1;g=!0,x=!1}if(z&&!x)return f||(f=new as),g||aL(a)?aw(a,b,c,d,e,f):function(a,b,c,d,e,f,g){switch(c){case w:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer,b=b.buffer;case v:if(a.byteLength!=b.byteLength||!f(new W(a),new W(b)))break;return!0;case j:case k:case o:return aD(+a,+b);case l:return a.name==b.name&&a.message==b.message;case r:case t:return a==b+"";case n:var h=J;case s:var i=1&d;if(h||(h=K),a.size!=b.size&&!i)break;var m=g.get(a);if(m)return m==b;d|=2,g.set(a,b);var p=aw(h(a),h(b),d,e,f,g);return g.delete(a),p;case"[object Symbol]":if(an)return an.call(a)==an.call(b)}return!1}(a,b,q,c,d,e,f);if(!(1&c)){var A=x&&Q.call(a,"__wrapped__"),B=y&&Q.call(b,"__wrapped__");if(A||B){var C=A?a.value():a,D=B?b.value():b;return f||(f=new as),e(C,D,c,d,f)}}return!!z&&(f||(f=new as),function(a,b,c,d,e,f){var g=1&c,h=ax(a),i=h.length;if(i!=ax(b).length&&!g)return!1;for(var j=i;j--;){var k=h[j];if(!(g?k in b:Q.call(b,k)))return!1}var l=f.get(a);if(l&&f.get(b))return l==b;var m=!0;f.set(a,b),f.set(b,a);for(var n=g;++j<i;){var o=a[k=h[j]],p=b[k];if(d)var q=g?d(p,o,k,b,a,f):d(o,p,k,a,b,f);if(!(void 0===q?o===p||e(o,p,c,d,f):q)){m=!1;break}n||(n="constructor"==k)}if(m&&!n){var r=a.constructor,s=b.constructor;r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s)&&(m=!1)}return f.delete(a),f.delete(b),m}(a,b,c,d,e,f))}(b,c,d,e,a,f):b!=b&&c!=c)}(a,b)}},72284,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0});let f=a.r(11576),g=a.r(736);(e=d||(d={})).compose=function(a={},b={},c=!1){"object"!=typeof a&&(a={}),"object"!=typeof b&&(b={});let d=f(b);for(let e in c||(d=Object.keys(d).reduce((a,b)=>(null!=d[b]&&(a[b]=d[b]),a),{})),a)void 0!==a[e]&&void 0===b[e]&&(d[e]=a[e]);return Object.keys(d).length>0?d:void 0},e.diff=function(a={},b={}){"object"!=typeof a&&(a={}),"object"!=typeof b&&(b={});let c=Object.keys(a).concat(Object.keys(b)).reduce((c,d)=>(g(a[d],b[d])||(c[d]=void 0===b[d]?null:b[d]),c),{});return Object.keys(c).length>0?c:void 0},e.invert=function(a={},b={}){a=a||{};let c=Object.keys(b).reduce((c,d)=>(b[d]!==a[d]&&void 0!==a[d]&&(c[d]=b[d]),c),{});return Object.keys(a).reduce((c,d)=>(a[d]!==b[d]&&void 0===b[d]&&(c[d]=null),c),c)},e.transform=function(a,b,c=!1){if("object"!=typeof a)return b;if("object"!=typeof b)return;if(!c)return b;let d=Object.keys(b).reduce((c,d)=>(void 0===a[d]&&(c[d]=b[d]),c),{});return Object.keys(d).length>0?d:void 0},c.default=d},74306,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),(d||(d={})).length=function(a){return"number"==typeof a.delete?a.delete:"number"==typeof a.retain?a.retain:"object"==typeof a.retain&&null!==a.retain?1:"string"==typeof a.insert?a.insert.length:1},c.default=d},72547,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(74306);c.default=class{constructor(a){this.ops=a,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(a){a||(a=1/0);let b=this.ops[this.index];if(!b)return{retain:1/0};{let c=this.offset,e=d.default.length(b);if(a>=e-c?(a=e-c,this.index+=1,this.offset=0):this.offset+=a,"number"==typeof b.delete)return{delete:a};{let d={};return b.attributes&&(d.attributes=b.attributes),"number"==typeof b.retain?d.retain=a:"object"==typeof b.retain&&null!==b.retain?d.retain=b.retain:"string"==typeof b.insert?d.insert=b.insert.substr(c,a):d.insert=b.insert,d}}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?d.default.length(this.ops[this.index])-this.offset:1/0}peekType(){let a=this.ops[this.index];if(a){if("number"==typeof a.delete)return"delete";else if("number"!=typeof a.retain&&("object"!=typeof a.retain||null===a.retain))return"insert"}return"retain"}rest(){if(!this.hasNext())return[];{if(0===this.offset)return this.ops.slice(this.index);let a=this.offset,b=this.index,c=this.next(),d=this.ops.slice(this.index);return this.offset=a,this.index=b,[c].concat(d)}}}},64673,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AttributeMap=c.OpIterator=c.Op=void 0;let d=a.r(11310),e=a.r(11576),f=a.r(736),g=a.r(72284);c.AttributeMap=g.default;let h=a.r(74306);c.Op=h.default;let i=a.r(72547);c.OpIterator=i.default;let j=(a,b)=>{if("object"!=typeof a||null===a)throw Error(`cannot retain a ${typeof a}`);if("object"!=typeof b||null===b)throw Error(`cannot retain a ${typeof b}`);let c=Object.keys(a)[0];if(!c||c!==Object.keys(b)[0])throw Error(`embed types not matched: ${c} != ${Object.keys(b)[0]}`);return[c,a[c],b[c]]};class k{constructor(a){Array.isArray(a)?this.ops=a:null!=a&&Array.isArray(a.ops)?this.ops=a.ops:this.ops=[]}static registerEmbed(a,b){this.handlers[a]=b}static unregisterEmbed(a){delete this.handlers[a]}static getHandler(a){let b=this.handlers[a];if(!b)throw Error(`no handlers for embed type "${a}"`);return b}insert(a,b){let c={};return"string"==typeof a&&0===a.length?this:(c.insert=a,null!=b&&"object"==typeof b&&Object.keys(b).length>0&&(c.attributes=b),this.push(c))}delete(a){return a<=0?this:this.push({delete:a})}retain(a,b){if("number"==typeof a&&a<=0)return this;let c={retain:a};return null!=b&&"object"==typeof b&&Object.keys(b).length>0&&(c.attributes=b),this.push(c)}push(a){let b=this.ops.length,c=this.ops[b-1];if(a=e(a),"object"==typeof c){if("number"==typeof a.delete&&"number"==typeof c.delete)return this.ops[b-1]={delete:c.delete+a.delete},this;if("number"==typeof c.delete&&null!=a.insert&&(b-=1,"object"!=typeof(c=this.ops[b-1])))return this.ops.unshift(a),this;if(f(a.attributes,c.attributes)){if("string"==typeof a.insert&&"string"==typeof c.insert)return this.ops[b-1]={insert:c.insert+a.insert},"object"==typeof a.attributes&&(this.ops[b-1].attributes=a.attributes),this;else if("number"==typeof a.retain&&"number"==typeof c.retain)return this.ops[b-1]={retain:c.retain+a.retain},"object"==typeof a.attributes&&(this.ops[b-1].attributes=a.attributes),this}}return b===this.ops.length?this.ops.push(a):this.ops.splice(b,0,a),this}chop(){let a=this.ops[this.ops.length-1];return a&&"number"==typeof a.retain&&!a.attributes&&this.ops.pop(),this}filter(a){return this.ops.filter(a)}forEach(a){this.ops.forEach(a)}map(a){return this.ops.map(a)}partition(a){let b=[],c=[];return this.forEach(d=>{(a(d)?b:c).push(d)}),[b,c]}reduce(a,b){return this.ops.reduce(a,b)}changeLength(){return this.reduce((a,b)=>b.insert?a+h.default.length(b):b.delete?a-b.delete:a,0)}length(){return this.reduce((a,b)=>a+h.default.length(b),0)}slice(a=0,b=1/0){let c=[],d=new i.default(this.ops),e=0;for(;e<b&&d.hasNext();){let f;e<a?f=d.next(a-e):(f=d.next(b-e),c.push(f)),e+=h.default.length(f)}return new k(c)}compose(a){let b=new i.default(this.ops),c=new i.default(a.ops),d=[],e=c.peek();if(null!=e&&"number"==typeof e.retain&&null==e.attributes){let a=e.retain;for(;"insert"===b.peekType()&&b.peekLength()<=a;)a-=b.peekLength(),d.push(b.next());e.retain-a>0&&c.next(e.retain-a)}let h=new k(d);for(;b.hasNext()||c.hasNext();)if("insert"===c.peekType())h.push(c.next());else if("delete"===b.peekType())h.push(b.next());else{let a=Math.min(b.peekLength(),c.peekLength()),d=b.next(a),e=c.next(a);if(e.retain){let i={};if("number"==typeof d.retain)i.retain="number"==typeof e.retain?a:e.retain;else if("number"==typeof e.retain)null==d.retain?i.insert=d.insert:i.retain=d.retain;else{let a=null==d.retain?"insert":"retain",[b,c,f]=j(d[a],e.retain),g=k.getHandler(b);i[a]={[b]:g.compose(c,f,"retain"===a)}}let l=g.default.compose(d.attributes,e.attributes,"number"==typeof d.retain);if(l&&(i.attributes=l),h.push(i),!c.hasNext()&&f(h.ops[h.ops.length-1],i)){let a=new k(b.rest());return h.concat(a).chop()}}else"number"==typeof e.delete&&("number"==typeof d.retain||"object"==typeof d.retain&&null!==d.retain)&&h.push(e)}return h.chop()}concat(a){let b=new k(this.ops.slice());return a.ops.length>0&&(b.push(a.ops[0]),b.ops=b.ops.concat(a.ops.slice(1))),b}diff(a,b){if(this.ops===a.ops)return new k;let c=[this,a].map(b=>b.map(c=>{if(null!=c.insert)return"string"==typeof c.insert?c.insert:"\0";throw Error("diff() called "+(b===a?"on":"with")+" non-document")}).join("")),e=new k,h=d(c[0],c[1],b,!0),j=new i.default(this.ops),l=new i.default(a.ops);return h.forEach(a=>{let b=a[1].length;for(;b>0;){let c=0;switch(a[0]){case d.INSERT:c=Math.min(l.peekLength(),b),e.push(l.next(c));break;case d.DELETE:c=Math.min(b,j.peekLength()),j.next(c),e.delete(c);break;case d.EQUAL:c=Math.min(j.peekLength(),l.peekLength(),b);let h=j.next(c),i=l.next(c);f(h.insert,i.insert)?e.retain(c,g.default.diff(h.attributes,i.attributes)):e.push(i).delete(c)}b-=c}}),e.chop()}eachLine(a,b="\n"){let c=new i.default(this.ops),d=new k,e=0;for(;c.hasNext();){if("insert"!==c.peekType())return;let f=c.peek(),g=h.default.length(f)-c.peekLength(),i="string"==typeof f.insert?f.insert.indexOf(b,g)-g:-1;if(i<0)d.push(c.next());else if(i>0)d.push(c.next(i));else{if(!1===a(d,c.next(1).attributes||{},e))return;e+=1,d=new k}}d.length()>0&&a(d,{},e)}invert(a){let b=new k;return this.reduce((c,d)=>{if(d.insert)b.delete(h.default.length(d));else if("number"==typeof d.retain&&null==d.attributes)return b.retain(d.retain),c+d.retain;else if(d.delete||"number"==typeof d.retain){let e=d.delete||d.retain;return a.slice(c,c+e).forEach(a=>{d.delete?b.push(a):d.retain&&d.attributes&&b.retain(h.default.length(a),g.default.invert(d.attributes,a.attributes))}),c+e}else if("object"==typeof d.retain&&null!==d.retain){let e=a.slice(c,c+1),f=new i.default(e.ops).next(),[h,l,m]=j(d.retain,f.insert),n=k.getHandler(h);return b.retain({[h]:n.invert(l,m)},g.default.invert(d.attributes,f.attributes)),c+1}return c},0),b.chop()}transform(a,b=!1){if(b=!!b,"number"==typeof a)return this.transformPosition(a,b);let c=new i.default(this.ops),d=new i.default(a.ops),e=new k;for(;c.hasNext()||d.hasNext();)if("insert"===c.peekType()&&(b||"insert"!==d.peekType()))e.retain(h.default.length(c.next()));else if("insert"===d.peekType())e.push(d.next());else{let a=Math.min(c.peekLength(),d.peekLength()),f=c.next(a),h=d.next(a);if(f.delete)continue;if(h.delete)e.push(h);else{let c=f.retain,d=h.retain,i="object"==typeof d&&null!==d?d:a;if("object"==typeof c&&null!==c&&"object"==typeof d&&null!==d){let a=Object.keys(c)[0];if(a===Object.keys(d)[0]){let e=k.getHandler(a);e&&(i={[a]:e.transform(c[a],d[a],b)})}}e.retain(i,g.default.transform(f.attributes,h.attributes,b))}}return e.chop()}transformPosition(a,b=!1){b=!!b;let c=new i.default(this.ops),d=0;for(;c.hasNext()&&d<=a;){let e=c.peekLength(),f=c.peekType();if(c.next(),"delete"===f){a-=Math.min(e,a-d);continue}"insert"===f&&(d<a||!b)&&(a+=e),d+=e}return a}}k.Op=h.default,k.OpIterator=i.default,k.AttributeMap=g.default,k.handlers={},c.default=k,b.exports=k,b.exports.default=k},64939,(a,b,c)=>{"use strict";var d=Object.prototype.hasOwnProperty,e="~";function f(){}function g(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function h(a,b,c,d,f){if("function"!=typeof c)throw TypeError("The listener must be a function");var h=new g(c,d||a,f),i=e?e+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function i(a,b){0==--a._eventsCount?a._events=new f:delete a._events[b]}function j(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(e=!1)),j.prototype.eventNames=function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)d.call(a,b)&&c.push(e?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},j.prototype.listeners=function(a){var b=e?e+a:a,c=this._events[b];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,f=c.length,g=Array(f);d<f;d++)g[d]=c[d].fn;return g},j.prototype.listenerCount=function(a){var b=e?e+a:a,c=this._events[b];return c?c.fn?1:c.length:0},j.prototype.emit=function(a,b,c,d,f,g){var h=e?e+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,f),!0;case 6:return k.fn.call(k.context,b,c,d,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;case 4:k[j].fn.call(k[j].context,b,c,d);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},j.prototype.on=function(a,b,c){return h(this,a,b,c,!1)},j.prototype.once=function(a,b,c){return h(this,a,b,c,!0)},j.prototype.removeListener=function(a,b,c,d){var f=e?e+a:a;if(!this._events[f])return this;if(!b)return i(this,f),this;var g=this._events[f];if(g.fn)g.fn!==b||d&&!g.once||c&&g.context!==c||i(this,f);else{for(var h=0,j=[],k=g.length;h<k;h++)(g[h].fn!==b||d&&!g[h].once||c&&g[h].context!==c)&&j.push(g[h]);j.length?this._events[f]=1===j.length?j[0]:j:i(this,f)}return this},j.prototype.removeAllListeners=function(a){var b;return a?(b=e?e+a:a,this._events[b]&&i(this,b)):(this._events=new f,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=e,j.EventEmitter=j,b.exports=j},71263,a=>{"use strict";let b,c=function(a,b){return a===b||a!=a&&b!=b},d=function(a,b){for(var d=a.length;d--;)if(c(a[d][0],b))return d;return -1};var e,f,g,h,i,j,k,l,m=Array.prototype.splice;function n(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}n.prototype.clear=function(){this.__data__=[],this.size=0},n.prototype.delete=function(a){var b=this.__data__,c=d(b,a);return!(c<0)&&(c==b.length-1?b.pop():m.call(b,c,1),--this.size,!0)},n.prototype.get=function(a){var b=this.__data__,c=d(b,a);return c<0?void 0:b[c][1]},n.prototype.has=function(a){return d(this.__data__,a)>-1},n.prototype.set=function(a,b){var c=this.__data__,e=d(c,a);return e<0?(++this.size,c.push([a,b])):c[e][1]=b,this};var o=a.g&&a.g.Object===Object&&a.g,p="object"==typeof self&&self&&self.Object===Object&&self,q=o||p||Function("return this")(),r=q.Symbol,s=Object.prototype,t=s.hasOwnProperty,u=s.toString,v=r?r.toStringTag:void 0;let w=function(a){var b=t.call(a,v),c=a[v];try{a[v]=void 0;var d=!0}catch(a){}var e=u.call(a);return d&&(b?a[v]=c:delete a[v]),e};var x=Object.prototype.toString,y=r?r.toStringTag:void 0;let z=function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":y&&y in Object(a)?w(a):x.call(a)},A=function(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)},B=function(a){if(!A(a))return!1;var b=z(a);return"[object Function]"==b||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b};var C=q["__core-js_shared__"],D=(h=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",E=Function.prototype.toString;let F=function(a){if(null!=a){try{return E.call(a)}catch(a){}try{return a+""}catch(a){}}return""};var G=/^\[object .+?Constructor\]$/,H=Object.prototype,I=Function.prototype.toString,J=H.hasOwnProperty,K=RegExp("^"+I.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");let L=function(a){return!!A(a)&&(!D||!(D in a))&&(B(a)?K:G).test(F(a))},M=function(a,b){var c=null==a?void 0:a[b];return L(c)?c:void 0};var N=M(q,"Map"),O=M(Object,"create"),P=Object.prototype.hasOwnProperty,Q=Object.prototype.hasOwnProperty;function R(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}R.prototype.clear=function(){this.__data__=O?O(null):{},this.size=0},R.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=!!b,b},R.prototype.get=function(a){var b=this.__data__;if(O){var c=b[a];return"__lodash_hash_undefined__"===c?void 0:c}return P.call(b,a)?b[a]:void 0},R.prototype.has=function(a){var b=this.__data__;return O?void 0!==b[a]:Q.call(b,a)},R.prototype.set=function(a,b){var c=this.__data__;return this.size+=+!this.has(a),c[a]=O&&void 0===b?"__lodash_hash_undefined__":b,this};let S=function(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a},T=function(a,b){var c=a.__data__;return S(b)?c["string"==typeof b?"string":"hash"]:c.map};function U(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function V(a){var b=this.__data__=new n(a);this.size=b.size}U.prototype.clear=function(){this.size=0,this.__data__={hash:new R,map:new(N||n),string:new R}},U.prototype.delete=function(a){var b=T(this,a).delete(a);return this.size-=!!b,b},U.prototype.get=function(a){return T(this,a).get(a)},U.prototype.has=function(a){return T(this,a).has(a)},U.prototype.set=function(a,b){var c=T(this,a),d=c.size;return c.set(a,b),this.size+=+(c.size!=d),this},V.prototype.clear=function(){this.__data__=new n,this.size=0},V.prototype.delete=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c},V.prototype.get=function(a){return this.__data__.get(a)},V.prototype.has=function(a){return this.__data__.has(a)},V.prototype.set=function(a,b){var c=this.__data__;if(c instanceof n){var d=c.__data__;if(!N||d.length<199)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new U(d)}return c.set(a,b),this.size=c.size,this};var W=function(){try{var a=M(Object,"defineProperty");return a({},"",{}),a}catch(a){}}();let X=function(a,b,c){"__proto__"==b&&W?W(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c},Y=function(a,b,d){(void 0===d||c(a[b],d))&&(void 0!==d||b in a)||X(a,b,d)},Z=function(a,b,c){for(var d=-1,e=Object(a),f=c(a),g=f.length;g--;){var h=f[++d];if(!1===b(e[h],h,e))break}return a},$=function(a,b){if(b)return a.slice();var c=a.length,d=new a.constructor(c);return a.copy(d),d};var _=q.Uint8Array;let aa=function(a){var b=new a.constructor(a.byteLength);return new _(b).set(new _(a)),b},ab=function(a,b){var c=b?aa(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)},ac=function(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b};var ad=Object.create,ae=function(){function a(){}return function(b){if(!A(b))return{};if(ad)return ad(b);a.prototype=b;var c=new a;return a.prototype=void 0,c}}();let af=function(a,b){return function(c){return a(b(c))}};var ag=af(Object.getPrototypeOf,Object),ah=Object.prototype;let ai=function(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||ah)},aj=function(a){return"function"!=typeof a.constructor||ai(a)?{}:ae(ag(a))},ak=function(a){return null!=a&&"object"==typeof a},al=function(a){return ak(a)&&"[object Arguments]"==z(a)};var am=Object.prototype,an=am.hasOwnProperty,ao=am.propertyIsEnumerable,ap=al(function(){return arguments}())?al:function(a){return ak(a)&&an.call(a,"callee")&&!ao.call(a,"callee")},aq=Array.isArray;let ar=function(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=0x1fffffffffffff},as=function(a){return null!=a&&ar(a.length)&&!B(a)},at=function(){return!1};var au=Object.prototype,av=Function.prototype.toString,aw=au.hasOwnProperty,ax=av.call(Object);let ay=function(a){if(!ak(a)||"[object Object]"!=z(a))return!1;var b=ag(a);if(null===b)return!0;var c=aw.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&av.call(c)==ax};var az={};az["[object Float32Array]"]=az["[object Float64Array]"]=az["[object Int8Array]"]=az["[object Int16Array]"]=az["[object Int32Array]"]=az["[object Uint8Array]"]=az["[object Uint8ClampedArray]"]=az["[object Uint16Array]"]=az["[object Uint32Array]"]=!0,az["[object Arguments]"]=az["[object Array]"]=az["[object ArrayBuffer]"]=az["[object Boolean]"]=az["[object DataView]"]=az["[object Date]"]=az["[object Error]"]=az["[object Function]"]=az["[object Map]"]=az["[object Number]"]=az["[object Object]"]=az["[object RegExp]"]=az["[object Set]"]=az["[object String]"]=az["[object WeakMap]"]=!1;let aA=function(a){return function(b){return a(b)}};var aB=function(){try{return!1}catch(a){}}(),aC=aB&&aB.isTypedArray,aD=aC?aA(aC):function(a){return ak(a)&&ar(a.length)&&!!az[z(a)]};let aE=function(a,b){if(("constructor"!==b||"function"!=typeof a[b])&&"__proto__"!=b)return a[b]};var aF=Object.prototype.hasOwnProperty;let aG=function(a,b,d){var e=a[b];aF.call(a,b)&&c(e,d)&&(void 0!==d||b in a)||X(a,b,d)},aH=function(a,b,c,d){var e=!c;c||(c={});for(var f=-1,g=b.length;++f<g;){var h=b[f],i=d?d(c[h],a[h],h,c,a):void 0;void 0===i&&(i=a[h]),e?X(c,h,i):aG(c,h,i)}return c},aI=function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d};var aJ=/^(?:0|[1-9]\d*)$/;let aK=function(a,b){var c=typeof a;return!!(b=null==b?0x1fffffffffffff:b)&&("number"==c||"symbol"!=c&&aJ.test(a))&&a>-1&&a%1==0&&a<b};var aL=Object.prototype.hasOwnProperty;let aM=function(a,b){var c=aq(a),d=!c&&ap(a),e=!c&&!d&&at(a),f=!c&&!d&&!e&&aD(a),g=c||d||e||f,h=g?aI(a.length,String):[],i=h.length;for(var j in a)(b||aL.call(a,j))&&!(g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||aK(j,i)))&&h.push(j);return h},aN=function(a){var b=[];if(null!=a)for(var c in Object(a))b.push(c);return b};var aO=Object.prototype.hasOwnProperty;let aP=function(a){if(!A(a))return aN(a);var b=ai(a),c=[];for(var d in a)"constructor"==d&&(b||!aO.call(a,d))||c.push(d);return c},aQ=function(a){return as(a)?aM(a,!0):aP(a)},aR=function(a,b,c,d,e,f,g){var h=aE(a,c),i=aE(b,c),j=g.get(i);if(j)return void Y(a,c,j);var k=f?f(h,i,c+"",a,b,g):void 0,l=void 0===k;if(l){var m=aq(i),n=!m&&at(i),o=!m&&!n&&aD(i);(k=i,m||n||o)?aq(h)?k=h:ak(h)&&as(h)?k=ac(h):n?(l=!1,k=$(i,!0)):o?(l=!1,k=ab(i,!0)):k=[]:ay(i)||ap(i)?(k=h,ap(h))?k=aH(h,aQ(h)):(!A(h)||B(h))&&(k=aj(i)):l=!1}l&&(g.set(i,k),e(k,i,d,f,g),g.delete(i)),Y(a,c,k)},aS=function a(b,c,d,e,f){b!==c&&Z(c,function(g,h){if(f||(f=new V),A(g))aR(b,c,h,d,a,e,f);else{var i=e?e(aE(b,h),g,h+"",b,c,f):void 0;void 0===i&&(i=g),Y(b,h,i)}},aQ)},aT=function(a){return a},aU=function(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)};var aV=Math.max,aW=Date.now,aX=(i=W?function(a,b){return W(a,"toString",{configurable:!0,enumerable:!1,value:function(){return b},writable:!0})}:aT,j=0,k=0,function(){var a=aW(),b=16-(a-k);if(k=a,b>0){if(++j>=800)return arguments[0]}else j=0;return i.apply(void 0,arguments)});let aY=function(a,b,d){if(!A(d))return!1;var e=typeof b;return("number"==e?!!(as(d)&&aK(b,d.length)):"string"==e&&b in d)&&c(d[b],a)};var aZ=(l=function(a,b,c){aS(a,b,c)},aX((e=function(a,b){var c=-1,d=b.length,e=d>1?b[d-1]:void 0,f=d>2?b[2]:void 0;for(e=l.length>3&&"function"==typeof e?(d--,e):void 0,f&&aY(b[0],b[1],f)&&(e=d<3?void 0:e,d=1),a=Object(a);++c<d;){var g=b[c];g&&l(a,g,c,e)}return a},g=aV(void 0===(g=f)?e.length-1:g,0),function(){for(var a=arguments,b=-1,c=aV(a.length-g,0),d=Array(c);++b<c;)d[b]=a[g+b];b=-1;for(var f=Array(g+1);++b<g;)f[b]=a[b];return f[g]=aT(d),aU(e,this,f)}),e+"")),a$=((b=a$||{})[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY",b);class a_{constructor(a,b,c={}){this.attrName=a,this.keyName=b;const d=a$.TYPE&a$.ATTRIBUTE;this.scope=null!=c.scope?c.scope&a$.LEVEL|d:a$.ATTRIBUTE,null!=c.whitelist&&(this.whitelist=c.whitelist)}static keys(a){return Array.from(a.attributes).map(a=>a.name)}add(a,b){return!!this.canAdd(a,b)&&(a.setAttribute(this.keyName,b),!0)}canAdd(a,b){return null==this.whitelist||("string"==typeof b?this.whitelist.indexOf(b.replace(/["']/g,""))>-1:this.whitelist.indexOf(b)>-1)}remove(a){a.removeAttribute(this.keyName)}value(a){let b=a.getAttribute(this.keyName);return this.canAdd(a,b)&&b?b:""}}class a0 extends Error{constructor(a){super(a="[Parchment] "+a),this.message=a,this.name=this.constructor.name}}let a1=class a{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(a,b=!1){if(null==a)return null;if(this.blots.has(a))return this.blots.get(a)||null;if(b){let c=null;try{c=a.parentNode}catch{return null}return this.find(c,b)}return null}create(b,c,d){let e=this.query(c);if(null==e)throw new a0(`Unable to create ${c} blot`);let f=c instanceof Node||c.nodeType===Node.TEXT_NODE?c:e.create(d),g=new e(b,f,d);return a.blots.set(g.domNode,g),g}find(b,c=!1){return a.find(b,c)}query(a,b=a$.ANY){let c;return"string"==typeof a?c=this.types[a]||this.attributes[a]:a instanceof Text||a.nodeType===Node.TEXT_NODE?c=this.types.text:"number"==typeof a?a&a$.LEVEL&a$.BLOCK?c=this.types.block:a&a$.LEVEL&a$.INLINE&&(c=this.types.inline):a instanceof Element&&((a.getAttribute("class")||"").split(/\s+/).some(a=>!!(c=this.classes[a])),c=c||this.tags[a.tagName]),null==c?null:"scope"in c&&b&a$.LEVEL&c.scope&&b&a$.TYPE&c.scope?c:null}register(...a){return a.map(a=>{let b="blotName"in a,c="attrName"in a;if(!b&&!c)throw new a0("Invalid definition");if(b&&"abstract"===a.blotName)throw new a0("Cannot register abstract class");let d=b?a.blotName:c?a.attrName:void 0;return this.types[d]=a,c?"string"==typeof a.keyName&&(this.attributes[a.keyName]=a):b&&(a.className&&(this.classes[a.className]=a),a.tagName&&(Array.isArray(a.tagName)?a.tagName=a.tagName.map(a=>a.toUpperCase()):a.tagName=a.tagName.toUpperCase(),(Array.isArray(a.tagName)?a.tagName:[a.tagName]).forEach(b=>{(null==this.tags[b]||null==a.className)&&(this.tags[b]=a)}))),a})}};function a2(a,b){return(a.getAttribute("class")||"").split(/\s+/).filter(a=>0===a.indexOf(`${b}-`))}a1.blots=new WeakMap;let a3=class extends a_{static keys(a){return(a.getAttribute("class")||"").split(/\s+/).map(a=>a.split("-").slice(0,-1).join("-"))}add(a,b){return!!this.canAdd(a,b)&&(this.remove(a),a.classList.add(`${this.keyName}-${b}`),!0)}remove(a){a2(a,this.keyName).forEach(b=>{a.classList.remove(b)}),0===a.classList.length&&a.removeAttribute("class")}value(a){let b=(a2(a,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(a,b)?b:""}};function a4(a){let b=a.split("-"),c=b.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("");return b[0]+c}let a5=class extends a_{static keys(a){return(a.getAttribute("style")||"").split(";").map(a=>a.split(":")[0].trim())}add(a,b){return!!this.canAdd(a,b)&&(a.style[a4(this.keyName)]=b,!0)}remove(a){a.style[a4(this.keyName)]="",a.getAttribute("style")||a.removeAttribute("style")}value(a){let b=a.style[a4(this.keyName)];return this.canAdd(a,b)?b:""}},a6=class{constructor(a){this.attributes={},this.domNode=a,this.build()}attribute(a,b){b?a.add(this.domNode,b)&&(null!=a.value(this.domNode)?this.attributes[a.attrName]=a:delete this.attributes[a.attrName]):(a.remove(this.domNode),delete this.attributes[a.attrName])}build(){this.attributes={};let a=a1.find(this.domNode);if(null==a)return;let b=a_.keys(this.domNode),c=a3.keys(this.domNode),d=a5.keys(this.domNode);b.concat(c).concat(d).forEach(b=>{let c=a.scroll.query(b,a$.ATTRIBUTE);c instanceof a_&&(this.attributes[c.attrName]=c)})}copy(a){Object.keys(this.attributes).forEach(b=>{let c=this.attributes[b].value(this.domNode);a.format(b,c)})}move(a){this.copy(a),Object.keys(this.attributes).forEach(a=>{this.attributes[a].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((a,b)=>(a[b]=this.attributes[b].value(this.domNode),a),{})}},a7=class{constructor(a,b){this.scroll=a,this.domNode=b,a1.blots.set(b,this),this.prev=null,this.next=null}static create(a){let b,c;if(null==this.tagName)throw new a0("Blot definition missing tagName");return Array.isArray(this.tagName)?("string"==typeof a?parseInt(c=a.toUpperCase(),10).toString()===c&&(c=parseInt(c,10)):"number"==typeof a&&(c=a),b="number"==typeof c?document.createElement(this.tagName[c-1]):c&&this.tagName.indexOf(c)>-1?document.createElement(c):document.createElement(this.tagName[0])):b=document.createElement(this.tagName),this.className&&b.classList.add(this.className),b}get statics(){return this.constructor}attach(){}clone(){let a=this.domNode.cloneNode(!1);return this.scroll.create(a)}detach(){null!=this.parent&&this.parent.removeChild(this),a1.blots.delete(this.domNode)}deleteAt(a,b){this.isolate(a,b).remove()}formatAt(a,b,c,d){let e=this.isolate(a,b);if(null!=this.scroll.query(c,a$.BLOT)&&d)e.wrap(c,d);else if(null!=this.scroll.query(c,a$.ATTRIBUTE)){let a=this.scroll.create(this.statics.scope);e.wrap(a),a.format(c,d)}}insertAt(a,b,c){let d=null==c?this.scroll.create("text",b):this.scroll.create(b,c),e=this.split(a);this.parent.insertBefore(d,e||void 0)}isolate(a,b){let c=this.split(a);if(null==c)throw Error("Attempt to isolate at end");return c.split(b),c}length(){return 1}offset(a=this.parent){return null==this.parent||this===a?0:this.parent.children.offset(this)+this.parent.offset(a)}optimize(a){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(a,b){let c="string"==typeof a?this.scroll.create(a,b):a;return null!=this.parent&&(this.parent.insertBefore(c,this.next||void 0),this.remove()),c}split(a,b){return 0===a?this:this.next}update(a,b){}wrap(a,b){let c="string"==typeof a?this.scroll.create(a,b):a;if(null!=this.parent&&this.parent.insertBefore(c,this.next||void 0),"function"!=typeof c.appendChild)throw new a0(`Cannot wrap ${a}`);return c.appendChild(this),c}};a7.blotName="abstract";let a8=a7,a9=class extends a8{static value(a){return!0}index(a,b){return this.domNode===a||this.domNode.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(b,1):-1}position(a,b){let c=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return a>0&&(c+=1),[this.parent.domNode,c]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};a9.scope=a$.INLINE_BLOT;let ba=a9;class bb{constructor(){this.head=null,this.tail=null,this.length=0}append(...a){if(this.insertBefore(a[0],null),a.length>1){let b=a.slice(1);this.append(...b)}}at(a){let b=this.iterator(),c=b();for(;c&&a>0;)a-=1,c=b();return c}contains(a){let b=this.iterator(),c=b();for(;c;){if(c===a)return!0;c=b()}return!1}indexOf(a){let b=this.iterator(),c=b(),d=0;for(;c;){if(c===a)return d;d+=1,c=b()}return -1}insertBefore(a,b){null!=a&&(this.remove(a),a.next=b,null!=b?(a.prev=b.prev,null!=b.prev&&(b.prev.next=a),b.prev=a,b===this.head&&(this.head=a)):null!=this.tail?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)}offset(a){let b=0,c=this.head;for(;null!=c;){if(c===a)return b;b+=c.length(),c=c.next}return -1}remove(a){this.contains(a)&&(null!=a.prev&&(a.prev.next=a.next),null!=a.next&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)}iterator(a=this.head){return()=>{let b=a;return null!=a&&(a=a.next),b}}find(a,b=!1){let c=this.iterator(),d=c();for(;d;){let e=d.length();if(a<e||b&&a===e&&(null==d.next||0!==d.next.length()))return[d,a];a-=e,d=c()}return[null,0]}forEach(a){let b=this.iterator(),c=b();for(;c;)a(c),c=b()}forEachAt(a,b,c){if(b<=0)return;let[d,e]=this.find(a),f=a-e,g=this.iterator(d),h=g();for(;h&&f<a+b;){let d=h.length();a>f?c(h,a-f,Math.min(b,f+d-a)):c(h,0,Math.min(d,a+b-f)),f+=d,h=g()}}map(a){return this.reduce((b,c)=>(b.push(a(c)),b),[])}reduce(a,b){let c=this.iterator(),d=c();for(;d;)b=a(b,d),d=c();return b}}function bc(a,b){let c=b.find(a);if(c)return c;try{return b.create(a)}catch{let c=b.create(a$.INLINE);return Array.from(a.childNodes).forEach(a=>{c.domNode.appendChild(a)}),a.parentNode&&a.parentNode.replaceChild(c.domNode,a),c.attach(),c}}let bd=class a extends a8{constructor(a,b){super(a,b),this.uiNode=null,this.build()}appendChild(a){this.insertBefore(a)}attach(){super.attach(),this.children.forEach(a=>{a.attach()})}attachUI(b){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=b,a.uiClass&&this.uiNode.classList.add(a.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new bb,Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode).reverse().forEach(a=>{try{let b=bc(a,this.scroll);this.insertBefore(b,this.children.head||void 0)}catch(a){if(a instanceof a0)return;throw a}})}deleteAt(a,b){if(0===a&&b===this.length())return this.remove();this.children.forEachAt(a,b,(a,b,c)=>{a.deleteAt(b,c)})}descendant(b,c=0){let[d,e]=this.children.find(c);return null==b.blotName&&b(d)||null!=b.blotName&&d instanceof b?[d,e]:d instanceof a?d.descendant(b,e):[null,-1]}descendants(b,c=0,d=Number.MAX_VALUE){let e=[],f=d;return this.children.forEachAt(c,d,(c,d,g)=>{(null==b.blotName&&b(c)||null!=b.blotName&&c instanceof b)&&e.push(c),c instanceof a&&(e=e.concat(c.descendants(b,d,f))),f-=g}),e}detach(){this.children.forEach(a=>{a.detach()}),super.detach()}enforceAllowedChildren(){let b=!1;this.children.forEach(c=>{b||this.statics.allowedChildren.some(a=>c instanceof a)||(c.statics.scope===a$.BLOCK_BLOT?(null!=c.next&&this.splitAfter(c),null!=c.prev&&this.splitAfter(c.prev),c.parent.unwrap(),b=!0):c instanceof a?c.unwrap():c.remove())})}formatAt(a,b,c,d){this.children.forEachAt(a,b,(a,b,e)=>{a.formatAt(b,e,c,d)})}insertAt(a,b,c){let[d,e]=this.children.find(a);if(d)d.insertAt(e,b,c);else{let a=null==c?this.scroll.create("text",b):this.scroll.create(b,c);this.appendChild(a)}}insertBefore(a,b){null!=a.parent&&a.parent.children.remove(a);let c=null;this.children.insertBefore(a,b||null),a.parent=this,null!=b&&(c=b.domNode),(this.domNode.parentNode!==a.domNode||this.domNode.nextSibling!==c)&&this.domNode.insertBefore(a.domNode,c),a.attach()}length(){return this.children.reduce((a,b)=>a+b.length(),0)}moveChildren(a,b){this.children.forEach(c=>{a.insertBefore(c,b)})}optimize(a){if(super.optimize(a),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){let a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a)}else this.remove()}path(b,c=!1){let[d,e]=this.children.find(b,c),f=[[this,b]];return d instanceof a?f.concat(d.path(e,c)):(null!=d&&f.push([d,e]),f)}removeChild(a){this.children.remove(a)}replaceWith(b,c){let d="string"==typeof b?this.scroll.create(b,c):b;return d instanceof a&&this.moveChildren(d),super.replaceWith(d)}split(a,b=!1){if(!b){if(0===a)return this;if(a===this.length())return this.next}let c=this.clone();return this.parent&&this.parent.insertBefore(c,this.next||void 0),this.children.forEachAt(a,this.length(),(a,d,e)=>{let f=a.split(d,b);null!=f&&c.appendChild(f)}),c}splitAfter(a){let b=this.clone();for(;null!=a.next;)b.appendChild(a.next);return this.parent&&this.parent.insertBefore(b,this.next||void 0),b}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(a,b){let c=[],d=[];a.forEach(a=>{a.target===this.domNode&&"childList"===a.type&&(c.push(...a.addedNodes),d.push(...a.removedNodes))}),d.forEach(a=>{if(null!=a.parentNode&&"IFRAME"!==a.tagName&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;let b=this.scroll.find(a);null!=b&&(null==b.domNode.parentNode||b.domNode.parentNode===this.domNode)&&b.detach()}),c.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,b)=>a===b?0:a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let b=null;null!=a.nextSibling&&(b=this.scroll.find(a.nextSibling));let c=bc(a,this.scroll);(c.next!==b||null==c.next)&&(null!=c.parent&&c.parent.removeChild(this),this.insertBefore(c,b||void 0))}),this.enforceAllowedChildren()}};bd.uiClass="";let be=bd,bf=class a extends be{static create(a){return super.create(a)}static formats(b,c){let d=c.query(a.blotName);if(null==d||b.tagName!==d.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return b.tagName.toLowerCase()}}constructor(a,b){super(a,b),this.attributes=new a6(this.domNode)}format(b,c){if(b!==this.statics.blotName||c){let a=this.scroll.query(b,a$.INLINE);null!=a&&(a instanceof a_?this.attributes.attribute(a,c):c&&(b!==this.statics.blotName||this.formats()[b]!==c)&&this.replaceWith(b,c))}else this.children.forEach(b=>{b instanceof a||(b=b.wrap(a.blotName,!0)),this.attributes.copy(b)}),this.unwrap()}formats(){let a=this.attributes.values(),b=this.statics.formats(this.domNode,this.scroll);return null!=b&&(a[this.statics.blotName]=b),a}formatAt(a,b,c,d){null!=this.formats()[c]||this.scroll.query(c,a$.ATTRIBUTE)?this.isolate(a,b).format(c,d):super.formatAt(a,b,c,d)}optimize(b){super.optimize(b);let c=this.formats();if(0===Object.keys(c).length)return this.unwrap();let d=this.next;d instanceof a&&d.prev===this&&function(a,b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(let c in a)if(a[c]!==b[c])return!1;return!0}(c,d.formats())&&(d.moveChildren(this),d.remove())}replaceWith(a,b){let c=super.replaceWith(a,b);return this.attributes.copy(c),c}update(a,b){super.update(a,b),a.some(a=>a.target===this.domNode&&"attributes"===a.type)&&this.attributes.build()}wrap(b,c){let d=super.wrap(b,c);return d instanceof a&&this.attributes.move(d),d}};bf.allowedChildren=[bf,ba],bf.blotName="inline",bf.scope=a$.INLINE_BLOT,bf.tagName="SPAN";let bg=bf,bh=class a extends be{static create(a){return super.create(a)}static formats(b,c){let d=c.query(a.blotName);if(null==d||b.tagName!==d.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return b.tagName.toLowerCase()}}constructor(a,b){super(a,b),this.attributes=new a6(this.domNode)}format(b,c){let d=this.scroll.query(b,a$.BLOCK);null!=d&&(d instanceof a_?this.attributes.attribute(d,c):b!==this.statics.blotName||c?c&&(b!==this.statics.blotName||this.formats()[b]!==c)&&this.replaceWith(b,c):this.replaceWith(a.blotName))}formats(){let a=this.attributes.values(),b=this.statics.formats(this.domNode,this.scroll);return null!=b&&(a[this.statics.blotName]=b),a}formatAt(a,b,c,d){null!=this.scroll.query(c,a$.BLOCK)?this.format(c,d):super.formatAt(a,b,c,d)}insertAt(a,b,c){if(null==c||null!=this.scroll.query(b,a$.INLINE))super.insertAt(a,b,c);else{let d=this.split(a);if(null!=d){let a=this.scroll.create(b,c);d.parent.insertBefore(a,d)}else throw Error("Attempt to insertAt after block boundaries")}}replaceWith(a,b){let c=super.replaceWith(a,b);return this.attributes.copy(c),c}update(a,b){super.update(a,b),a.some(a=>a.target===this.domNode&&"attributes"===a.type)&&this.attributes.build()}};bh.blotName="block",bh.scope=a$.BLOCK_BLOT,bh.tagName="P",bh.allowedChildren=[bg,bh,ba];let bi=bh,bj=class extends be{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(a,b){super.deleteAt(a,b),this.enforceAllowedChildren()}formatAt(a,b,c,d){super.formatAt(a,b,c,d),this.enforceAllowedChildren()}insertAt(a,b,c){super.insertAt(a,b,c),this.enforceAllowedChildren()}optimize(a){super.optimize(a),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};bj.blotName="container",bj.scope=a$.BLOCK_BLOT;let bk=bj,bl=class extends ba{static formats(a,b){}format(a,b){super.formatAt(0,this.length(),a,b)}formatAt(a,b,c,d){0===a&&b===this.length()?this.format(c,d):super.formatAt(a,b,c,d)}formats(){return this.statics.formats(this.domNode,this.scroll)}},bm={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},bn=class extends be{constructor(a,b){super(null,b),this.registry=a,this.scroll=this,this.build(),this.observer=new MutationObserver(a=>{this.update(a)}),this.observer.observe(this.domNode,bm),this.attach()}create(a,b){return this.registry.create(this,a,b)}find(a,b=!1){let c=this.registry.find(a,b);return c?c.scroll===this?c:b?this.find(c.scroll.domNode.parentNode,!0):null:null}query(a,b=a$.ANY){return this.registry.query(a,b)}register(...a){return this.registry.register(...a)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(a,b){this.update(),0===a&&b===this.length()?this.children.forEach(a=>{a.remove()}):super.deleteAt(a,b)}formatAt(a,b,c,d){this.update(),super.formatAt(a,b,c,d)}insertAt(a,b,c){this.update(),super.insertAt(a,b,c)}optimize(a=[],b={}){super.optimize(b);let c=b.mutationsMap||new WeakMap,d=Array.from(this.observer.takeRecords());for(;d.length>0;)a.push(d.pop());let e=(a,b=!0)=>{null==a||a===this||null!=a.domNode.parentNode&&(c.has(a.domNode)||c.set(a.domNode,[]),b&&e(a.parent))},f=a=>{c.has(a.domNode)&&(a instanceof be&&a.children.forEach(f),c.delete(a.domNode),a.optimize(b))},g=a;for(let b=0;g.length>0;b+=1){if(b>=100)throw Error("[Parchment] Maximum optimize iterations reached");for(g.forEach(a=>{let b=this.find(a.target,!0);null!=b&&(b.domNode===a.target&&("childList"===a.type?(e(this.find(a.previousSibling,!1)),Array.from(a.addedNodes).forEach(a=>{let b=this.find(a,!1);e(b,!1),b instanceof be&&b.children.forEach(a=>{e(a,!1)})})):"attributes"===a.type&&e(b.prev)),e(b))}),this.children.forEach(f),d=(g=Array.from(this.observer.takeRecords())).slice();d.length>0;)a.push(d.pop())}}update(a,b={}){a=a||this.observer.takeRecords();let c=new WeakMap;a.map(a=>{let b=this.find(a.target,!0);return null==b?null:c.has(b.domNode)?(c.get(b.domNode).push(a),null):(c.set(b.domNode,[a]),b)}).forEach(a=>{null!=a&&a!==this&&c.has(a.domNode)&&a.update(c.get(a.domNode)||[],b)}),b.mutationsMap=c,c.has(this.domNode)&&super.update(c.get(this.domNode),b),this.optimize(a,b)}};bn.blotName="scroll",bn.defaultChild=bi,bn.allowedChildren=[bi,bk],bn.scope=a$.BLOCK_BLOT,bn.tagName="DIV";let bo=bn,bp=class a extends ba{static create(a){return document.createTextNode(a)}static value(a){return a.data}constructor(a,b){super(a,b),this.text=this.statics.value(this.domNode)}deleteAt(a,b){this.domNode.data=this.text=this.text.slice(0,a)+this.text.slice(a+b)}index(a,b){return this.domNode===a?b:-1}insertAt(a,b,c){null==c?(this.text=this.text.slice(0,a)+b+this.text.slice(a),this.domNode.data=this.text):super.insertAt(a,b,c)}length(){return this.text.length}optimize(b){super.optimize(b),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof a&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(a,b=!1){return[this.domNode,a]}split(a,b=!1){if(!b){if(0===a)return this;if(a===this.length())return this.next}let c=this.scroll.create(this.domNode.splitText(a));return this.parent.insertBefore(c,this.next||void 0),this.text=this.statics.value(this.domNode),c}update(a,b){a.some(a=>"characterData"===a.type&&a.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};bp.blotName="text",bp.scope=a$.INLINE_BLOT;let bq=bp;a.s(["Attributor",()=>a_,"AttributorStore",()=>a6,"BlockBlot",()=>bi,"ClassAttributor",()=>a3,"ContainerBlot",()=>bk,"EmbedBlot",()=>bl,"InlineBlot",()=>bg,"LeafBlot",()=>ba,"ParentBlot",()=>be,"Registry",()=>a1,"Scope",()=>a$,"ScrollBlot",()=>bo,"StyleAttributor",()=>a5,"TextBlot",()=>bq],76453);var br=a.i(76453),bs=a.i(64673);let bt=function(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a};var bu=af(Object.keys,Object),bv=Object.prototype.hasOwnProperty;let bw=function(a){if(!ai(a))return bu(a);var b=[];for(var c in Object(a))bv.call(a,c)&&"constructor"!=c&&b.push(c);return b},bx=function(a){return as(a)?aM(a):bw(a)},by=function(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f},bz=function(){return[]};var bA=Object.prototype.propertyIsEnumerable,bB=Object.getOwnPropertySymbols,bC=bB?function(a){return null==a?[]:by(bB(a=Object(a)),function(b){return bA.call(a,b)})}:bz;let bD=function(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a};var bE=Object.getOwnPropertySymbols?function(a){for(var b=[];a;)bD(b,bC(a)),a=ag(a);return b}:bz;let bF=function(a,b,c){var d=b(a);return aq(a)?d:bD(d,c(a))},bG=function(a){return bF(a,bx,bC)},bH=function(a){return bF(a,aQ,bE)};var bI=M(q,"DataView"),bJ=M(q,"Promise"),bK=M(q,"Set"),bL=M(q,"WeakMap"),bM="[object Map]",bN="[object Promise]",bO="[object Set]",bP="[object WeakMap]",bQ="[object DataView]",bR=F(bI),bS=F(N),bT=F(bJ),bU=F(bK),bV=F(bL),bW=z;(bI&&bW(new bI(new ArrayBuffer(1)))!=bQ||N&&bW(new N)!=bM||bJ&&bW(bJ.resolve())!=bN||bK&&bW(new bK)!=bO||bL&&bW(new bL)!=bP)&&(bW=function(a){var b=z(a),c="[object Object]"==b?a.constructor:void 0,d=c?F(c):"";if(d)switch(d){case bR:return bQ;case bS:return bM;case bT:return bN;case bU:return bO;case bV:return bP}return b});let bX=bW;var bY=Object.prototype.hasOwnProperty;let bZ=function(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&bY.call(a,"index")&&(c.index=a.index,c.input=a.input),c},b$=function(a,b){var c=b?aa(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)};var b_=/\w*$/;let b0=function(a){var b=new a.constructor(a.source,b_.exec(a));return b.lastIndex=a.lastIndex,b};var b1=r?r.prototype:void 0,b2=b1?b1.valueOf:void 0;let b3=function(a,b,c){var d=a.constructor;switch(b){case"[object ArrayBuffer]":return aa(a);case"[object Boolean]":case"[object Date]":return new d(+a);case"[object DataView]":return b$(a,c);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ab(a,c);case"[object Map]":case"[object Set]":return new d;case"[object Number]":case"[object String]":return new d(a);case"[object RegExp]":return b0(a);case"[object Symbol]":return b2?Object(b2.call(a)):{}}};var b4=aB&&aB.isMap,b5=b4?aA(b4):function(a){return ak(a)&&"[object Map]"==bX(a)},b6=aB&&aB.isSet,b7=b6?aA(b6):function(a){return ak(a)&&"[object Set]"==bX(a)},b8="[object Arguments]",b9="[object Function]",ca="[object Object]",cb={};cb[b8]=cb["[object Array]"]=cb["[object ArrayBuffer]"]=cb["[object DataView]"]=cb["[object Boolean]"]=cb["[object Date]"]=cb["[object Float32Array]"]=cb["[object Float64Array]"]=cb["[object Int8Array]"]=cb["[object Int16Array]"]=cb["[object Int32Array]"]=cb["[object Map]"]=cb["[object Number]"]=cb[ca]=cb["[object RegExp]"]=cb["[object Set]"]=cb["[object String]"]=cb["[object Symbol]"]=cb["[object Uint8Array]"]=cb["[object Uint8ClampedArray]"]=cb["[object Uint16Array]"]=cb["[object Uint32Array]"]=!0,cb["[object Error]"]=cb[b9]=cb["[object WeakMap]"]=!1;let cc=function a(b,c,d,e,f,g){var h,i=1&c,j=2&c,k=4&c;if(d&&(h=f?d(b,e,f,g):d(b)),void 0!==h)return h;if(!A(b))return b;var l=aq(b);if(l){if(h=bZ(b),!i)return ac(b,h)}else{var m,n,o,p,q=bX(b),r=q==b9||"[object GeneratorFunction]"==q;if(at(b))return $(b,i);if(q==ca||q==b8||r&&!f){if(h=j||r?{}:aj(b),!i)return j?(n=(m=h)&&aH(b,aQ(b),m),aH(b,bE(b),n)):(p=(o=h)&&aH(b,bx(b),o),aH(b,bC(b),p))}else{if(!cb[q])return f?b:{};h=b3(b,q,i)}}g||(g=new V);var s=g.get(b);if(s)return s;g.set(b,h),b7(b)?b.forEach(function(e){h.add(a(e,c,d,e,b,g))}):b5(b)&&b.forEach(function(e,f){h.set(f,a(e,c,d,f,b,g))});var t=k?j?bH:bG:j?aQ:bx,u=l?void 0:t(b);return bt(u||b,function(e,f){u&&(e=b[f=e]),aG(h,f,a(e,c,d,f,b,g))}),h},cd=function(a){return cc(a,5)};function ce(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new U;++b<c;)this.add(a[b])}ce.prototype.add=ce.prototype.push=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},ce.prototype.has=function(a){return this.__data__.has(a)};let cf=function(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1},cg=function(a,b,c,d,e,f){var g=1&c,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a),k=f.get(b);if(j&&k)return j==b&&k==a;var l=-1,m=!0,n=2&c?new ce:void 0;for(f.set(a,b),f.set(b,a);++l<h;){var o=a[l],p=b[l];if(d)var q=g?d(p,o,l,b,a,f):d(o,p,l,a,b,f);if(void 0!==q){if(q)continue;m=!1;break}if(n){if(!cf(b,function(a,b){if(!n.has(b)&&(o===a||e(o,a,c,d,f)))return n.push(b)})){m=!1;break}}else if(!(o===p||e(o,p,c,d,f))){m=!1;break}}return f.delete(a),f.delete(b),m},ch=function(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c},ci=function(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c};var cj=r?r.prototype:void 0,ck=cj?cj.valueOf:void 0;let cl=function(a,b,d,e,f,g,h){switch(d){case"[object DataView]":if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer,b=b.buffer;case"[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!g(new _(a),new _(b)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return c(+a,+b);case"[object Error]":return a.name==b.name&&a.message==b.message;case"[object RegExp]":case"[object String]":return a==b+"";case"[object Map]":var i=ch;case"[object Set]":var j=1&e;if(i||(i=ci),a.size!=b.size&&!j)break;var k=h.get(a);if(k)return k==b;e|=2,h.set(a,b);var l=cg(i(a),i(b),e,f,g,h);return h.delete(a),l;case"[object Symbol]":if(ck)return ck.call(a)==ck.call(b)}return!1};var cm=Object.prototype.hasOwnProperty;let cn=function(a,b,c,d,e,f){var g=1&c,h=bG(a),i=h.length;if(i!=bG(b).length&&!g)return!1;for(var j=i;j--;){var k=h[j];if(!(g?k in b:cm.call(b,k)))return!1}var l=f.get(a),m=f.get(b);if(l&&m)return l==b&&m==a;var n=!0;f.set(a,b),f.set(b,a);for(var o=g;++j<i;){var p=a[k=h[j]],q=b[k];if(d)var r=g?d(q,p,k,b,a,f):d(p,q,k,a,b,f);if(!(void 0===r?p===q||e(p,q,c,d,f):r)){n=!1;break}o||(o="constructor"==k)}if(n&&!o){var s=a.constructor,t=b.constructor;s!=t&&"constructor"in a&&"constructor"in b&&!("function"==typeof s&&s instanceof s&&"function"==typeof t&&t instanceof t)&&(n=!1)}return f.delete(a),f.delete(b),n};var co="[object Arguments]",cp="[object Array]",cq="[object Object]",cr=Object.prototype.hasOwnProperty;let cs=function(a,b,c,d,e,f){var g=aq(a),h=aq(b),i=g?cp:bX(a),j=h?cp:bX(b);i=i==co?cq:i,j=j==co?cq:j;var k=i==cq,l=j==cq,m=i==j;if(m&&at(a)){if(!at(b))return!1;g=!0,k=!1}if(m&&!k)return f||(f=new V),g||aD(a)?cg(a,b,c,d,e,f):cl(a,b,i,c,d,e,f);if(!(1&c)){var n=k&&cr.call(a,"__wrapped__"),o=l&&cr.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new V),e(p,q,c,d,f)}}return!!m&&(f||(f=new V),cn(a,b,c,d,e,f))},ct=function(a,b){return function a(b,c,d,e,f){return b===c||(null!=b&&null!=c&&(ak(b)||ak(c))?cs(b,c,d,e,a,f):b!=b&&c!=c)}(a,b)};class cu extends bl{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}cu.blotName="break",cu.tagName="BR";class cv extends bq{}let cw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function cx(a){return a.replace(/[&<>"']/g,a=>cw[a])}class cy extends bg{static allowedChildren=[cy,cu,bl,cv];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(a,b){let c=cy.order.indexOf(a),d=cy.order.indexOf(b);return c>=0||d>=0?c-d:a===b?0:a<b?-1:1}formatAt(a,b,c,d){if(0>cy.compare(this.statics.blotName,c)&&this.scroll.query(c,a$.BLOT)){let e=this.isolate(a,b);d&&e.wrap(c,d)}else super.formatAt(a,b,c,d)}optimize(a){if(super.optimize(a),this.parent instanceof cy&&cy.compare(this.statics.blotName,this.parent.statics.blotName)>0){let a=this.parent.isolate(this.offset(),this.length());this.moveChildren(a),a.wrap(this)}}}let cz=cy;class cA extends bi{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=cC(this)),this.cache.delta}deleteAt(a,b){super.deleteAt(a,b),this.cache={}}formatAt(a,b,c,d){b<=0||(this.scroll.query(c,a$.BLOCK)?a+b===this.length()&&this.format(c,d):super.formatAt(a,Math.min(b,this.length()-a-1),c,d),this.cache={})}insertAt(a,b,c){if(null!=c){super.insertAt(a,b,c),this.cache={};return}if(0===b.length)return;let d=b.split("\n"),e=d.shift();e.length>0&&(a<this.length()-1||null==this.children.tail?super.insertAt(Math.min(a,this.length()-1),e):this.children.tail.insertAt(this.children.tail.length(),e),this.cache={});let f=this;d.reduce((a,b)=>((f=f.split(a,!0)).insertAt(0,b),b.length),a+e.length)}insertBefore(a,b){let{head:c}=this.children;super.insertBefore(a,b),c instanceof cu&&c.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(a,b){super.moveChildren(a,b),this.cache={}}optimize(a){super.optimize(a),this.cache={}}path(a){return super.path(a,!0)}removeChild(a){super.removeChild(a),this.cache={}}split(a){let b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(b&&(0===a||a>=this.length()-1)){let b=this.clone();return 0===a?(this.parent.insertBefore(b,this),this):(this.parent.insertBefore(b,this.next),b)}let c=super.split(a,b);return this.cache={},c}}cA.blotName="block",cA.tagName="P",cA.defaultChild=cu,cA.allowedChildren=[cu,cz,bl,cv];class cB extends bl{attach(){super.attach(),this.attributes=new a6(this.domNode)}delta(){return new bs.default().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(a,b){let c=this.scroll.query(a,a$.BLOCK_ATTRIBUTE);null!=c&&this.attributes.attribute(c,b)}formatAt(a,b,c,d){this.format(c,d)}insertAt(a,b,c){if(null!=c)return void super.insertAt(a,b,c);let d=b.split("\n"),e=d.pop(),f=d.map(a=>{let b=this.scroll.create(cA.blotName);return b.insertAt(0,a),b}),g=this.split(a);f.forEach(a=>{this.parent.insertBefore(a,g)}),e&&this.parent.insertBefore(this.scroll.create("text",e),g)}}function cC(a){let b=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return a.descendants(ba).reduce((a,c)=>0===c.length()?a:a.insert(c.value(),cD(c,{},b)),new bs.default).insert("\n",cD(a))}function cD(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return null==a||("formats"in a&&"function"==typeof a.formats&&(b={...b,...a.formats()},c&&delete b["code-token"]),null==a.parent||"scroll"===a.parent.statics.blotName||a.parent.statics.scope!==a.statics.scope)?b:cD(a.parent,b,c)}cB.scope=a$.BLOCK_BLOT;class cE extends bl{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(a,b,c){super(a,b),this.selection=c,this.textNode=document.createTextNode(cE.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(a,b){if(0!==this.savedLength)return void super.format(a,b);let c=this,d=0;for(;null!=c&&c.statics.scope!==a$.BLOCK_BLOT;)d+=c.offset(c.parent),c=c.parent;null!=c&&(this.savedLength=cE.CONTENTS.length,c.optimize(),c.formatAt(d,cE.CONTENTS.length,a,b),this.savedLength=0)}index(a,b){return a===this.textNode?0:super.index(a,b)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){let a;if(this.selection.composing||null==this.parent)return null;let b=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);let c=this.prev instanceof cv?this.prev:null,d=c?c.length():0,e=this.next instanceof cv?this.next:null,f=e?e.text:"",{textNode:g}=this,h=g.data.split(cE.CONTENTS).join("");if(g.data=cE.CONTENTS,c)a=c,(h||e)&&(c.insertAt(c.length(),h+f),e&&e.remove());else if(e)a=e,e.insertAt(0,h);else{let b=document.createTextNode(h);a=this.scroll.create(b),this.parent.insertBefore(a,this)}if(this.remove(),b){let f=(a,b)=>c&&a===c.domNode?b:a===g?d+b-1:e&&a===e.domNode?d+h.length+b:null,i=f(b.start.node,b.start.offset),j=f(b.end.node,b.end.offset);if(null!==i&&null!==j)return{startNode:a.domNode,startOffset:i,endNode:a.domNode,endOffset:j}}return null}update(a,b){if(a.some(a=>"characterData"===a.type&&a.target===this.textNode)){let a=this.restore();a&&(b.range=a)}}optimize(a){super.optimize(a);let{parent:b}=this;for(;b;){if("A"===b.domNode.tagName){this.savedLength=cE.CONTENTS.length,b.isolate(this.offset(b),this.length()).unwrap(),this.savedLength=0;break}b=b.parent}}value(){return""}}var cF=a.i(64939);cF.default;var cG=cF;let cH=new WeakMap,cI=["error","warn","log","info"],cJ="warn";function cK(a){if(cJ&&cI.indexOf(a)<=cI.indexOf(cJ)){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];console[a](...c)}}function cL(a){return cI.reduce((b,c)=>(b[c]=cK.bind(console,c,a),b),{})}cL.level=a=>{cJ=a},cK.level=cL.level;let cM=cL("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(a=>{document.addEventListener(a,function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{let c=cH.get(a);c&&c.emitter&&c.emitter.handleDOM(...b)})})});class cN extends cG.default{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",cM.error)}emit(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return cM.log.call(cM,...b),super.emit(...b)}handleDOM(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];(this.domListeners[a.type]||[]).forEach(b=>{let{node:d,handler:e}=b;(a.target===d||d.contains(a.target))&&e(a,...c)})}listenDOM(a,b,c){this.domListeners[a]||(this.domListeners[a]=[]),this.domListeners[a].push({node:b,handler:c})}}let cO=cL("quill:selection");class cP{constructor(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=a,this.length=b}}function cQ(a,b){try{b.parentNode}catch(a){return!1}return a.contains(b)}let cR=class{constructor(a,b){this.emitter=b,this.scroll=a,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new cP(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,cN.sources.USER),1)}),this.emitter.on(cN.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;let a=this.getNativeRange();null==a||a.start.node!==this.cursor.textNode&&this.emitter.once(cN.events.SCROLL_UPDATE,(b,c)=>{try{this.root.contains(a.start.node)&&this.root.contains(a.end.node)&&this.setNativeRange(a.start.node,a.start.offset,a.end.node,a.end.offset);let d=c.some(a=>"characterData"===a.type||"childList"===a.type||"attributes"===a.type&&a.target===this.root);this.update(d?cN.sources.SILENT:b)}catch(a){}})}),this.emitter.on(cN.events.SCROLL_OPTIMIZE,(a,b)=>{if(b.range){let{startNode:a,startOffset:c,endNode:d,endOffset:e}=b.range;this.setNativeRange(a,c,d,e),this.update(cN.sources.SILENT)}}),this.update(cN.sources.SILENT)}handleComposition(){this.emitter.on(cN.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(cN.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){let a=this.cursor.restore();a&&setTimeout(()=>{this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(cN.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(a,b){this.scroll.update();let c=this.getNativeRange();if(!(null==c||!c.native.collapsed||this.scroll.query(a,a$.BLOCK))){if(c.start.node!==this.cursor.textNode){let a=this.scroll.find(c.start.node,!1);if(null==a)return;if(a instanceof ba){let b=a.split(c.start.offset);a.parent.insertBefore(this.cursor,b)}else a.insertBefore(this.cursor,c.start.node);this.cursor.attach()}this.cursor.format(a,b),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(a){let b,c,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=this.scroll.length();d=Math.min((a=Math.min(a,e-1))+d,e-1)-a;let[f,g]=this.scroll.leaf(a);if(null==f)return null;if(d>0&&g===f.length()){let[b]=this.scroll.leaf(a+1);if(b){let[c]=this.scroll.line(a),[d]=this.scroll.line(a+1);c===d&&(f=b,g=0)}}[b,g]=f.position(g,!0);let h=document.createRange();if(d>0)return(h.setStart(b,g),[f,g]=this.scroll.leaf(a+d),null==f)?null:([b,g]=f.position(g,!0),h.setEnd(b,g),h.getBoundingClientRect());let i="left";if(b instanceof Text){if(!b.data.length)return null;g<b.data.length?(h.setStart(b,g),h.setEnd(b,g+1)):(h.setStart(b,g-1),h.setEnd(b,g),i="right"),c=h.getBoundingClientRect()}else{if(!(f.domNode instanceof Element))return null;c=f.domNode.getBoundingClientRect(),g>0&&(i="right")}return{bottom:c.top+c.height,height:c.height,left:c[i],right:c[i],top:c.top,width:0}}getNativeRange(){let a=document.getSelection();if(null==a||a.rangeCount<=0)return null;let b=a.getRangeAt(0);if(null==b)return null;let c=this.normalizeNative(b);return cO.info("getNativeRange",c),c}getRange(){let a=this.scroll.domNode;if("isConnected"in a&&!a.isConnected)return[null,null];let b=this.getNativeRange();return null==b?[null,null]:[this.normalizedToRange(b),b]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&cQ(this.root,document.activeElement)}normalizedToRange(a){let b=[[a.start.node,a.start.offset]];a.native.collapsed||b.push([a.end.node,a.end.offset]);let c=b.map(a=>{let[b,c]=a,d=this.scroll.find(b,!0),e=d.offset(this.scroll);return 0===c?e:d instanceof ba?e+d.index(b,c):e+d.length()}),d=Math.min(Math.max(...c),this.scroll.length()-1),e=Math.min(d,...c);return new cP(e,d-e)}normalizeNative(a){if(!cQ(this.root,a.startContainer)||!a.collapsed&&!cQ(this.root,a.endContainer))return null;let b={start:{node:a.startContainer,offset:a.startOffset},end:{node:a.endContainer,offset:a.endOffset},native:a};return[b.start,b.end].forEach(a=>{let{node:b,offset:c}=a;for(;!(b instanceof Text)&&b.childNodes.length>0;)if(b.childNodes.length>c)b=b.childNodes[c],c=0;else if(b.childNodes.length===c)c=(b=b.lastChild)instanceof Text?b.data.length:b.childNodes.length>0?b.childNodes.length:b.childNodes.length+1;else break;a.node=b,a.offset=c}),b}rangeToNative(a){let b=this.scroll.length(),c=(a,c)=>{a=Math.min(b-1,a);let[d,e]=this.scroll.leaf(a);return d?d.position(e,c):[null,-1]};return[...c(a.index,!1),...c(a.index+a.length,!0)]}setNativeRange(a,b){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,e=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(cO.info("setNativeRange",a,b,c,d),null!=a&&(null==this.root.parentNode||null==a.parentNode||null==c.parentNode))return;let f=document.getSelection();if(null!=f)if(null!=a){this.hasFocus()||this.root.focus({preventScroll:!0});let{native:g}=this.getNativeRange()||{};if(null==g||e||a!==g.startContainer||b!==g.startOffset||c!==g.endContainer||d!==g.endOffset){a instanceof Element&&"BR"===a.tagName&&(b=Array.from(a.parentNode.childNodes).indexOf(a),a=a.parentNode),c instanceof Element&&"BR"===c.tagName&&(d=Array.from(c.parentNode.childNodes).indexOf(c),c=c.parentNode);let e=document.createRange();e.setStart(a,b),e.setEnd(c,d),f.removeAllRanges(),f.addRange(e)}}else f.removeAllRanges(),this.root.blur()}setRange(a){let b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cN.sources.API;if("string"==typeof b&&(c=b,b=!1),cO.info("setRange",a),null!=a){let c=this.rangeToNative(a);this.setNativeRange(...c,b)}else this.setNativeRange(null);this.update(c)}update(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cN.sources.USER,b=this.lastRange,[c,d]=this.getRange();if(this.lastRange=c,this.lastNative=d,null!=this.lastRange&&(this.savedRange=this.lastRange),!ct(b,this.lastRange)){if(!this.composing&&null!=d&&d.native.collapsed&&d.start.node!==this.cursor.textNode){let a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}let c=[cN.events.SELECTION_CHANGE,cd(this.lastRange),cd(b),a];this.emitter.emit(cN.events.EDITOR_CHANGE,...c),a!==cN.sources.SILENT&&this.emitter.emit(...c)}}},cS=/^[ -~]*$/;function cT(a,b,c){let d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in a&&"function"==typeof a.html)return a.html(b,c);if(a instanceof cv)return cx(a.value().slice(b,b+c)).replaceAll(" ","&nbsp;");if(a instanceof be){if("list-container"===a.statics.blotName){let d=[];return a.children.forEachAt(b,c,(a,b,c)=>{let e="formats"in a&&"function"==typeof a.formats?a.formats():{};d.push({child:a,offset:b,length:c,indent:e.indent||0,type:e.list})}),function a(b,c,d){if(0===b.length){let[b]=cU(d.pop());return c<=0?`</li></${b}>`:`</li></${b}>${a([],c-1,d)}`}let[{child:e,offset:f,length:g,indent:h,type:i},...j]=b,[k,l]=cU(i);if(h>c)return(d.push(i),h===c+1)?`<${k}><li${l}>${cT(e,f,g)}${a(j,h,d)}`:`<${k}><li>${a(b,c+1,d)}`;let m=d[d.length-1];if(h===c&&i===m)return`</li><li${l}>${cT(e,f,g)}${a(j,h,d)}`;let[n]=cU(d.pop());return`</li></${n}>${a(b,c-1,d)}`}(d,-1,[])}let e=[];if(a.children.forEachAt(b,c,(a,b,c)=>{e.push(cT(a,b,c))}),d||"list"===a.statics.blotName)return e.join("");let{outerHTML:f,innerHTML:g}=a.domNode,[h,i]=f.split(`>${g}<`);return"<table"===h?`<table style="border: 1px solid #000;">${e.join("")}<${i}`:`${h}>${e.join("")}<${i}`}return a.domNode instanceof Element?a.domNode.outerHTML:""}function cU(a){let b="ordered"===a?"ol":"ul";switch(a){case"checked":return[b,' data-list="checked"'];case"unchecked":return[b,' data-list="unchecked"'];default:return[b,""]}}function cV(a){return a.reduce((a,b)=>{if("string"==typeof b.insert){let c=b.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return a.insert(c,b.attributes)}return a.push(b)},new bs.default)}function cW(a,b){let{index:c,length:d}=a;return new cP(c+b,d)}let cX=class{constructor(a){this.scroll=a,this.delta=this.getDelta()}applyDelta(a){var b;let c;this.scroll.update();let d=this.scroll.length();this.scroll.batchStart();let e=cV(a),f=new bs.default;return(b=e.ops.slice(),c=[],b.forEach(a=>{"string"==typeof a.insert?a.insert.split("\n").forEach((b,d)=>{d&&c.push({insert:"\n",attributes:a.attributes}),b&&c.push({insert:b,attributes:a.attributes})}):c.push(a)}),c).reduce((a,b)=>{let c=bs.Op.length(b),e=b.attributes||{},g=!1,h=!1;if(null!=b.insert){if(f.retain(c),"string"==typeof b.insert){let c=b.insert;h=!c.endsWith("\n")&&(d<=a||!!this.scroll.descendant(cB,a)[0]),this.scroll.insertAt(a,c);let[f,g]=this.scroll.line(a),i=aZ({},cD(f));if(f instanceof cA){let[a]=f.descendant(ba,g);a&&(i=aZ(i,cD(a)))}e=bs.AttributeMap.diff(i,e)||{}}else if("object"==typeof b.insert){let c=Object.keys(b.insert)[0];if(null==c)return a;let f=null!=this.scroll.query(c,a$.INLINE);if(f)(d<=a||this.scroll.descendant(cB,a)[0])&&(h=!0);else if(a>0){let[b,c]=this.scroll.descendant(ba,a-1);b instanceof cv?"\n"!==b.value()[c]&&(g=!0):b instanceof bl&&b.statics.scope===a$.INLINE_BLOT&&(g=!0)}if(this.scroll.insertAt(a,c,b.insert[c]),f){let[b]=this.scroll.descendant(ba,a);if(b){let a=aZ({},cD(b));e=bs.AttributeMap.diff(a,e)||{}}}}d+=c}else if(f.push(b),null!==b.retain&&"object"==typeof b.retain){let c=Object.keys(b.retain)[0];if(null==c)return a;this.scroll.updateEmbedAt(a,c,b.retain[c])}Object.keys(e).forEach(b=>{this.scroll.formatAt(a,c,b,e[b])});let i=+!!g,j=+!!h;return d+=i+j,f.retain(i),f.delete(j),a+c+i+j},0),f.reduce((a,b)=>"number"==typeof b.delete?(this.scroll.deleteAt(a,b.delete),a):a+bs.Op.length(b),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(e)}deleteText(a,b){return this.scroll.deleteAt(a,b),this.update(new bs.default().retain(a).delete(b))}formatLine(a,b){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(c).forEach(d=>{this.scroll.lines(a,Math.max(b,1)).forEach(a=>{a.format(d,c[d])})}),this.scroll.optimize();let d=new bs.default().retain(a).retain(b,cd(c));return this.update(d)}formatText(a,b){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(c).forEach(d=>{this.scroll.formatAt(a,b,d,c[d])});let d=new bs.default().retain(a).retain(b,cd(c));return this.update(d)}getContents(a,b){return this.delta.slice(a,a+b)}getDelta(){return this.scroll.lines().reduce((a,b)=>a.concat(b.delta()),new bs.default)}getFormat(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=[],d=[];0===b?this.scroll.path(a).forEach(a=>{let[b]=a;b instanceof cA?c.push(b):b instanceof ba&&d.push(b)}):(c=this.scroll.lines(a,b),d=this.scroll.descendants(ba,a,b));let[e,f]=[c,d].map(a=>{let b=a.shift();if(null==b)return{};let c=cD(b);for(;Object.keys(c).length>0;){let b=a.shift();if(null==b)break;c=function(a,b){return Object.keys(b).reduce((c,d)=>{if(null==a[d])return c;let e=b[d];return e===a[d]?c[d]=e:Array.isArray(e)?0>e.indexOf(a[d])?c[d]=e.concat([a[d]]):c[d]=e:c[d]=[e,a[d]],c},{})}(cD(b),c)}return c});return{...e,...f}}getHTML(a,b){let[c,d]=this.scroll.line(a);if(c){let e=c.length();return c.length()>=d+b&&(0!==d||b!==e)?cT(c,d,b,!0):cT(this.scroll,a,b,!0)}return""}getText(a,b){return this.getContents(a,b).filter(a=>"string"==typeof a.insert).map(a=>a.insert).join("")}insertContents(a,b){let c=cV(b),d=new bs.default().retain(a).concat(c);return this.scroll.insertContents(a,c),this.update(d)}insertEmbed(a,b,c){return this.scroll.insertAt(a,b,c),this.update(new bs.default().retain(a).insert({[b]:c}))}insertText(a,b){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b=b.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(a,b),Object.keys(c).forEach(d=>{this.scroll.formatAt(a,b.length,d,c[d])}),this.update(new bs.default().retain(a).insert(b,cd(c)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;let a=this.scroll.children.head;return a?.statics.blotName===cA.blotName&&!(a.children.length>1)&&a.children.head instanceof cu}removeFormat(a,b){let c=this.getText(a,b),[d,e]=this.scroll.line(a+b),f=0,g=new bs.default;null!=d&&(f=d.length()-e,g=d.delta().slice(e,e+f-1).insert("\n"));let h=this.getContents(a,b+f).diff(new bs.default().insert(c).concat(g)),i=new bs.default().retain(a).concat(h);return this.applyDelta(i)}update(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=this.delta;if(1===b.length&&"characterData"===b[0].type&&b[0].target.data.match(cS)&&this.scroll.find(b[0].target)){let e=this.scroll.find(b[0].target),f=cD(e),g=e.offset(this.scroll),h=b[0].oldValue.replace(cE.CONTENTS,""),i=new bs.default().insert(h),j=new bs.default().insert(e.value()),k=c&&{oldRange:cW(c.oldRange,-g),newRange:cW(c.newRange,-g)};a=new bs.default().retain(g).concat(i.diff(j,k)).reduce((a,b)=>b.insert?a.insert(b.insert,f):a.push(b),new bs.default),this.delta=d.compose(a)}else this.delta=this.getDelta(),a&&ct(d.compose(a),this.delta)||(a=d.diff(this.delta,c));return a}},cY=class{static DEFAULTS={};constructor(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=a,this.options=b}},cZ=class extends bl{constructor(a,b){super(a,b),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(a=>{this.contentNode.appendChild(a)}),this.leftGuard=document.createTextNode("\uFEFF"),this.rightGuard=document.createTextNode("\uFEFF"),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(a,b){return a===this.leftGuard?0:a===this.rightGuard?1:super.index(a,b)}restore(a){let b,c=null,d=a.data.split("\uFEFF").join("");if(a===this.leftGuard)if(this.prev instanceof cv){let a=this.prev.length();this.prev.insertAt(a,d),c={startNode:this.prev.domNode,startOffset:a+d.length}}else b=document.createTextNode(d),this.parent.insertBefore(this.scroll.create(b),this),c={startNode:b,startOffset:d.length};else a===this.rightGuard&&(this.next instanceof cv?(this.next.insertAt(0,d),c={startNode:this.next.domNode,startOffset:d.length}):(b=document.createTextNode(d),this.parent.insertBefore(this.scroll.create(b),this.next),c={startNode:b,startOffset:d.length}));return a.data="\uFEFF",c}update(a,b){a.forEach(a=>{if("characterData"===a.type&&(a.target===this.leftGuard||a.target===this.rightGuard)){let c=this.restore(a.target);c&&(b.range=c)}})}},c$=class{isComposing=!1;constructor(a,b){this.scroll=a,this.emitter=b,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",a=>{this.isComposing||this.handleCompositionStart(a)}),this.scroll.domNode.addEventListener("compositionend",a=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(a)})})}handleCompositionStart(a){let b=a.target instanceof Node?this.scroll.find(a.target,!0):null;!b||b instanceof cZ||(this.emitter.emit(cN.events.COMPOSITION_BEFORE_START,a),this.scroll.batchStart(),this.emitter.emit(cN.events.COMPOSITION_START,a),this.isComposing=!0)}handleCompositionEnd(a){this.emitter.emit(cN.events.COMPOSITION_BEFORE_END,a),this.scroll.batchEnd(),this.emitter.emit(cN.events.COMPOSITION_END,a),this.isComposing=!1}};class c_{static DEFAULTS={modules:{}};static themes={default:c_};modules={};constructor(a,b){this.quill=a,this.options=b}init(){Object.keys(this.options.modules).forEach(a=>{null==this.modules[a]&&this.addModule(a)})}addModule(a){let b=this.quill.constructor.import(`modules/${a}`);return this.modules[a]=new b(this.quill,this.options.modules[a]||{}),this.modules[a]}}let c0=c_,c1=a=>a.parentElement||a.getRootNode().host||null,c2=a=>{let b=a.getBoundingClientRect(),c="offsetWidth"in a&&Math.abs(b.width)/a.offsetWidth||1,d="offsetHeight"in a&&Math.abs(b.height)/a.offsetHeight||1;return{top:b.top,right:b.left+a.clientWidth*c,bottom:b.top+a.clientHeight*d,left:b.left}},c3=a=>{let b=parseInt(a,10);return Number.isNaN(b)?0:b},c4=(a,b,c,d,e,f)=>a<c&&b>d?0:a<c?-(c-a+e):b>d?b-a>d-c?a+e-c:b-d+f:0,c5=["block","break","cursor","inline","scroll","text"],c6=cL("quill"),c7=new br.Registry;br.ParentBlot.uiClass="ql-ui";class c8{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:c7,theme:"default"};static events=cN.events;static sources=cN.sources;static version="2.0.3";static imports={delta:bs.default,parchment:br,"core/module":cY,"core/theme":c0};static debug(a){!0===a&&(a="log"),cL.level(a)}static find(a){let b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return cH.get(a)||c7.find(a,b)}static import(a){return null==this.imports[a]&&c6.error(`Cannot import ${a}. Are you sure it was registered?`),this.imports[a]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){let a=arguments.length<=0?void 0:arguments[0],b=!!(arguments.length<=1?void 0:arguments[1]),c="attrName"in a?a.attrName:a.blotName;"string"==typeof c?this.register(`formats/${c}`,a,b):Object.keys(a).forEach(c=>{this.register(c,a[c],b)})}else{let a=arguments.length<=0?void 0:arguments[0],b=arguments.length<=1?void 0:arguments[1],c=!!(arguments.length<=2?void 0:arguments[2]);null==this.imports[a]||c||c6.warn(`Overwriting ${a} with`,b),this.imports[a]=b,(a.startsWith("blots/")||a.startsWith("formats/"))&&b&&"boolean"!=typeof b&&"abstract"!==b.blotName&&c7.register(b),"function"==typeof b.register&&b.register(c7)}}constructor(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=function(a,b){let c=c9(a);if(!c)throw Error("Invalid Quill container");let d=b.theme&&b.theme!==c8.DEFAULTS.theme?c8.import(`themes/${b.theme}`):c0;if(!d)throw Error(`Invalid theme ${b.theme}. Did you register it?`);let{modules:e,...f}=c8.DEFAULTS,{modules:g,...h}=d.DEFAULTS,i=da(b.modules);null!=i&&i.toolbar&&i.toolbar.constructor!==Object&&(i={...i,toolbar:{container:i.toolbar}});let j=aZ({},da(e),da(g),i),k={...f,...db(h),...db(b)},l=b.registry;if(l)b.formats&&c6.warn('Ignoring "formats" option because "registry" is specified');else{var m,n;let a;l=b.formats?(m=b.formats,n=k.registry,a=new a1,c5.forEach(b=>{let c=n.query(b);c&&a.register(c)}),m.forEach(b=>{let c=n.query(b);c||c6.error(`Cannot register "${b}" specified in "formats" config. Are you sure it was registered?`);let d=0;for(;c;)if(a.register(c),c="blotName"in c?c.requiredContainer??null:null,(d+=1)>100){c6.error(`Cycle detected in registering blot requiredContainer: "${b}"`);break}}),a):k.registry}return{...k,registry:l,container:c,theme:d,modules:Object.entries(j).reduce((a,b)=>{let[c,d]=b;if(!d)return a;let e=c8.import(`modules/${c}`);return null==e?(c6.error(`Cannot load ${c} module. Are you sure you registered it?`),a):{...a,[c]:aZ({},e.DEFAULTS||{},d)}},{}),bounds:c9(k.bounds)}}(a,b),this.container=this.options.container,null==this.container)return void c6.error("Invalid Quill container",a);this.options.debug&&c8.debug(this.options.debug);const c=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",cH.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new cN;const d=br.ScrollBlot.blotName,e=this.options.registry.query(d);if(!e||!("blotName"in e))throw Error(`Cannot initialize Quill without "${d}" blot`);if(this.scroll=new e(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new cX(this.scroll),this.selection=new cR(this.scroll,this.emitter),this.composition=new c$(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(cN.events.EDITOR_CHANGE,a=>{a===cN.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(cN.events.SCROLL_UPDATE,(a,b)=>{let c=this.selection.lastRange,[d]=this.selection.getRange(),e=c&&d?{oldRange:c,newRange:d}:void 0;dc.call(this,()=>this.editor.update(null,b,e),a)}),this.emitter.on(cN.events.SCROLL_EMBED_UPDATE,(a,b)=>{let c=this.selection.lastRange,[d]=this.selection.getRange(),e=c&&d?{oldRange:c,newRange:d}:void 0;dc.call(this,()=>{let c=new bs.default().retain(a.offset(this)).retain({[a.statics.blotName]:b});return this.editor.update(c,[],e)},c8.sources.USER)}),c){const a=this.clipboard.convert({html:`${c}<p><br></p>`,text:"\n"});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof a){let b=a;(a=document.createElement("div")).classList.add(b)}return this.container.insertBefore(a,b),a}blur(){this.selection.setRange(null)}deleteText(a,b,c){return[a,b,,c]=dd(a,b,c),dc.call(this,()=>this.editor.deleteText(a,b),c,a,-1*b)}disable(){this.enable(!1)}editReadOnly(a){this.allowReadOnlyEdits=!0;let b=a();return this.allowReadOnlyEdits=!1,b}enable(){let a=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this.scroll.enable(a),this.container.classList.toggle("ql-disabled",!a)}focus(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),a.preventScroll||this.scrollSelectionIntoView()}format(a,b){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cN.sources.API;return dc.call(this,()=>{let c=this.getSelection(!0),d=new bs.default;if(null==c)return d;if(this.scroll.query(a,br.Scope.BLOCK))d=this.editor.formatLine(c.index,c.length,{[a]:b});else{if(0===c.length)return this.selection.format(a,b),d;d=this.editor.formatText(c.index,c.length,{[a]:b})}return this.setSelection(c,cN.sources.SILENT),d},c)}formatLine(a,b,c,d,e){let f;return[a,b,f,e]=dd(a,b,c,d,e),dc.call(this,()=>this.editor.formatLine(a,b,f),e,a,0)}formatText(a,b,c,d,e){let f;return[a,b,f,e]=dd(a,b,c,d,e),dc.call(this,()=>this.editor.formatText(a,b,f),e,a,0)}getBounds(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=null;if(!(c="number"==typeof a?this.selection.getBounds(a,b):this.selection.getBounds(a.index,a.length)))return null;let d=this.container.getBoundingClientRect();return{bottom:c.bottom-d.top,height:c.height,left:c.left-d.left,right:c.right-d.left,top:c.top-d.top,width:c.width}}getContents(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-a;return[a,b]=dd(a,b),this.editor.getContents(a,b)}getFormat(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof a?this.editor.getFormat(a,b):this.editor.getFormat(a.index,a.length)}getIndex(a){return a.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(a){return this.scroll.leaf(a)}getLine(a){return this.scroll.line(a)}getLines(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof a?this.scroll.lines(a.index,a.length):this.scroll.lines(a,b)}getModule(a){return this.theme.modules[a]}getSelection(){let a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1?arguments[1]:void 0;return"number"==typeof a&&(b=b??this.getLength()-a),[a,b]=dd(a,b),this.editor.getHTML(a,b)}getText(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1?arguments[1]:void 0;return"number"==typeof a&&(b=b??this.getLength()-a),[a,b]=dd(a,b),this.editor.getText(a,b)}hasFocus(){return this.selection.hasFocus()}insertEmbed(a,b,c){let d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c8.sources.API;return dc.call(this,()=>this.editor.insertEmbed(a,b,c),d,a)}insertText(a,b,c,d,e){let f;return[a,,f,e]=dd(a,0,c,d,e),dc.call(this,()=>this.editor.insertText(a,b,f),e,a,b.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(a,b,c){return[a,b,,c]=dd(a,b,c),dc.call(this,()=>this.editor.removeFormat(a,b),c,a)}scrollRectIntoView(a){((a,b)=>{let c=a.ownerDocument,d=b,e=a;for(;e;){let a=e===c.body,b=a?{top:0,right:window.visualViewport?.width??c.documentElement.clientWidth,bottom:window.visualViewport?.height??c.documentElement.clientHeight,left:0}:c2(e),f=getComputedStyle(e),g=c4(d.left,d.right,b.left,b.right,c3(f.scrollPaddingLeft),c3(f.scrollPaddingRight)),h=c4(d.top,d.bottom,b.top,b.bottom,c3(f.scrollPaddingTop),c3(f.scrollPaddingBottom));if(g||h)if(a)c.defaultView?.scrollBy(g,h);else{let{scrollLeft:a,scrollTop:b}=e;h&&(e.scrollTop+=h),g&&(e.scrollLeft+=g);let c=e.scrollLeft-a,f=e.scrollTop-b;d={left:d.left-c,top:d.top-f,right:d.right-c,bottom:d.bottom-f}}e=a||"fixed"===f.position?null:c1(e)}})(this.root,a)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){let a=this.selection.lastRange,b=a&&this.selection.getBounds(a.index,a.length);b&&this.scrollRectIntoView(b)}setContents(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cN.sources.API;return dc.call(this,()=>{a=new bs.default(a);let b=this.getLength(),c=this.editor.deleteText(0,b),d=this.editor.insertContents(0,a),e=this.editor.deleteText(this.getLength()-1,1);return c.compose(d).compose(e)},b)}setSelection(a,b,c){null==a?this.selection.setRange(null,b||c8.sources.API):([a,b,,c]=dd(a,b,c),this.selection.setRange(new cP(Math.max(0,a),b),c),c!==cN.sources.SILENT&&this.scrollSelectionIntoView())}setText(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cN.sources.API,c=new bs.default().insert(a);return this.setContents(c,b)}update(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cN.sources.USER,b=this.scroll.update(a);return this.selection.update(a),b}updateContents(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cN.sources.API;return dc.call(this,()=>(a=new bs.default(a),this.editor.applyDelta(a)),b,!0)}}function c9(a){return"string"==typeof a?document.querySelector(a):a}function da(a){return Object.entries(a??{}).reduce((a,b)=>{let[c,d]=b;return{...a,[c]:!0===d?{}:d}},{})}function db(a){return Object.fromEntries(Object.entries(a).filter(a=>void 0!==a[1]))}function dc(a,b,c,d){if(!this.isEnabled()&&b===cN.sources.USER&&!this.allowReadOnlyEdits)return new bs.default;let e=null==c?null:this.getSelection(),f=this.editor.delta,g=a();if(null!=e&&(!0===c&&(c=e.index),null==d?e=de(e,g,b):0!==d&&(e=de(e,c,d,b)),this.setSelection(e,cN.sources.SILENT)),g.length()>0){let a=[cN.events.TEXT_CHANGE,g,f,b];this.emitter.emit(cN.events.EDITOR_CHANGE,...a),b!==cN.sources.SILENT&&this.emitter.emit(...a)}return g}function dd(a,b,c,d,e){let f={};return"number"==typeof a.index&&"number"==typeof a.length?("number"!=typeof b&&(e=d,d=c,c=b),b=a.length,a=a.index):"number"!=typeof b&&(e=d,d=c,c=b,b=0),"object"==typeof c?(f=c,e=d):"string"==typeof c&&(null!=d?f[c]=d:e=c),[a,b,f,e=e||cN.sources.API]}function de(a,b,c,d){let e,f,g="number"==typeof c?c:0;return null==a?null:(b&&"function"==typeof b.transformPosition?[e,f]=[a.index,a.index+a.length].map(a=>b.transformPosition(a,d!==cN.sources.USER)):[e,f]=[a.index,a.index+a.length].map(a=>a<b||a===b&&d===cN.sources.USER?a:g>=0?a+g:Math.max(b,a+g)),new cP(e,f-e))}var df=br;let dg=class extends bk{};function dh(a){return a instanceof cA||a instanceof cB}function di(a){return"function"==typeof a.updateContent}function dj(a,b,c){c.reduce((b,c)=>{let d=bs.Op.length(c),e=c.attributes||{};if(null!=c.insert){if("string"==typeof c.insert){let d=c.insert;a.insertAt(b,d);let[f]=a.descendant(ba,b),g=cD(f);e=bs.AttributeMap.diff(g,e)||{}}else if("object"==typeof c.insert){let d=Object.keys(c.insert)[0];if(null==d)return b;if(a.insertAt(b,d,c.insert[d]),null!=a.scroll.query(d,a$.INLINE)){let[c]=a.descendant(ba,b),d=cD(c);e=bs.AttributeMap.diff(d,e)||{}}}}return Object.keys(e).forEach(c=>{a.formatAt(b,d,c,e[c])}),b+d},b)}let dk=class extends bo{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=cA;static allowedChildren=[cA,cB,dg];constructor(a,b,c){let{emitter:d}=c;super(a,b),this.emitter=d,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;let a=this.batch;this.batch=!1,this.update(a)}emitMount(a){this.emitter.emit(cN.events.SCROLL_BLOT_MOUNT,a)}emitUnmount(a){this.emitter.emit(cN.events.SCROLL_BLOT_UNMOUNT,a)}emitEmbedUpdate(a,b){this.emitter.emit(cN.events.SCROLL_EMBED_UPDATE,a,b)}deleteAt(a,b){let[c,d]=this.line(a),[e]=this.line(a+b);if(super.deleteAt(a,b),null!=e&&c!==e&&d>0){if(c instanceof cB||e instanceof cB)return void this.optimize();let a=e.children.head instanceof cu?null:e.children.head;c.moveChildren(e,a),c.remove()}this.optimize()}enable(){let a=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this.domNode.setAttribute("contenteditable",a?"true":"false")}formatAt(a,b,c,d){super.formatAt(a,b,c,d),this.optimize()}insertAt(a,b,c){if(a>=this.length())if(null==c||null==this.scroll.query(b,a$.BLOCK)){let a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),null==c&&b.endsWith("\n")?a.insertAt(0,b.slice(0,-1),c):a.insertAt(0,b,c)}else{let a=this.scroll.create(b,c);this.appendChild(a)}else super.insertAt(a,b,c);this.optimize()}insertBefore(a,b){if(a.statics.scope===a$.INLINE_BLOT){let c=this.scroll.create(this.statics.defaultChild.blotName);c.appendChild(a),super.insertBefore(c,b)}else super.insertBefore(a,b)}insertContents(a,b){let c=this.deltaToRenderBlocks(b.concat(new bs.default().insert("\n"))),d=c.pop();if(null==d)return;this.batchStart();let e=c.shift();if(e){let b="block"===e.type&&(0===e.delta.length()||!this.descendant(cB,a)[0]&&a<this.length()),c="block"===e.type?e.delta:new bs.default().insert({[e.key]:e.value});dj(this,a,c);let d=+("block"===e.type),f=a+c.length()+d;b&&this.insertAt(f-1,"\n");let g=cD(this.line(a)[0]),h=bs.AttributeMap.diff(g,e.attributes)||{};Object.keys(h).forEach(a=>{this.formatAt(f-1,1,a,h[a])}),a=f}let[f,g]=this.children.find(a);c.length&&(f&&(f=f.split(g),g=0),c.forEach(a=>{if("block"===a.type)dj(this.createBlock(a.attributes,f||void 0),0,a.delta);else{let b=this.create(a.key,a.value);this.insertBefore(b,f||void 0),Object.keys(a.attributes).forEach(c=>{b.format(c,a.attributes[c])})}})),"block"===d.type&&d.delta.length()&&dj(this,f?f.offset(f.scroll)+g:this.length(),d.delta),this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(a){let b=this.path(a).pop();if(!b)return[null,-1];let[c,d]=b;return c instanceof ba?[c,d]:[null,-1]}line(a){return a===this.length()?this.line(a-1):this.descendant(dh,a)}lines(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,c=(a,b,d)=>{let e=[],f=d;return a.children.forEachAt(b,d,(a,b,d)=>{dh(a)?e.push(a):a instanceof bk&&(e=e.concat(c(a,b,f))),f-=d}),e};return c(this,a,b)}optimize(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!this.batch&&(super.optimize(a,b),a.length>0&&this.emitter.emit(cN.events.SCROLL_OPTIMIZE,a,b))}path(a){return super.path(a).slice(1)}remove(){}update(a){if(this.batch){Array.isArray(a)&&(this.batch=this.batch.concat(a));return}let b=cN.sources.USER;"string"==typeof a&&(b=a),Array.isArray(a)||(a=this.observer.takeRecords()),(a=a.filter(a=>{let{target:b}=a,c=this.find(b,!0);return c&&!di(c)})).length>0&&this.emitter.emit(cN.events.SCROLL_BEFORE_UPDATE,b,a),super.update(a.concat([])),a.length>0&&this.emitter.emit(cN.events.SCROLL_UPDATE,b,a)}updateEmbedAt(a,b,c){let[d]=this.descendant(a=>a instanceof cB,a);d&&d.statics.blotName===b&&di(d)&&d.updateContent(c)}handleDragStart(a){a.preventDefault()}deltaToRenderBlocks(a){let b=[],c=new bs.default;return a.forEach(a=>{let d=a?.insert;if(d)if("string"==typeof d){let e=d.split("\n");e.slice(0,-1).forEach(d=>{c.insert(d,a.attributes),b.push({type:"block",delta:c,attributes:a.attributes??{}}),c=new bs.default});let f=e[e.length-1];f&&c.insert(f,a.attributes)}else{let e=Object.keys(d)[0];if(!e)return;this.query(e,a$.INLINE)?c.push(a):(c.length()&&b.push({type:"block",delta:c,attributes:{}}),c=new bs.default,b.push({type:"blockEmbed",key:e,value:d[e],attributes:a.attributes??{}}))}}),c.length()&&b.push({type:"block",delta:c,attributes:{}}),b}createBlock(a,b){let c,d={};Object.entries(a).forEach(a=>{let[b,e]=a;null!=this.query(b,a$.BLOCK&a$.BLOT)?c=b:d[b]=e});let e=this.create(c||this.statics.defaultChild.blotName,c?a[c]:void 0);this.insertBefore(e,b||void 0);let f=e.length();return Object.entries(d).forEach(a=>{let[b,c]=a;e.formatAt(0,f,b,c)}),e}},dl={scope:a$.BLOCK,whitelist:["right","center","justify"]},dm=new a_("align","align",dl),dn=new a3("align","ql-align",dl),dp=new a5("align","text-align",dl);class dq extends a5{value(a){let b=super.value(a);if(!b.startsWith("rgb("))return b;let c=(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("");return`#${c}`}}let dr=new a3("color","ql-color",{scope:a$.INLINE}),ds=new dq("color","color",{scope:a$.INLINE}),dt=new a3("background","ql-bg",{scope:a$.INLINE}),du=new dq("background","background-color",{scope:a$.INLINE});class dv extends dg{static create(a){let b=super.create(a);return b.setAttribute("spellcheck","false"),b}code(a,b){return this.children.map(a=>1>=a.length()?"":a.domNode.innerText).join("\n").slice(a,a+b)}html(a,b){return`<pre>
${cx(this.code(a,b))}
</pre>`}}class dw extends cA{static TAB="  ";static register(){c8.register(dv)}}class dx extends cz{}dx.blotName="code",dx.tagName="CODE",dw.blotName="code-block",dw.className="ql-code-block",dw.tagName="DIV",dv.blotName="code-block-container",dv.className="ql-code-block-container",dv.tagName="DIV",dv.allowedChildren=[dw],dw.allowedChildren=[cv,cu,cE],dw.requiredContainer=dv;let dy={scope:a$.BLOCK,whitelist:["rtl"]},dz=new a_("direction","dir",dy),dA=new a3("direction","ql-direction",dy),dB=new a5("direction","direction",dy),dC={scope:a$.INLINE,whitelist:["serif","monospace"]},dD=new a3("font","ql-font",dC),dE=new class extends a5{value(a){return super.value(a).replace(/["']/g,"")}}("font","font-family",dC),dF=new a3("size","ql-size",{scope:a$.INLINE,whitelist:["small","large","huge"]}),dG=new a5("size","font-size",{scope:a$.INLINE,whitelist:["10px","18px","32px"]}),dH=cL("quill:keyboard"),dI=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class dJ extends cY{static match(a,b){return!["altKey","ctrlKey","metaKey","shiftKey"].some(c=>!!b[c]!==a[c]&&null!==b[c])&&(b.key===a.key||b.key===a.which)}constructor(a,b){super(a,b),this.bindings={},Object.keys(this.options.bindings).forEach(a=>{this.options.bindings[a]&&this.addBinding(this.options.bindings[a])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=function(a){if("string"==typeof a||"number"==typeof a)a={key:a};else{if("object"!=typeof a)return null;a=cd(a)}return a.shortKey&&(a[dI]=a.shortKey,delete a.shortKey),a}(a);null==d?dH.warn("Attempted to add invalid keyboard binding",d):("function"==typeof b&&(b={handler:b}),"function"==typeof c&&(c={handler:c}),(Array.isArray(d.key)?d.key:[d.key]).forEach(a=>{let e={...d,key:a,...b,...c};this.bindings[e.key]=this.bindings[e.key]||[],this.bindings[e.key].push(e)}))}listen(){this.quill.root.addEventListener("keydown",a=>{if(a.defaultPrevented||a.isComposing||229===a.keyCode&&("Enter"===a.key||"Backspace"===a.key))return;let b=(this.bindings[a.key]||[]).concat(this.bindings[a.which]||[]).filter(b=>dJ.match(a,b));if(0===b.length)return;let c=c8.find(a.target,!0);if(c&&c.scroll!==this.quill.scroll)return;let d=this.quill.getSelection();if(null==d||!this.quill.hasFocus())return;let[e,f]=this.quill.getLine(d.index),[g,h]=this.quill.getLeaf(d.index),[i,j]=0===d.length?[g,h]:this.quill.getLeaf(d.index+d.length),k=g instanceof bq?g.value().slice(0,h):"",l=i instanceof bq?i.value().slice(j):"",m={collapsed:0===d.length,empty:0===d.length&&1>=e.length(),format:this.quill.getFormat(d),line:e,offset:f,prefix:k,suffix:l,event:a};b.some(a=>{if(null!=a.collapsed&&a.collapsed!==m.collapsed||null!=a.empty&&a.empty!==m.empty||null!=a.offset&&a.offset!==m.offset)return!1;if(Array.isArray(a.format)){if(a.format.every(a=>null==m.format[a]))return!1}else if("object"==typeof a.format&&!Object.keys(a.format).every(b=>!0===a.format[b]?null!=m.format[b]:!1===a.format[b]?null==m.format[b]:ct(a.format[b],m.format[b])))return!1;return(null==a.prefix||!!a.prefix.test(m.prefix))&&(null==a.suffix||!!a.suffix.test(m.suffix))&&!0!==a.handler.call(this,d,m,a)})&&a.preventDefault()})}handleBackspace(a,b){let c=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(b.prefix)?2:1;if(0===a.index||1>=this.quill.getLength())return;let d={},[e]=this.quill.getLine(a.index),f=new bs.default().retain(a.index-c).delete(c);if(0===b.offset){let[b]=this.quill.getLine(a.index-1);if(b&&!("block"===b.statics.blotName&&1>=b.length())){let b=e.formats(),c=this.quill.getFormat(a.index-1,1);if(Object.keys(d=bs.AttributeMap.diff(b,c)||{}).length>0){let b=new bs.default().retain(a.index+e.length()-2).retain(1,d);f=f.compose(b)}}}this.quill.updateContents(f,c8.sources.USER),this.quill.focus()}handleDelete(a,b){let c=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(b.suffix)?2:1;if(a.index>=this.quill.getLength()-c)return;let d={},[e]=this.quill.getLine(a.index),f=new bs.default().retain(a.index).delete(c);if(b.offset>=e.length()-1){let[b]=this.quill.getLine(a.index+1);if(b){let c=e.formats(),g=this.quill.getFormat(a.index,1);Object.keys(d=bs.AttributeMap.diff(c,g)||{}).length>0&&(f=f.retain(b.length()-1).retain(1,d))}}this.quill.updateContents(f,c8.sources.USER),this.quill.focus()}handleDeleteRange(a){dO({range:a,quill:this.quill}),this.quill.focus()}handleEnter(a,b){let c=Object.keys(b.format).reduce((a,c)=>(this.quill.scroll.query(c,a$.BLOCK)&&!Array.isArray(b.format[c])&&(a[c]=b.format[c]),a),{}),d=new bs.default().retain(a.index).delete(a.length).insert("\n",c);this.quill.updateContents(d,c8.sources.USER),this.quill.setSelection(a.index+1,c8.sources.SILENT),this.quill.focus()}}function dK(a){return{key:"Tab",shiftKey:!a,format:{"code-block":!0},handler(b,c){let{event:d}=c,{TAB:e}=this.quill.scroll.query("code-block");if(0===b.length&&!d.shiftKey){this.quill.insertText(b.index,e,c8.sources.USER),this.quill.setSelection(b.index+e.length,c8.sources.SILENT);return}let f=0===b.length?this.quill.getLines(b.index,1):this.quill.getLines(b),{index:g,length:h}=b;f.forEach((b,c)=>{a?(b.insertAt(0,e),0===c?g+=e.length:h+=e.length):b.domNode.textContent.startsWith(e)&&(b.deleteAt(0,e.length),0===c?g-=e.length:h-=e.length)}),this.quill.update(c8.sources.USER),this.quill.setSelection(g,h,c8.sources.SILENT)}}}function dL(a,b){return{key:a,shiftKey:b,altKey:null,["ArrowLeft"===a?"prefix":"suffix"]:/^$/,handler(c){let{index:d}=c;"ArrowRight"===a&&(d+=c.length+1);let[e]=this.quill.getLeaf(d);return!(e instanceof bl)||("ArrowLeft"===a?b?this.quill.setSelection(c.index-1,c.length+1,c8.sources.USER):this.quill.setSelection(c.index-1,c8.sources.USER):b?this.quill.setSelection(c.index,c.length+1,c8.sources.USER):this.quill.setSelection(c.index+c.length+1,c8.sources.USER),!1)}}}function dM(a){return{key:a[0],shortKey:!0,handler(b,c){this.quill.format(a,!c.format[a],c8.sources.USER)}}}function dN(a){return{key:a?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(b,c){let d=a?"prev":"next",e=c.line,f=e.parent[d];if(null!=f){if("table-row"===f.statics.blotName){let a=f.children.head,b=e;for(;null!=b.prev;)b=b.prev,a=a.next;let d=a.offset(this.quill.scroll)+Math.min(c.offset,a.length()-1);this.quill.setSelection(d,0,c8.sources.USER)}}else{let b=e.table()[d];null!=b&&(a?this.quill.setSelection(b.offset(this.quill.scroll)+b.length()-1,0,c8.sources.USER):this.quill.setSelection(b.offset(this.quill.scroll),0,c8.sources.USER))}return!1}}}function dO(a){let{quill:b,range:c}=a,d=b.getLines(c),e={};if(d.length>1){let a=d[0].formats(),b=d[d.length-1].formats();e=bs.AttributeMap.diff(b,a)||{}}b.deleteText(c,c8.sources.USER),Object.keys(e).length>0&&b.formatLine(c.index,1,e,c8.sources.USER),b.setSelection(c.index,c8.sources.SILENT)}dJ.DEFAULTS={bindings:{bold:dM("bold"),italic:dM("italic"),underline:dM("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(a,b){return!!b.collapsed&&0!==b.offset||(this.quill.format("indent","+1",c8.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(a,b){return!!b.collapsed&&0!==b.offset||(this.quill.format("indent","-1",c8.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(a,b){null!=b.format.indent?this.quill.format("indent","-1",c8.sources.USER):null!=b.format.list&&this.quill.format("list",!1,c8.sources.USER)}},"indent code-block":dK(!0),"outdent code-block":dK(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(a){this.quill.deleteText(a.index-1,1,c8.sources.USER)}},tab:{key:"Tab",handler(a,b){if(b.format.table)return!0;this.quill.history.cutoff();let c=new bs.default().retain(a.index).delete(a.length).insert("	");return this.quill.updateContents(c,c8.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(a.index+1,c8.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,c8.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(a,b){let c={list:!1};b.format.indent&&(c.indent=!1),this.quill.formatLine(a.index,a.length,c,c8.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(a){let[b,c]=this.quill.getLine(a.index),d={...b.formats(),list:"checked"},e=new bs.default().retain(a.index).insert("\n",d).retain(b.length()-c-1).retain(1,{list:"unchecked"});this.quill.updateContents(e,c8.sources.USER),this.quill.setSelection(a.index+1,c8.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(a,b){let[c,d]=this.quill.getLine(a.index),e=new bs.default().retain(a.index).insert("\n",b.format).retain(c.length()-d-1).retain(1,{header:null});this.quill.updateContents(e,c8.sources.USER),this.quill.setSelection(a.index+1,c8.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(a){let b=this.quill.getModule("table");if(b){var c,d,e,f;let[g,h,i,j]=b.getTable(a),k=(c=0,d=h,e=i,f=j,null==d.prev&&null==d.next?null==e.prev&&null==e.next?0===f?-1:1:null==e.prev?-1:1:null==d.prev?-1:null==d.next?1:null);if(null==k)return;let l=g.offset();if(k<0){let b=new bs.default().retain(l).insert("\n");this.quill.updateContents(b,c8.sources.USER),this.quill.setSelection(a.index+1,a.length,c8.sources.SILENT)}else if(k>0){l+=g.length();let a=new bs.default().retain(l).insert("\n");this.quill.updateContents(a,c8.sources.USER),this.quill.setSelection(l,c8.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(a,b){let{event:c,line:d}=b,e=d.offset(this.quill.scroll);c.shiftKey?this.quill.setSelection(e-1,c8.sources.USER):this.quill.setSelection(e+d.length(),c8.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(a,b){let c;if(null==this.quill.scroll.query("list"))return!0;let{length:d}=b.prefix,[e,f]=this.quill.getLine(a.index);if(f>d)return!0;switch(b.prefix.trim()){case"[]":case"[ ]":c="unchecked";break;case"[x]":c="checked";break;case"-":case"*":c="bullet";break;default:c="ordered"}this.quill.insertText(a.index," ",c8.sources.USER),this.quill.history.cutoff();let g=new bs.default().retain(a.index-f).delete(d+1).retain(e.length()-2-f).retain(1,{list:c});return this.quill.updateContents(g,c8.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(a.index-d,c8.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(a){let[b,c]=this.quill.getLine(a.index),d=2,e=b;for(;null!=e&&1>=e.length()&&e.formats()["code-block"];)if(e=e.prev,(d-=1)<=0){let d=new bs.default().retain(a.index+b.length()-c-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(d,c8.sources.USER),this.quill.setSelection(a.index-1,c8.sources.SILENT),!1}return!0}},"embed left":dL("ArrowLeft",!1),"embed left shift":dL("ArrowLeft",!0),"embed right":dL("ArrowRight",!1),"embed right shift":dL("ArrowRight",!0),"table down":dN(!1),"table up":dN(!0)}};let dP=/font-weight:\s*normal/,dQ=["P","OL","UL"],dR=a=>a&&dQ.includes(a.tagName),dS=/\bmso-list:[^;]*ignore/i,dT=/\bmso-list:[^;]*\bl(\d+)/i,dU=/\bmso-list:[^;]*\blevel(\d+)/i,dV=[function(a){"urn:schemas-microsoft-com:office:word"===a.documentElement.getAttribute("xmlns:w")&&(a=>{let b=Array.from(a.querySelectorAll("[style*=mso-list]")),c=[],d=[];b.forEach(a=>{(a.getAttribute("style")||"").match(dS)?c.push(a):d.push(a)}),c.forEach(a=>a.parentNode?.removeChild(a));let e=a.documentElement.innerHTML,f=d.map(a=>((a,b)=>{let c=a.getAttribute("style"),d=c?.match(dT);if(!d)return null;let e=Number(d[1]),f=c?.match(dU),g=f?Number(f[1]):1,h=RegExp(`@list l${e}:level${g}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),i=b.match(h);return{id:e,indent:g,type:i&&"bullet"===i[1]?"bullet":"ordered",element:a}})(a,e)).filter(a=>a);for(;f.length;){let a=[],b=f.shift();for(;b;)a.push(b),b=f.length&&f[0]?.element===b.element.nextElementSibling&&f[0].id===b.id?f.shift():null;let c=document.createElement("ul");a.forEach(a=>{let b=document.createElement("li");b.setAttribute("data-list",a.type),a.indent>1&&b.setAttribute("class",`ql-indent-${a.indent-1}`),b.innerHTML=a.element.innerHTML,c.appendChild(b)});let d=a[0]?.element,{parentNode:e}=d??{};d&&e?.replaceChild(c,d),a.slice(1).forEach(a=>{let{element:b}=a;e?.removeChild(b)})}})(a)},function(a){a.querySelector('[id^="docs-internal-guid-"]')&&(Array.from(a.querySelectorAll('b[style*="font-weight"]')).filter(a=>a.getAttribute("style")?.match(dP)).forEach(b=>{let c=a.createDocumentFragment();c.append(...b.childNodes),b.parentNode?.replaceChild(c,b)}),Array.from(a.querySelectorAll("br")).filter(a=>dR(a.previousElementSibling)&&dR(a.nextElementSibling)).forEach(a=>{a.parentNode?.removeChild(a)}))}],dW=cL("quill:clipboard"),dX=[[Node.TEXT_NODE,function(a,b,c){let d=a.data;if(a.parentElement?.tagName==="O:P")return b.insert(d.trim());if(!function a(b){return null!=b&&(d1.has(b)||("PRE"===b.tagName?d1.set(b,!0):d1.set(b,a(b.parentNode))),d1.get(b))}(a)){if(0===d.trim().length&&d.includes("\n")&&(!a.previousElementSibling||!a.nextElementSibling||d0(a.previousElementSibling,c)||d0(a.nextElementSibling,c)))return b;d=(d=d.replace(/[^\S\u00a0]/g," ")).replace(/ {2,}/g," "),(null==a.previousSibling&&null!=a.parentElement&&d0(a.parentElement,c)||a.previousSibling instanceof Element&&d0(a.previousSibling,c))&&(d=d.replace(/^ /,"")),(null==a.nextSibling&&null!=a.parentElement&&d0(a.parentElement,c)||a.nextSibling instanceof Element&&d0(a.nextSibling,c))&&(d=d.replace(/ $/,"")),d=d.replaceAll(""," ")}return b.insert(d)}],[Node.TEXT_NODE,d4],["br",function(a,b){return d_(b,"\n")||b.insert("\n"),b}],[Node.ELEMENT_NODE,d4],[Node.ELEMENT_NODE,function(a,b,c){let d=c.query(a);if(null==d)return b;if(d.prototype instanceof bl){let b={},e=d.value(a);if(null!=e)return b[d.blotName]=e,new bs.default().insert(b,d.formats(a,c))}else if(d.prototype instanceof bi&&!d_(b,"\n")&&b.insert("\n"),"blotName"in d&&"formats"in d&&"function"==typeof d.formats)return d$(b,d.blotName,d.formats(a,c),c);return b}],[Node.ELEMENT_NODE,function(a,b,c){let d=a_.keys(a),e=a3.keys(a),f=a5.keys(a),g={};return d.concat(e).concat(f).forEach(b=>{let d=c.query(b,a$.ATTRIBUTE);null!=d&&(g[d.attrName]=d.value(a),g[d.attrName])||(null!=(d=dY[b])&&(d.attrName===b||d.keyName===b)&&(g[d.attrName]=d.value(a)||void 0),null!=(d=dZ[b])&&(d.attrName===b||d.keyName===b)&&(g[(d=dZ[b]).attrName]=d.value(a)||void 0))}),Object.entries(g).reduce((a,b)=>{let[d,e]=b;return d$(a,d,e,c)},b)}],[Node.ELEMENT_NODE,function(a,b,c){let d={},e=a.style||{};return("italic"===e.fontStyle&&(d.italic=!0),"underline"===e.textDecoration&&(d.underline=!0),"line-through"===e.textDecoration&&(d.strike=!0),(e.fontWeight?.startsWith("bold")||parseInt(e.fontWeight,10)>=700)&&(d.bold=!0),b=Object.entries(d).reduce((a,b)=>{let[d,e]=b;return d$(a,d,e,c)},b),parseFloat(e.textIndent||0)>0)?new bs.default().insert("	").concat(b):b}],["li",function(a,b,c){let d=c.query(a);if(null==d||"list"!==d.blotName||!d_(b,"\n"))return b;let e=-1,f=a.parentNode;for(;null!=f;)["OL","UL"].includes(f.tagName)&&(e+=1),f=f.parentNode;return e<=0?b:b.reduce((a,b)=>b.insert?b.attributes&&"number"==typeof b.attributes.indent?a.push(b):a.insert(b.insert,{indent:e,...b.attributes||{}}):a,new bs.default)}],["ol, ul",function(a,b,c){let d="OL"===a.tagName?"ordered":"bullet",e=a.getAttribute("data-checked");return e&&(d="true"===e?"checked":"unchecked"),d$(b,"list",d,c)}],["pre",function(a,b,c){let d=c.query("code-block");return d$(b,"code-block",!d||!("formats"in d)||"function"!=typeof d.formats||d.formats(a,c),c)}],["tr",function(a,b,c){let d=a.parentElement?.tagName==="TABLE"?a.parentElement:a.parentElement?.parentElement;return null!=d?d$(b,"table",Array.from(d.querySelectorAll("tr")).indexOf(a)+1,c):b}],["b",d3("bold")],["i",d3("italic")],["strike",d3("strike")],["style",function(){return new bs.default}]],dY=[dm,dz].reduce((a,b)=>(a[b.keyName]=b,a),{}),dZ=[dp,du,ds,dB,dE,dG].reduce((a,b)=>(a[b.keyName]=b,a),{});function d$(a,b,c,d){return d.query(b)?a.reduce((a,d)=>d.insert?d.attributes&&d.attributes[b]?a.push(d):a.insert(d.insert,{...c?{[b]:c}:{},...d.attributes}):a,new bs.default):a}function d_(a,b){let c="";for(let d=a.ops.length-1;d>=0&&c.length<b.length;--d){let b=a.ops[d];if("string"!=typeof b.insert)break;c=b.insert+c}return c.slice(-1*b.length)===b}function d0(a,b){if(!(a instanceof Element))return!1;let c=b.query(a);return(!c||!(c.prototype instanceof bl))&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(a.tagName.toLowerCase())}let d1=new WeakMap;function d2(a,b,c,d,e){return b.nodeType===b.TEXT_NODE?d.reduce((c,d)=>d(b,c,a),new bs.default):b.nodeType===b.ELEMENT_NODE?Array.from(b.childNodes||[]).reduce((f,g)=>{let h=d2(a,g,c,d,e);return g.nodeType===b.ELEMENT_NODE&&(h=c.reduce((b,c)=>c(g,b,a),h),h=(e.get(g)||[]).reduce((b,c)=>c(g,b,a),h)),f.concat(h)},new bs.default):new bs.default}function d3(a){return(b,c,d)=>d$(c,a,!0,d)}function d4(a,b,c){if(!d_(b,"\n")){if(d0(a,c)&&(a.childNodes.length>0||a instanceof HTMLParagraphElement))return b.insert("\n");if(b.length()>0&&a.nextSibling){let d=a.nextSibling;for(;null!=d;){if(d0(d,c))return b.insert("\n");let a=c.query(d);if(a&&a.prototype instanceof cB)return b.insert("\n");d=d.firstChild}}}return b}function d5(a,b){let c=b;for(let b=a.length-1;b>=0;b-=1){let d=a[b];a[b]={delta:c.transform(d.delta,!0),range:d.range&&d6(d.range,c)},c=d.delta.transform(c),0===a[b].delta.length()&&a.splice(b,1)}}function d6(a,b){if(!a)return a;let c=b.transformPosition(a.index);return{index:c,length:b.transformPosition(a.index+a.length)-c}}class d7 extends cY{constructor(a,b){super(a,b),a.root.addEventListener("drop",b=>{b.preventDefault();let c=null;if(document.caretRangeFromPoint)c=document.caretRangeFromPoint(b.clientX,b.clientY);else if(document.caretPositionFromPoint){let a=document.caretPositionFromPoint(b.clientX,b.clientY);(c=document.createRange()).setStart(a.offsetNode,a.offset),c.setEnd(a.offsetNode,a.offset)}let d=c&&a.selection.normalizeNative(c);if(d){let c=a.selection.normalizedToRange(d);b.dataTransfer?.files&&this.upload(c,b.dataTransfer.files)}})}upload(a,b){let c=[];Array.from(b).forEach(a=>{a&&this.options.mimetypes?.includes(a.type)&&c.push(a)}),c.length>0&&this.options.handler.call(this,a,c)}}d7.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(a,b){this.quill.scroll.query("image")&&Promise.all(b.map(a=>new Promise(b=>{let c=new FileReader;c.onload=()=>{b(c.result)},c.readAsDataURL(a)}))).then(b=>{let c=b.reduce((a,b)=>a.insert({image:b}),new bs.default().retain(a.index).delete(a.length));this.quill.updateContents(c,cN.sources.USER),this.quill.setSelection(a.index+b.length,cN.sources.SILENT)})}};let d8=["insertText","insertReplacementText"],d9=class extends cY{constructor(a,b){super(a,b),a.root.addEventListener("beforeinput",a=>{this.handleBeforeInput(a)}),/Android/i.test(navigator.userAgent)||a.on(c8.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(a){dO({range:a,quill:this.quill})}replaceText(a){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===a.length)return!1;if(b){let c=this.quill.getFormat(a.index,1);this.deleteRange(a),this.quill.updateContents(new bs.default().retain(a.index).insert(b,c),c8.sources.USER)}else this.deleteRange(a);return this.quill.setSelection(a.index+b.length,0,c8.sources.SILENT),!0}handleBeforeInput(a){var b;if(this.quill.composition.isComposing||a.defaultPrevented||!d8.includes(a.inputType))return;let c=a.getTargetRanges?a.getTargetRanges()[0]:null;if(!c||!0===c.collapsed)return;let d="string"==typeof(b=a).data?b.data:b.dataTransfer?.types.includes("text/plain")?b.dataTransfer.getData("text/plain"):null;if(null==d)return;let e=this.quill.selection.normalizeNative(c),f=e?this.quill.selection.normalizedToRange(e):null;f&&this.replaceText(f,d)&&a.preventDefault()}handleCompositionStart(){let a=this.quill.getSelection();a&&this.replaceText(a)}},ea=/Mac/i.test(navigator.platform),eb=class extends cY{isListening=!1;selectionChangeDeadline=0;constructor(a,b){super(a,b),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(a,b){let{line:c,event:d}=b;if(!(c instanceof be)||!c.uiNode)return!0;let e="rtl"===getComputedStyle(c.domNode).direction;return!!e&&"ArrowRight"!==d.key||!e&&"ArrowLeft"!==d.key||(this.quill.setSelection(a.index-1,a.length+ +!!d.shiftKey,c8.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",a=>{!a.defaultPrevented&&("ArrowLeft"===a.key||"ArrowRight"===a.key||"ArrowUp"===a.key||"ArrowDown"===a.key||"Home"===a.key||ea&&"a"===a.key&&!0===a.ctrlKey||0)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+100,this.isListening)return;this.isListening=!0;let a=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",a,{once:!0})}handleSelectionChange(){let a=document.getSelection();if(!a)return;let b=a.getRangeAt(0);if(!0!==b.collapsed||0!==b.startOffset)return;let c=this.quill.scroll.find(b.startContainer);if(!(c instanceof be)||!c.uiNode)return;let d=document.createRange();d.setStartAfter(c.uiNode),d.setEndAfter(c.uiNode),a.removeAllRanges(),a.addRange(d)}};c8.register({"blots/block":cA,"blots/block/embed":cB,"blots/break":cu,"blots/container":dg,"blots/cursor":cE,"blots/embed":cZ,"blots/inline":cz,"blots/scroll":dk,"blots/text":cv,"modules/clipboard":class extends cY{static DEFAULTS={matchers:[]};constructor(a,b){super(a,b),this.quill.root.addEventListener("copy",a=>this.onCaptureCopy(a,!1)),this.quill.root.addEventListener("cut",a=>this.onCaptureCopy(a,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],dX.concat(this.options.matchers??[]).forEach(a=>{let[b,c]=a;this.addMatcher(b,c)})}addMatcher(a,b){this.matchers.push([a,b])}convert(a){let{html:b,text:c}=a,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(d[dw.blotName])return new bs.default().insert(c||"",{[dw.blotName]:d[dw.blotName]});if(!b)return new bs.default().insert(c||"",d);let e=this.convertHTML(b);return d_(e,"\n")&&(null==e.ops[e.ops.length-1].attributes||d.table)?e.compose(new bs.default().retain(e.length()-1).delete(1)):e}normalizeHTML(a){a.documentElement&&dV.forEach(b=>{b(a)})}convertHTML(a){let b=new DOMParser().parseFromString(a,"text/html");this.normalizeHTML(b);let c=b.body,d=new WeakMap,[e,f]=this.prepareMatching(c,d);return d2(this.quill.scroll,c,e,f,d)}dangerouslyPasteHTML(a,b){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c8.sources.API;if("string"==typeof a){let c=this.convert({html:a,text:""});this.quill.setContents(c,b),this.quill.setSelection(0,c8.sources.SILENT)}else{let d=this.convert({html:b,text:""});this.quill.updateContents(new bs.default().retain(a).concat(d),c),this.quill.setSelection(a+d.length(),c8.sources.SILENT)}}onCaptureCopy(a){let b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a.defaultPrevented)return;a.preventDefault();let[c]=this.quill.selection.getRange();if(null==c)return;let{html:d,text:e}=this.onCopy(c,b);a.clipboardData?.setData("text/plain",e),a.clipboardData?.setData("text/html",d),b&&dO({range:c,quill:this.quill})}normalizeURIList(a){return a.split(/\r?\n/).filter(a=>"#"!==a[0]).join("\n")}onCapturePaste(a){if(a.defaultPrevented||!this.quill.isEnabled())return;a.preventDefault();let b=this.quill.getSelection(!0);if(null==b)return;let c=a.clipboardData?.getData("text/html"),d=a.clipboardData?.getData("text/plain");if(!c&&!d){let b=a.clipboardData?.getData("text/uri-list");b&&(d=this.normalizeURIList(b))}let e=Array.from(a.clipboardData?.files||[]);if(!c&&e.length>0)return void this.quill.uploader.upload(b,e);if(c&&e.length>0){let a=new DOMParser().parseFromString(c,"text/html");if(1===a.body.childElementCount&&a.body.firstElementChild?.tagName==="IMG")return void this.quill.uploader.upload(b,e)}this.onPaste(b,{html:c,text:d})}onCopy(a){let b=this.quill.getText(a);return{html:this.quill.getSemanticHTML(a),text:b}}onPaste(a,b){let{text:c,html:d}=b,e=this.quill.getFormat(a.index),f=this.convert({text:c,html:d},e);dW.log("onPaste",f,{text:c,html:d});let g=new bs.default().retain(a.index).delete(a.length).concat(f);this.quill.updateContents(g,c8.sources.USER),this.quill.setSelection(g.length()-a.length,c8.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(a,b){let c=[],d=[];return this.matchers.forEach(e=>{let[f,g]=e;switch(f){case Node.TEXT_NODE:d.push(g);break;case Node.ELEMENT_NODE:c.push(g);break;default:Array.from(a.querySelectorAll(f)).forEach(a=>{if(b.has(a)){let c=b.get(a);c?.push(g)}else b.set(a,[g])})}}),[c,d]}},"modules/history":class extends cY{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(a,b){super(a,b),this.quill.on(c8.events.EDITOR_CHANGE,(a,b,c,d)=>{a===c8.events.SELECTION_CHANGE?b&&d!==c8.sources.SILENT&&(this.currentRange=b):a===c8.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&d!==c8.sources.USER?this.transform(b):this.record(b,c)),this.currentRange=d6(this.currentRange,b))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",a=>{"historyUndo"===a.inputType?(this.undo(),a.preventDefault()):"historyRedo"===a.inputType&&(this.redo(),a.preventDefault())})}change(a,b){if(0===this.stack[a].length)return;let c=this.stack[a].pop();if(!c)return;let d=this.quill.getContents(),e=c.delta.invert(d);this.stack[b].push({delta:e,range:d6(c.range,e)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(c.delta,c8.sources.USER),this.ignoreChange=!1,this.restoreSelection(c)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(a,b){if(0===a.ops.length)return;this.stack.redo=[];let c=a.invert(b),d=this.currentRange,e=Date.now();if(this.lastRecorded+this.options.delay>e&&this.stack.undo.length>0){let a=this.stack.undo.pop();a&&(c=c.compose(a.delta),d=a.range)}else this.lastRecorded=e;0!==c.length()&&(this.stack.undo.push({delta:c,range:d}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(a){d5(this.stack.undo,a),d5(this.stack.redo,a)}undo(){this.change("undo","redo")}restoreSelection(a){if(a.range)this.quill.setSelection(a.range,c8.sources.USER);else{let b=function(a,b){let c,d=b.reduce((a,b)=>a+(b.delete||0),0),e=b.length()-d;return null!=(c=b.ops[b.ops.length-1])&&(null!=c.insert?"string"==typeof c.insert&&c.insert.endsWith("\n"):null!=c.attributes&&Object.keys(c.attributes).some(b=>null!=a.query(b,a$.BLOCK)))&&(e-=1),e}(this.quill.scroll,a.delta);this.quill.setSelection(b,c8.sources.USER)}}},"modules/keyboard":dJ,"modules/uploader":d7,"modules/input":d9,"modules/uiNode":eb});let ec=new class extends a3{add(a,b){let c=0;if("+1"===b||"-1"===b){let d=this.value(a)||0;c="+1"===b?d+1:d-1}else"number"==typeof b&&(c=b);return 0===c?(this.remove(a),!0):super.add(a,c.toString())}canAdd(a,b){return super.canAdd(a,b)||super.canAdd(a,parseInt(b,10))}value(a){return parseInt(super.value(a),10)||void 0}}("indent","ql-indent",{scope:a$.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),ed=class extends cA{static blotName="blockquote";static tagName="blockquote"},ee=class extends cA{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(a){return this.tagName.indexOf(a.tagName)+1}};class ef extends dg{}ef.blotName="list-container",ef.tagName="OL";class eg extends cA{static create(a){let b=super.create();return b.setAttribute("data-list",a),b}static formats(a){return a.getAttribute("data-list")||void 0}static register(){c8.register(ef)}constructor(a,b){super(a,b);const c=b.ownerDocument.createElement("span"),d=c=>{if(!a.isEnabled())return;let d=this.statics.formats(b,a);"checked"===d?(this.format("list","unchecked"),c.preventDefault()):"unchecked"===d&&(this.format("list","checked"),c.preventDefault())};c.addEventListener("mousedown",d),c.addEventListener("touchstart",d),this.attachUI(c)}format(a,b){a===this.statics.blotName&&b?this.domNode.setAttribute("data-list",b):super.format(a,b)}}eg.blotName="list",eg.tagName="LI",ef.allowedChildren=[eg],eg.requiredContainer=ef;let eh=class extends cz{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(a){super.optimize(a),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}};class ei extends cz{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(a){let b=super.create(a);return b.setAttribute("href",this.sanitize(a)),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}static formats(a){return a.getAttribute("href")}static sanitize(a){return ej(a,this.PROTOCOL_WHITELIST)?a:this.SANITIZED_URL}format(a,b){a===this.statics.blotName&&b?this.domNode.setAttribute("href",this.constructor.sanitize(b)):super.format(a,b)}}function ej(a,b){let c=document.createElement("a");c.href=a;let d=c.href.slice(0,c.href.indexOf(":"));return b.indexOf(d)>-1}let ek=class extends cz{static blotName="script";static tagName=["SUB","SUP"];static create(a){return"super"===a?document.createElement("sup"):"sub"===a?document.createElement("sub"):super.create(a)}static formats(a){return"SUB"===a.tagName?"sub":"SUP"===a.tagName?"super":void 0}},el=class extends cz{static blotName="underline";static tagName="U"},em=class extends cZ{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(a){if(null==window.katex)throw Error("Formula module requires KaTeX.");let b=super.create(a);return"string"==typeof a&&(window.katex.render(a,b,{throwOnError:!1,errorColor:"#f00"}),b.setAttribute("data-value",a)),b}static value(a){return a.getAttribute("data-value")}html(){let{formula:a}=this.value();return`<span>${a}</span>`}},en=["alt","height","width"],eo=class extends bl{static blotName="image";static tagName="IMG";static create(a){let b=super.create(a);return"string"==typeof a&&b.setAttribute("src",this.sanitize(a)),b}static formats(a){return en.reduce((b,c)=>(a.hasAttribute(c)&&(b[c]=a.getAttribute(c)),b),{})}static match(a){return/\.(jpe?g|gif|png)$/.test(a)||/^data:image\/.+;base64/.test(a)}static sanitize(a){return ej(a,["http","https","data"])?a:"//:0"}static value(a){return a.getAttribute("src")}format(a,b){en.indexOf(a)>-1?b?this.domNode.setAttribute(a,b):this.domNode.removeAttribute(a):super.format(a,b)}},ep=["height","width"],eq=class extends cB{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(a){let b=super.create(a);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen","true"),b.setAttribute("src",this.sanitize(a)),b}static formats(a){return ep.reduce((b,c)=>(a.hasAttribute(c)&&(b[c]=a.getAttribute(c)),b),{})}static sanitize(a){return ei.sanitize(a)}static value(a){return a.getAttribute("src")}format(a,b){ep.indexOf(a)>-1?b?this.domNode.setAttribute(a,b):this.domNode.removeAttribute(a):super.format(a,b)}html(){let{video:a}=this.value();return`<a href="${a}">${a}</a>`}},er=new a3("code-token","hljs",{scope:a$.INLINE});class es extends cz{static formats(a,b){for(;null!=a&&a!==b.domNode;){if(a.classList&&a.classList.contains(dw.className))return super.formats(a,b);a=a.parentNode}}constructor(a,b,c){super(a,b,c),er.add(this.domNode,c)}format(a,b){a!==es.blotName?super.format(a,b):b?er.add(this.domNode,b):(er.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),er.value(this.domNode)||this.unwrap()}}es.blotName="code-token",es.className="ql-token";class et extends dw{static create(a){let b=super.create(a);return"string"==typeof a&&b.setAttribute("data-language",a),b}static formats(a){return a.getAttribute("data-language")||"plain"}static register(){}format(a,b){a===this.statics.blotName&&b?this.domNode.setAttribute("data-language",b):super.format(a,b)}replaceWith(a,b){return this.formatAt(0,this.length(),es.blotName,!1),super.replaceWith(a,b)}}class eu extends dv{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(a,b){a===et.blotName&&(this.forceNext=!0,this.children.forEach(c=>{c.format(a,b)}))}formatAt(a,b,c,d){c===et.blotName&&(this.forceNext=!0),super.formatAt(a,b,c,d)}highlight(a){let b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;let c=Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode),d=`${c.map(a=>a.textContent).join("\n")}
`,e=et.formats(this.children.head.domNode);if(b||this.forceNext||this.cachedText!==d){if(d.trim().length>0||null==this.cachedText){let b=this.children.reduce((a,b)=>a.concat(cC(b,!1)),new bs.default),c=a(d,e);b.diff(c).reduce((a,b)=>{let{retain:c,attributes:d}=b;return c?(d&&Object.keys(d).forEach(b=>{[et.blotName,es.blotName].includes(b)&&this.formatAt(a,c,b,d[b])}),a+c):a},0)}this.cachedText=d,this.forceNext=!1}}html(a,b){let[c]=this.children.find(a),d=c?et.formats(c.domNode):"plain";return`<pre data-language="${d}">
${cx(this.code(a,b))}
</pre>`}optimize(a){if(super.optimize(a),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){let a=et.formats(this.children.head.domNode);a!==this.uiNode.value&&(this.uiNode.value=a)}}}eu.allowedChildren=[et],et.requiredContainer=eu,et.allowedChildren=[es,cE,cv,cu];class ev extends cY{static register(){c8.register(es,!0),c8.register(et,!0),c8.register(eu,!0)}constructor(a,b){if(super(a,b),null==this.options.hljs)throw Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((a,b)=>{let{key:c}=b;return a[c]=!0,a},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(c8.events.SCROLL_BLOT_MOUNT,a=>{if(!(a instanceof eu))return;let b=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(a=>{let{key:c,label:d}=a,e=b.ownerDocument.createElement("option");e.textContent=d,e.setAttribute("value",c),b.appendChild(e)}),b.addEventListener("change",()=>{a.format(et.blotName,b.value),this.quill.root.focus(),this.highlight(a,!0)}),null==a.uiNode&&(a.attachUI(b),a.children.head&&(b.value=et.formats(a.children.head.domNode)))})}initTimer(){let a=null;this.quill.on(c8.events.SCROLL_OPTIMIZE,()=>{a&&clearTimeout(a),a=setTimeout(()=>{this.highlight(),a=null},this.options.interval)})}highlight(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(c8.sources.USER);let c=this.quill.getSelection();(null==a?this.quill.scroll.descendants(eu):[a]).forEach(a=>{a.highlight(this.highlightBlot,b)}),this.quill.update(c8.sources.SILENT),null!=c&&this.quill.setSelection(c,c8.sources.SILENT)}highlightBlot(a){var b,c,d;let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if("plain"===(e=this.languages[e]?e:"plain"))return cx(a).split("\n").reduce((a,b,c)=>(0!==c&&a.insert("\n",{[dw.blotName]:e}),a.insert(b)),new bs.default);let f=this.quill.root.ownerDocument.createElement("div");return f.classList.add(dw.className),b=this.options.hljs,c=e,d=a,f.innerHTML="string"==typeof b.versionString&&parseInt(b.versionString.split(".")[0],10)>=11?b.highlight(d,{language:c}).value:b.highlight(c,d).value,d2(this.quill.scroll,f,[(a,b)=>{let c=er.value(a);return c?b.compose(new bs.default().retain(b.length(),{[es.blotName]:c})):b}],[(a,b)=>a.data.split("\n").reduce((a,b,c)=>(0!==c&&a.insert("\n",{[dw.blotName]:e}),a.insert(b)),b)],new WeakMap)}}ev.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class ew extends cA{static blotName="table";static tagName="TD";static create(a){let b=super.create();return a?b.setAttribute("data-row",a):b.setAttribute("data-row",eA()),b}static formats(a){if(a.hasAttribute("data-row"))return a.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(a,b){a===ew.blotName&&b?this.domNode.setAttribute("data-row",b):super.format(a,b)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class ex extends dg{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){let a=this.children.head.formats(),b=this.children.tail.formats(),c=this.next.children.head.formats(),d=this.next.children.tail.formats();return a.table===b.table&&a.table===c.table&&a.table===d.table}return!1}optimize(a){super.optimize(a),this.children.forEach(a=>{if(null==a.next)return;let b=a.formats(),c=a.next.formats();if(b.table!==c.table){let b=this.splitAfter(a);b&&b.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class ey extends dg{static blotName="table-body";static tagName="TBODY"}class ez extends dg{static blotName="table-container";static tagName="TABLE";balanceCells(){let a=this.descendants(ex),b=a.reduce((a,b)=>Math.max(b.children.length,a),0);a.forEach(a=>{Array(b-a.children.length).fill(0).forEach(()=>{let b;null!=a.children.head&&(b=ew.formats(a.children.head.domNode));let c=this.scroll.create(ew.blotName,b);a.appendChild(c),c.optimize()})})}cells(a){return this.rows().map(b=>b.children.at(a))}deleteColumn(a){let[b]=this.descendant(ey);null!=b&&null!=b.children.head&&b.children.forEach(b=>{let c=b.children.at(a);null!=c&&c.remove()})}insertColumn(a){let[b]=this.descendant(ey);null!=b&&null!=b.children.head&&b.children.forEach(b=>{let c=b.children.at(a),d=ew.formats(b.children.head.domNode),e=this.scroll.create(ew.blotName,d);b.insertBefore(e,c)})}insertRow(a){let[b]=this.descendant(ey);if(null==b||null==b.children.head)return;let c=eA(),d=this.scroll.create(ex.blotName);b.children.head.children.forEach(()=>{let a=this.scroll.create(ew.blotName,c);d.appendChild(a)});let e=b.children.at(a);b.insertBefore(d,e)}rows(){let a=this.children.head;return null==a?[]:a.children.map(a=>a)}}function eA(){let a=Math.random().toString(36).slice(2,6);return`row-${a}`}ez.allowedChildren=[ey],ey.requiredContainer=ez,ey.allowedChildren=[ex],ex.requiredContainer=ey,ex.allowedChildren=[ew],ew.requiredContainer=ex;let eB=class extends cY{static register(){c8.register(ew),c8.register(ex),c8.register(ey),c8.register(ez)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ez).forEach(a=>{a.balanceCells()})}deleteColumn(){let[a,,b]=this.getTable();null!=b&&(a.deleteColumn(b.cellOffset()),this.quill.update(c8.sources.USER))}deleteRow(){let[,a]=this.getTable();null!=a&&(a.remove(),this.quill.update(c8.sources.USER))}deleteTable(){let[a]=this.getTable();if(null==a)return;let b=a.offset();a.remove(),this.quill.update(c8.sources.USER),this.quill.setSelection(b,c8.sources.SILENT)}getTable(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==a)return[null,null,null,-1];let[b,c]=this.quill.getLine(a.index);if(null==b||b.statics.blotName!==ew.blotName)return[null,null,null,-1];let d=b.parent;return[d.parent.parent,d,b,c]}insertColumn(a){let b=this.quill.getSelection();if(!b)return;let[c,d,e]=this.getTable(b);if(null==e)return;let f=e.cellOffset();c.insertColumn(f+a),this.quill.update(c8.sources.USER);let g=d.rowOffset();0===a&&(g+=1),this.quill.setSelection(b.index+g,b.length,c8.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(a){let b=this.quill.getSelection();if(!b)return;let[c,d,e]=this.getTable(b);if(null==e)return;let f=d.rowOffset();c.insertRow(f+a),this.quill.update(c8.sources.USER),a>0?this.quill.setSelection(b,c8.sources.SILENT):this.quill.setSelection(b.index+d.children.length,b.length,c8.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(a,b){let c=this.quill.getSelection();if(null==c)return;let d=Array(a).fill(0).reduce(a=>{let c=Array(b).fill("\n").join("");return a.insert(c,{table:eA()})},new bs.default().retain(c.index));this.quill.updateContents(d,c8.sources.USER),this.quill.setSelection(c.index,c8.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(c8.events.SCROLL_OPTIMIZE,a=>{a.some(a=>!!["TD","TR","TBODY","TABLE"].includes(a.target.tagName)&&(this.quill.once(c8.events.TEXT_CHANGE,(a,b,c)=>{c===c8.sources.USER&&this.balanceTables()}),!0))})}},eC=cL("quill:toolbar");class eD extends cY{constructor(a,b){if(super(a,b),Array.isArray(this.options.container)){const b=document.createElement("div");b.setAttribute("role","toolbar"),function(a,b){Array.isArray(b[0])||(b=[b]),b.forEach(b=>{let c=document.createElement("span");c.classList.add("ql-formats"),b.forEach(a=>{if("string"==typeof a)eE(c,a);else{var b,d,e;let f,g=Object.keys(a)[0],h=a[g];Array.isArray(h)?(b=c,d=g,e=h,(f=document.createElement("select")).classList.add(`ql-${d}`),e.forEach(a=>{let b=document.createElement("option");!1!==a?b.setAttribute("value",String(a)):b.setAttribute("selected","selected"),f.appendChild(b)}),b.appendChild(f)):eE(c,g,h)}}),a.appendChild(c)})}(b,this.options.container),a.container?.parentNode?.insertBefore(b,a.container),this.container=b}else"string"==typeof this.options.container?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement))return void eC.error("Container required for toolbar",this.options);this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{let b=this.options.handlers?.[a];b&&this.addHandler(a,b)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(c8.events.EDITOR_CHANGE,()=>{let[a]=this.quill.selection.getRange();this.update(a)})}addHandler(a,b){this.handlers[a]=b}attach(a){let b=Array.from(a.classList).find(a=>0===a.indexOf("ql-"));if(!b)return;if(b=b.slice(3),"BUTTON"===a.tagName&&a.setAttribute("type","button"),null==this.handlers[b]&&null==this.quill.scroll.query(b))return void eC.warn("ignoring attaching to nonexistent format",b,a);let c="SELECT"===a.tagName?"change":"click";a.addEventListener(c,c=>{let d;if("SELECT"===a.tagName){if(a.selectedIndex<0)return;let b=a.options[a.selectedIndex];d=!b.hasAttribute("selected")&&(b.value||!1)}else d=!a.classList.contains("ql-active")&&(a.value||!a.hasAttribute("value")),c.preventDefault();this.quill.focus();let[e]=this.quill.selection.getRange();if(null!=this.handlers[b])this.handlers[b].call(this,d);else if(this.quill.scroll.query(b).prototype instanceof bl){if(!(d=prompt(`Enter ${b}`)))return;this.quill.updateContents(new bs.default().retain(e.index).delete(e.length).insert({[b]:d}),c8.sources.USER)}else this.quill.format(b,d,c8.sources.USER);this.update(e)}),this.controls.push([b,a])}update(a){let b=null==a?{}:this.quill.getFormat(a);this.controls.forEach(c=>{let[d,e]=c;if("SELECT"===e.tagName){let c=null;if(null==a)c=null;else if(null==b[d])c=e.querySelector("option[selected]");else if(!Array.isArray(b[d])){let a=b[d];"string"==typeof a&&(a=a.replace(/"/g,'\\"')),c=e.querySelector(`option[value="${a}"]`)}null==c?(e.value="",e.selectedIndex=-1):c.selected=!0}else if(null==a)e.classList.remove("ql-active"),e.setAttribute("aria-pressed","false");else if(e.hasAttribute("value")){let a=b[d],c=a===e.getAttribute("value")||null!=a&&a.toString()===e.getAttribute("value")||null==a&&!e.getAttribute("value");e.classList.toggle("ql-active",c),e.setAttribute("aria-pressed",c.toString())}else{let a=null!=b[d];e.classList.toggle("ql-active",a),e.setAttribute("aria-pressed",a.toString())}})}}function eE(a,b,c){let d=document.createElement("button");d.setAttribute("type","button"),d.classList.add(`ql-${b}`),d.setAttribute("aria-pressed","false"),null!=c?(d.value=c,d.setAttribute("aria-label",`${b}: ${c}`)):d.setAttribute("aria-label",b),a.appendChild(d)}eD.DEFAULTS={},eD.DEFAULTS={container:null,handlers:{clean(){let a=this.quill.getSelection();null!=a&&(0===a.length?Object.keys(this.quill.getFormat()).forEach(a=>{null!=this.quill.scroll.query(a,a$.INLINE)&&this.quill.format(a,!1,c8.sources.USER)}):this.quill.removeFormat(a.index,a.length,c8.sources.USER))},direction(a){let{align:b}=this.quill.getFormat();"rtl"===a&&null==b?this.quill.format("align","right",c8.sources.USER):a||"right"!==b||this.quill.format("align",!1,c8.sources.USER),this.quill.format("direction",a,c8.sources.USER)},indent(a){let b=this.quill.getSelection(),c=this.quill.getFormat(b),d=parseInt(c.indent||0,10);if("+1"===a||"-1"===a){let b="+1"===a?1:-1;"rtl"===c.direction&&(b*=-1),this.quill.format("indent",d+b,c8.sources.USER)}},link(a){!0===a&&(a=prompt("Enter link URL:")),this.quill.format("link",a,c8.sources.USER)},list(a){let b=this.quill.getSelection(),c=this.quill.getFormat(b);"check"===a?"checked"===c.list||"unchecked"===c.list?this.quill.format("list",!1,c8.sources.USER):this.quill.format("list","unchecked",c8.sources.USER):this.quill.format("list",a,c8.sources.USER)}}};let eF='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',eG={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:eF,"code-block":eF,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'},eH=0;function eI(a,b){a.setAttribute(b,`${"true"!==a.getAttribute(b)}`)}let eJ=class{constructor(a){this.select=a,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),a.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),eI(this.label,"aria-expanded"),eI(this.options,"aria-hidden")}buildItem(a){let b=document.createElement("span");b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item");let c=a.getAttribute("value");return c&&b.setAttribute("data-value",c),a.textContent&&b.setAttribute("data-label",a.textContent),b.addEventListener("click",()=>{this.selectItem(b,!0)}),b.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(b,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault()}}),b}buildLabel(){let a=document.createElement("span");return a.classList.add("ql-picker-label"),a.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',a.tabIndex="0",a.setAttribute("role","button"),a.setAttribute("aria-expanded","false"),this.container.appendChild(a),a}buildOptions(){let a=document.createElement("span");a.classList.add("ql-picker-options"),a.setAttribute("aria-hidden","true"),a.tabIndex="-1",a.id=`ql-picker-options-${eH}`,eH+=1,this.label.setAttribute("aria-controls",a.id),this.options=a,Array.from(this.select.options).forEach(b=>{let c=this.buildItem(b);a.appendChild(c),!0===b.selected&&this.selectItem(c)}),this.container.appendChild(a)}buildPicker(){Array.from(this.select.attributes).forEach(a=>{this.container.setAttribute(a.name,a.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(a){let b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=this.container.querySelector(".ql-selected");a===c||(null!=c&&c.classList.remove("ql-selected"),null!=a&&(a.classList.add("ql-selected"),this.select.selectedIndex=Array.from(a.parentNode.children).indexOf(a),a.hasAttribute("data-value")?this.label.setAttribute("data-value",a.getAttribute("data-value")):this.label.removeAttribute("data-value"),a.hasAttribute("data-label")?this.label.setAttribute("data-label",a.getAttribute("data-label")):this.label.removeAttribute("data-label"),b&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let a;if(this.select.selectedIndex>-1){let b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];a=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);let b=null!=a&&a!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}},eK=class extends eJ{constructor(a,b){super(a),this.label.innerHTML=b,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(a=>{a.classList.add("ql-primary")})}buildItem(a){let b=super.buildItem(a);return b.style.backgroundColor=a.getAttribute("value")||"",b}selectItem(a,b){super.selectItem(a,b);let c=this.label.querySelector(".ql-color-label"),d=a&&a.getAttribute("data-value")||"";c&&("line"===c.tagName?c.style.stroke=d:c.style.fill=d)}},eL=class extends eJ{constructor(a,b){super(a),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(a=>{a.innerHTML=b[a.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(a,b){super.selectItem(a,b);let c=a||this.defaultItem;if(null!=c){if(this.label.innerHTML===c.innerHTML)return;this.label.innerHTML=c.innerHTML}}},eM=class{constructor(a,b){this.quill=a,this.boundsContainer=b||document.body,this.root=a.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(a=>{let{overflowY:b}=getComputedStyle(a,null);return"visible"!==b&&"clip"!==b})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(a){let b=a.left+a.width/2-this.root.offsetWidth/2,c=a.bottom+this.quill.root.scrollTop;this.root.style.left=`${b}px`,this.root.style.top=`${c}px`,this.root.classList.remove("ql-flip");let d=this.boundsContainer.getBoundingClientRect(),e=this.root.getBoundingClientRect(),f=0;if(e.right>d.right&&(f=d.right-e.right,this.root.style.left=`${b+f}px`),e.left<d.left&&(f=d.left-e.left,this.root.style.left=`${b+f}px`),e.bottom>d.bottom){let b=e.bottom-e.top,d=a.bottom-a.top+b;this.root.style.top=`${c-d}px`,this.root.classList.add("ql-flip")}return f}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},eN=[!1,"center","right","justify"],eO=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],eP=[!1,"serif","monospace"],eQ=["1","2","3",!1],eR=["small",!1,"large","huge"];class eS extends c0{constructor(a,b){super(a,b);const c=b=>{document.body.contains(a.root)?(null==this.tooltip||this.tooltip.root.contains(b.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach(a=>{a.container.contains(b.target)||a.close()})):document.body.removeEventListener("click",c)};a.emitter.listenDOM("click",document.body,c)}addModule(a){let b=super.addModule(a);return"toolbar"===a&&this.extendToolbar(b),b}buildButtons(a,b){Array.from(a).forEach(a=>{(a.getAttribute("class")||"").split(/\s+/).forEach(c=>{if(c.startsWith("ql-")&&null!=b[c=c.slice(3)])if("direction"===c)a.innerHTML=b[c][""]+b[c].rtl;else if("string"==typeof b[c])a.innerHTML=b[c];else{let d=a.value||"";null!=d&&b[c][d]&&(a.innerHTML=b[c][d])}})})}buildPickers(a,b){this.pickers=Array.from(a).map(a=>{if(a.classList.contains("ql-align")&&(null==a.querySelector("option")&&eU(a,eN),"object"==typeof b.align))return new eL(a,b.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){let c=a.classList.contains("ql-background")?"background":"color";return null==a.querySelector("option")&&eU(a,eO,"background"===c?"#ffffff":"#000000"),new eK(a,b[c])}return null==a.querySelector("option")&&(a.classList.contains("ql-font")?eU(a,eP):a.classList.contains("ql-header")?eU(a,eQ):a.classList.contains("ql-size")&&eU(a,eR)),new eJ(a)});let c=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(cN.events.EDITOR_CHANGE,c)}}eS.DEFAULTS=aZ({},c0.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let a=this.container.querySelector("input.ql-image[type=file]");null==a&&((a=document.createElement("input")).setAttribute("type","file"),a.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),a.classList.add("ql-image"),a.addEventListener("change",()=>{let b=this.quill.getSelection(!0);this.quill.uploader.upload(b,a.files),a.value=""}),this.container.appendChild(a)),a.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class eT extends eM{constructor(a,b){super(a,b),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",a=>{"Enter"===a.key?(this.save(),a.preventDefault()):"Escape"===a.key&&(this.cancel(),a.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=b?this.textbox.value=b:a!==this.root.getAttribute("data-mode")&&(this.textbox.value="");let c=this.quill.getBounds(this.quill.selection.savedRange);null!=c&&this.position(c),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${a}`)||""),this.root.setAttribute("data-mode",a)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:a}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{let{scrollTop:b}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",a,cN.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",a,cN.sources.USER)),this.quill.root.scrollTop=b;break}case"video":var b;let c;a=(c=(b=a).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||b.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?`${c[1]||"https"}://www.youtube.com/embed/${c[2]}?showinfo=0`:(c=b.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${c[1]||"https"}://player.vimeo.com/video/${c[2]}/`:b;case"formula":{if(!a)break;let b=this.quill.getSelection(!0);if(null!=b){let c=b.index+b.length;this.quill.insertEmbed(c,this.root.getAttribute("data-mode"),a,cN.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(c+1," ",cN.sources.USER),this.quill.setSelection(c+2,cN.sources.USER)}}}this.textbox.value="",this.hide()}}function eU(a,b){let c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];b.forEach(b=>{let d=document.createElement("option");b===c?d.setAttribute("selected","selected"):d.setAttribute("value",String(b)),a.appendChild(d)})}let eV=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class eW extends eT{static TEMPLATE='<span class="ql-tooltip-arrow"></span><div class="ql-tooltip-editor"><input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL"><a class="ql-close"></a></div>';constructor(a,b){super(a,b),this.quill.on(cN.events.EDITOR_CHANGE,(a,b,c,d)=>{if(a===cN.events.SELECTION_CHANGE)if(null!=b&&b.length>0&&d===cN.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;let a=this.quill.getLines(b.index,b.length);if(1===a.length){let a=this.quill.getBounds(b);null!=a&&this.position(a)}else{let c=a[a.length-1],d=this.quill.getIndex(c),e=Math.min(c.length()-1,b.index+b.length-d),f=this.quill.getBounds(new cP(d,e));null!=f&&this.position(f)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(cN.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;let a=this.quill.getSelection();if(null!=a){let b=this.quill.getBounds(a);null!=b&&this.position(b)}},1)})}cancel(){this.show()}position(a){let b=super.position(a),c=this.root.querySelector(".ql-tooltip-arrow");return c.style.marginLeft="",0!==b&&(c.style.marginLeft=`${-1*b-c.offsetWidth/2}px`),b}}class eX extends eS{constructor(a,b){null!=b.modules.toolbar&&null==b.modules.toolbar.container&&(b.modules.toolbar.container=eV),super(a,b),this.quill.container.classList.add("ql-bubble")}extendToolbar(a){this.tooltip=new eW(this.quill,this.options.bounds),null!=a.container&&(this.tooltip.root.appendChild(a.container),this.buildButtons(a.container.querySelectorAll("button"),eG),this.buildPickers(a.container.querySelectorAll("select"),eG))}}eX.DEFAULTS=aZ({},eS.DEFAULTS,{modules:{toolbar:{handlers:{link(a){a?this.quill.theme.tooltip.edit():this.quill.format("link",!1,c8.sources.USER)}}}}});let eY=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class eZ extends eT{static TEMPLATE='<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a><input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL"><a class="ql-action"></a><a class="ql-remove"></a>';preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",a=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),a.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",a=>{if(null!=this.linkRange){let a=this.linkRange;this.restoreFocus(),this.quill.formatText(a,"link",!1,cN.sources.USER),delete this.linkRange}a.preventDefault(),this.hide()}),this.quill.on(cN.events.SELECTION_CHANGE,(a,b,c)=>{if(null!=a){if(0===a.length&&c===cN.sources.USER){let[b,c]=this.quill.scroll.descendant(ei,a.index);if(null!=b){this.linkRange=new cP(a.index-c,b.length());let d=ei.formats(b.domNode);this.preview.textContent=d,this.preview.setAttribute("href",d),this.show();let e=this.quill.getBounds(this.linkRange);null!=e&&this.position(e);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class e$ extends eS{constructor(a,b){null!=b.modules.toolbar&&null==b.modules.toolbar.container&&(b.modules.toolbar.container=eY),super(a,b),this.quill.container.classList.add("ql-snow")}extendToolbar(a){null!=a.container&&(a.container.classList.add("ql-snow"),this.buildButtons(a.container.querySelectorAll("button"),eG),this.buildPickers(a.container.querySelectorAll("select"),eG),this.tooltip=new eZ(this.quill,this.options.bounds),a.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(b,c)=>{a.handlers.link.call(a,!c.format.link)}))}}e$.DEFAULTS=aZ({},eS.DEFAULTS,{modules:{toolbar:{handlers:{link(a){if(a){let a=this.quill.getSelection();if(null==a||0===a.length)return;let b=this.quill.getText(a);/^\S+@\S+\.\S+$/.test(b)&&0!==b.indexOf("mailto:")&&(b=`mailto:${b}`);let{tooltip:c}=this.quill.theme;c.edit("link",b)}else this.quill.format("link",!1,c8.sources.USER)}}}}}),c8.register({"attributors/attribute/direction":dz,"attributors/class/align":dn,"attributors/class/background":dt,"attributors/class/color":dr,"attributors/class/direction":dA,"attributors/class/font":dD,"attributors/class/size":dF,"attributors/style/align":dp,"attributors/style/background":du,"attributors/style/color":ds,"attributors/style/direction":dB,"attributors/style/font":dE,"attributors/style/size":dG},!0),c8.register({"formats/align":dn,"formats/direction":dA,"formats/indent":ec,"formats/background":du,"formats/color":ds,"formats/font":dD,"formats/size":dF,"formats/blockquote":ed,"formats/code-block":dw,"formats/header":ee,"formats/list":eg,"formats/bold":eh,"formats/code":dx,"formats/italic":class extends eh{static blotName="italic";static tagName=["EM","I"]},"formats/link":ei,"formats/script":ek,"formats/strike":class extends eh{static blotName="strike";static tagName=["S","STRIKE"]},"formats/underline":el,"formats/formula":em,"formats/image":eo,"formats/video":eq,"modules/syntax":ev,"modules/table":eB,"modules/toolbar":eD,"themes/bubble":eX,"themes/snow":e$,"ui/icons":eG,"ui/picker":eJ,"ui/icon-picker":eL,"ui/color-picker":eK,"ui/tooltip":eM},!0),a.s(["default",0,c8],12675),a.i(12675);var df=br;a.s(["AttributeMap",()=>bs.AttributeMap,"Delta",()=>bs.default,"Module",0,cY,"Op",()=>bs.Op,"OpIterator",()=>bs.OpIterator,"Parchment",()=>df,"Range",()=>cP,"default",0,c8],71263)}];

//# sourceMappingURL=321e1_23ad9322._.js.map