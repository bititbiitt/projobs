module.exports=[56897,a=>{"use strict";var b=a.i(10150),c=a.i(43212);let d={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block"],["link","image"],["clean"]]},e=["header","bold","italic","underline","strike","list","blockquote","code-block","link","image"];function f({value:f,onChange:g,placeholder:h}){let i=(0,c.useRef)(null),j=(0,c.useRef)(null);return(0,c.useEffect)(()=>{let b=!0;(async()=>{let c=await a.A(90392),k=c&&(c.default??c);if(!b||!i.current)return;if(j.current=new k(i.current,{theme:"snow",modules:d,formats:e,placeholder:h}),f)try{j.current.clipboard.dangerouslyPasteHTML(f)}catch(a){j.current.setText(f)}let l=()=>{let a=i.current?.querySelector(".ql-editor")?.innerHTML??"";g("<p><br></p>"===a?"":a)};return j.current.on("text-change",l),()=>{b=!1,j.current&&(j.current.off("text-change",l),j.current=null)}})()},[]),(0,c.useEffect)(()=>{let a=j.current;if(a&&f!==(i.current?.querySelector(".ql-editor")?.innerHTML??"")){let b=a.getSelection();try{a.clipboard.dangerouslyPasteHTML(f||"")}catch(b){a.setText(f||"")}b&&a.setSelection(b)}},[f]),(0,b.jsx)("div",{children:(0,b.jsx)("div",{ref:i})})}let g=()=>`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,9)}`;function h(){let a,d,[e,h]=(0,c.useState)("details"),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)("job"),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(null),D=(0,c.useRef)(null),E=(0,c.useRef)(null),F=c.default.useRef({}),[G,H]=(0,c.useState)(!0),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!1),M=(a,b,c)=>{a.dataTransfer.setData("application/json",JSON.stringify({source:"palette",type:b,label:c})),a.dataTransfer.effectAllowed="copy"},N=a=>{a.preventDefault(),a.dataTransfer.dropEffect="copy"},O=(a,b,c,d)=>{let e=[...a];if("number"==typeof d)return e.splice(d,0,c),e;let f=-1;for(let a=0;a<e.length;a++)e[a].category===b&&(f=a);if(-1===f){let a=e.findIndex(a=>a.category!==b);return -1===a?e.push(c):e.splice(a,0,c),e}return e.splice(f+1,0,c),e},P=a=>{w(b=>[...b,a]),setTimeout(()=>C(a.id),0)},Q=(a,b)=>{a.preventDefault();try{let c=a.dataTransfer.getData("application/json");if(!c)return;let d=JSON.parse(c);if("palette"===d.source){let a={id:g(),type:d.type,label:d.label,category:b};w(c=>O(c,b,a))}else"question"===d.source&&w(a=>{let c=a.find(a=>a.id===d.id);if(!c)return a;let e=a.filter(a=>a.id!==d.id),f={...c,category:b};return O(e,b,f)})}catch(a){}},R=(a,b)=>{w(c=>{let d=[...c],e=d.findIndex(b=>b.id===a);if(-1===e)return c;let f="up"===b?e-1:e+1;if(f<0||f>=d.length)return c;let g=d[f];return d[f]=d[e],d[e]=g,d})},S=(a,b,c)=>w(d=>d.map(d=>{if(d.id!==a)return d;let e=Array.isArray(d.options)?[...d.options]:[];if(b<0||b>=e.length||c<0||c>=e.length)return d;let[f]=e.splice(b,1);return e.splice(c,0,f),{...d,options:e}})),T=a=>!!a&&10===String(a).replace(/\D/g,"").length,U=a=>!!a&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(a)),V=a=>(0,b.jsxs)("div",{tabIndex:0,onKeyDown:b=>X(b,a),draggable:!0,onDragStart:b=>{var c;return c=a.id,void(b.dataTransfer.setData("application/json",JSON.stringify({source:"question",id:c})),b.dataTransfer.effectAllowed="move")},onDragOver:a=>a.preventDefault(),onDrop:b=>((a,b)=>{a.preventDefault();try{let c=a.dataTransfer.getData("application/json");if(!c)return;let d=JSON.parse(c);"question"===d.source?w(a=>{let c=[...a],e=c.findIndex(a=>a.id===d.id),f=c.findIndex(a=>a.id===b);if(-1===e||-1===f||e===f)return a;let[g]=c.splice(e,1);return c.splice(f,0,g),c}):"palette"===d.source&&w(a=>{let c=[...a],e=c.findIndex(a=>a.id===b),f={id:g(),type:d.type,label:d.label,category:c[e]?.category??x};return c.splice(e,0,f),c})}catch(a){}})(b,a.id),className:"border rounded p-3 bg-gray-50",children:[(0,b.jsxs)("div",{className:"w-full flex items-center justify-between gap-4",children:[(0,b.jsx)("div",{className:"flex-1"}),(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsxs)("select",{value:a.category,onChange:b=>{let c,d;return c=a.id,d=b.target.value,w(a=>a.map(a=>a.id===c?{...a,category:d}:a))},className:"rounded border px-2 py-1 text-sm",children:[(0,b.jsx)("option",{value:"agency",children:"Agency-Wide"}),(0,b.jsx)("option",{value:"job",children:"Job-Specific"})]})}),(0,b.jsx)("div",{className:"flex-shrink-0 flex items-center gap-2",children:(0,b.jsxs)("label",{className:"flex items-center text-sm gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:!!a.required,onChange:b=>w(c=>c.map(c=>c.id===a.id?{...c,required:b.target.checked}:c))}),(0,b.jsx)("span",{children:"Required"})]})})]}),(0,b.jsx)("div",{className:"mt-3 w-full",children:B===a.id?(0,b.jsx)("input",{ref:a=>{E.current=a},autoFocus:!0,value:a.label,onChange:b=>w(c=>c.map(c=>c.id===a.id?{...c,label:b.target.value}:c)),onBlur:()=>C(null),className:"text-sm font-medium w-full rounded border px-2 py-1"}):(0,b.jsx)("div",{className:"text-sm font-medium",onDoubleClick:()=>C(a.id),children:a.label})}),(0,b.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Type: ",a.type]}),["radio","checkbox","dropdown"].includes(a.type)&&(0,b.jsxs)("div",{className:"mt-3",children:[(a.options||[]).map((c,d)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsx)("input",{value:c,onChange:b=>{let c,e;return c=a.id,e=b.target.value,w(a=>a.map(a=>{if(a.id!==c)return a;let b=Array.isArray(a.options)?[...a.options]:[];return b[d]=e,{...a,options:b}}))},className:"flex-1 rounded border px-2 py-1 text-sm"}),(0,b.jsx)("button",{onClick:()=>S(a.id,d,Math.max(0,d-1)),className:"px-2 py-1 text-xs bg-gray-100 rounded",children:"↑"}),(0,b.jsx)("button",{onClick:()=>S(a.id,d,Math.min((a.options||[]).length-1,d+1)),className:"px-2 py-1 text-xs bg-gray-100 rounded",children:"↓"}),(0,b.jsx)("button",{onClick:()=>{let b;return b=a.id,w(a=>a.map(a=>{if(a.id!==b)return a;let c=Array.isArray(a.options)?[...a.options]:[];return c.splice(d,1),{...a,options:c}}))},className:"px-2 py-1 text-xs text-red-600",children:"Delete"})]},d)),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("button",{onClick:()=>((a,b="New option")=>w(c=>c.map(c=>{if(c.id!==a)return c;let d=Array.isArray(c.options)?[...c.options,b]:[b];return{...c,options:d}})))(a.id),className:"px-3 py-1 text-sm bg-white border rounded",children:"Add option"})})]}),(0,b.jsxs)("div",{className:"flex justify-end items-center gap-2 mt-3",children:[(0,b.jsx)("button",{onClick:()=>C(a.id),className:"text-sm text-gray-700",children:"Edit"}),(0,b.jsx)("button",{onClick:()=>{let b,c;return b=a.id,c=a.category,w(a=>{let d=[...a],e=d.findIndex(a=>a.id===b);if(e<=0)return d;let f=-1;for(let a=e-1;a>=0;a--)if(d[a].category===c){f=a;break}if(-1===f)return d;let g=d[f];return d[f]=d[e],d[e]=g,d})},className:"text-sm text-gray-600",children:"Up"}),(0,b.jsx)("button",{onClick:()=>{let b,c;return b=a.id,c=a.category,w(a=>{let d=[...a],e=d.findIndex(a=>a.id===b);if(-1===e)return d;let f=-1;for(let a=e+1;a<d.length;a++)if(d[a].category===c){f=a;break}if(-1===f)return d;let g=d[f];return d[f]=d[e],d[e]=g,d})},className:"text-sm text-gray-600",children:"Down"}),(0,b.jsx)("button",{onClick:()=>{let b;return b=a.id,w(a=>a.filter(a=>a.id!==b))},className:"text-sm text-red-600",children:"Delete"})]})]},a.id);c.default.useEffect(()=>{if(B&&E.current)try{E.current.focus(),E.current.select()}catch(a){}},[B]);let W=(a,c)=>{let d=a.required?(0,b.jsx)("span",{className:"text-red-600 ml-2",children:"*"}):null;switch(a.type){case"text":default:return(0,b.jsxs)("div",{className:"py-3",children:[(0,b.jsxs)("div",{className:"text-sm font-medium",children:[String(c).padStart(2,"0"),". ",a.label,d]}),(0,b.jsx)("input",{className:"mt-2 w-full rounded border p-2",placeholder:"Answer"})]},a.id);case"textarea":return(0,b.jsxs)("div",{className:"py-3",children:[(0,b.jsxs)("div",{className:"text-sm font-medium",children:[String(c).padStart(2,"0"),". ",a.label,d]}),(0,b.jsx)("textarea",{className:"mt-2 w-full rounded border p-2",rows:4,placeholder:"Answer"})]},a.id);case"radio":return(0,b.jsxs)("div",{className:"py-3",children:[(0,b.jsxs)("div",{className:"text-sm font-medium",children:[String(c).padStart(2,"0"),". ",a.label,d]}),(0,b.jsx)("div",{className:"mt-2 space-y-1",children:(a.options||[]).map((c,d)=>(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("input",{type:"radio",name:`q_${a.id}`}),c]},d))})]},a.id);case"checkbox":return(0,b.jsxs)("div",{className:"py-3",children:[(0,b.jsxs)("div",{className:"text-sm font-medium",children:[String(c).padStart(2,"0"),". ",a.label,d]}),(0,b.jsx)("div",{className:"mt-2 space-y-1",children:(a.options||[]).map((a,c)=>(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("input",{type:"checkbox"}),a]},c))})]},a.id);case"dropdown":return(0,b.jsxs)("div",{className:"py-3",children:[(0,b.jsxs)("div",{className:"text-sm font-medium",children:[String(c).padStart(2,"0"),". ",a.label,d]}),(0,b.jsxs)("select",{className:"mt-2 w-full rounded border p-2",children:[(0,b.jsx)("option",{children:"Please select one"}),(a.options||[]).map((a,c)=>(0,b.jsx)("option",{children:a},c))]})]},a.id);case"date":return(0,b.jsxs)("div",{className:"py-3",children:[(0,b.jsxs)("div",{className:"text-sm font-medium",children:[String(c).padStart(2,"0"),". ",a.label,d]}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("input",{type:"date",value:a.value?String(a.value).slice(0,10):"",onChange:b=>w(c=>c.map(c=>c.id===a.id?{...c,value:b.target.value?new Date(b.target.value).toISOString():null}:c)),onFocus:a=>{let b=a.target;try{b.showPicker?.()}catch{}},className:"mt-2 w-full rounded border p-2"})})]},a.id);case"phone":return(0,b.jsxs)("div",{className:"py-3",children:[(0,b.jsxs)("div",{className:"text-sm font-medium",children:[String(c).padStart(2,"0"),". ",a.label,d]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{ref:b=>{F.current[a.id]=b},type:"tel",className:`mt-2 w-full rounded border p-2 ${a.value&&!T(a.value)?"border-red-500":""}`,placeholder:"Phone number",value:a.value||"",onChange:b=>{let c,d=0===(c=String(b.target.value||"").replace(/\D/g,"").slice(0,10)).length?"":c.length<=3?`(${c}`:c.length<=6?`(${c.slice(0,3)}) ${c.slice(3)}`:`(${c.slice(0,3)}) ${c.slice(3,6)}-${c.slice(6)}`;w(b=>b.map(b=>b.id===a.id?{...b,value:d}:b)),setTimeout(()=>{let b=F.current[a.id];if(b){let a=(d||"").length;try{b.setSelectionRange(a,a)}catch(a){}}},0)}}),a.value&&!T(a.value)&&(0,b.jsx)("div",{className:"text-xs text-red-600 mt-1",children:"Enter a 10-digit phone number"})]})]},a.id);case"email":return(0,b.jsxs)("div",{className:"py-3",children:[(0,b.jsxs)("div",{className:"text-sm font-medium",children:[String(c).padStart(2,"0"),". ",a.label,d]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{ref:b=>{F.current[a.id]=b},type:"email",className:`mt-2 w-full rounded border p-2 ${a.value&&!U(a.value)?"border-red-500":""}`,placeholder:"Email address",value:a.value||"",onChange:b=>{let c,d,e=(-1!==(d=(c=(c=String(b.target.value||"").trim().toLowerCase()).replace(/\s+/g,"")).indexOf("@"))&&(c=c.slice(0,d+1)+c.slice(d+1).replace(/@/g,"")),c.slice(0,254));w(b=>b.map(b=>b.id===a.id?{...b,value:e}:b)),setTimeout(()=>{let b=F.current[a.id];if(b){let a=(e||"").length;try{b.setSelectionRange(a,a)}catch(a){}}},0)}}),a.value&&!U(a.value)&&(0,b.jsx)("div",{className:"text-xs text-red-600 mt-1",children:"Enter a valid email address"})]})]},a.id)}},X=(a,b)=>{if("Delete"===a.key)return void w(a=>a.filter(a=>a.id!==b.id));if("Enter"===a.key){let a=prompt("Edit question label",b.label);null!=a&&w(c=>c.map(c=>c.id===b.id?{...c,label:a}:c));return}(a.ctrlKey||a.metaKey)&&"ArrowUp"===a.key?R(b.id,"up"):(a.ctrlKey||a.metaKey)&&"ArrowDown"===a.key&&R(b.id,"down")},Y=async()=>{try{let a=await fetch("/api/post-job",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"New Job",description:j,requirements:l,minimumQualifications:n,benefits:p,scoringCriteria:r,includeQuestions:G})});if(await a.json(),!a.ok)return void alert("Failed to create job");G&&v.length>0&&await i(v),alert("Job published")}catch(a){console.error("Publish error",a),alert("Publish failed")}};return(0,b.jsxs)("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-xl shadow border border-gray-200 mt-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-1",children:"Create New Job Posting"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Fill in the details for your new job posting"}),(0,b.jsxs)("div",{className:"flex items-center border-b mb-5",children:[(0,b.jsx)("button",{type:"button",onClick:()=>h("details"),className:`px-4 py-2 -mb-px font-semibold ${"details"===e?"border-b-2 border-blue-600 text-blue-700":"text-gray-400"}`,children:"JOB DETAILS"}),(0,b.jsx)("button",{type:"button",onClick:()=>h("questions"),className:`px-4 py-2 -mb-px font-semibold ${"questions"===e?"border-b-2 border-blue-600 text-blue-700":"text-gray-400"}`,children:"QUESTIONS"})]}),"details"===e?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"font-semibold text-base mb-3",children:"Basic Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Department"}),(0,b.jsx)("select",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2 bg-white",children:(0,b.jsx)("option",{children:"Select department"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-500",children:"If not in the list, please specify:"}),(0,b.jsx)("input",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2",placeholder:"e.g., New Department..."})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Job / Exam Number *"}),(0,b.jsx)("input",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2",placeholder:"e.g., JOB2026-001"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Job Title *"}),(0,b.jsx)("input",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2",placeholder:"e.g., Web Developer..."})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Opening Date *"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("input",{type:"date",onFocus:a=>{let b=a.target;try{b.showPicker?.()}catch{}},className:"mt-1 block w-full rounded border border-red-300 px-3 py-2"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Closing Date"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("input",{type:"date",onFocus:a=>{let b=a.target;try{b.showPicker?.()}catch{}},className:"mt-1 block w-full rounded border border-gray-300 px-3 py-2"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Review Date"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("input",{type:"date",onFocus:a=>{let b=a.target;try{b.showPicker?.()}catch{}},className:"mt-1 block w-full rounded border border-gray-300 px-3 py-2"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center mt-3",children:[(0,b.jsx)("input",{id:"continuous",type:"checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),(0,b.jsx)("label",{htmlFor:"continuous",className:"ml-2 text-sm",children:"Continuous"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Location *"}),(0,b.jsx)("input",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2",placeholder:"City"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"State"}),(0,b.jsx)("select",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2 bg-white",children:(0,b.jsx)("option",{children:"State"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"ZIP"}),(0,b.jsx)("input",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2",placeholder:"5-digit ZIP Code"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Job Type *"}),(0,b.jsx)("select",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2 bg-white",children:(0,b.jsx)("option",{children:"Select type"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Work Site"}),(0,b.jsx)("select",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2 bg-white",children:(0,b.jsx)("option",{children:"Select work site"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Job Level"}),(0,b.jsx)("select",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2 bg-white",children:(0,b.jsx)("option",{children:"Select level"})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Job Classification *"}),(0,b.jsx)("select",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2 bg-white",children:(0,b.jsx)("option",{children:"Select Classification"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-500",children:"If not in the list, please specify:"}),(0,b.jsx)("input",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2",placeholder:"e.g., New job classification..."})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Job Function *"}),(0,b.jsx)("select",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2 bg-white",children:(0,b.jsx)("option",{children:"Select function"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-500",children:"If not in the list, please specify:"}),(0,b.jsx)("input",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2",placeholder:"e.g., New job function..."})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Job Category *"}),(0,b.jsx)("select",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2 bg-white",children:(0,b.jsx)("option",{children:"Select Category"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-500",children:"If not in the list, please specify:"}),(0,b.jsx)("input",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2",placeholder:"e.g., New job category..."})]})]})]}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"font-semibold text-base mb-3",children:"Compensation"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Compensation Type"}),(0,b.jsx)("select",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2 bg-white",children:(0,b.jsx)("option",{children:"Annual Salary"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Minimum Pay"}),(0,b.jsx)("input",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2",placeholder:"e.g., 50,000.00"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Maximum Pay"}),(0,b.jsx)("input",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2",placeholder:"e.g., 140,000.00"})]})]})]}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"font-semibold text-base mb-3",children:"Job Details"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Job Description *"}),(0,b.jsx)(f,{value:j,onChange:k,placeholder:"Please describe the role, responsibilities, and what a typical day looks like..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Requirements *"}),(0,b.jsx)(f,{value:l,onChange:m,placeholder:"Please list the required qualifications, skills, and experience..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Benefits *"}),(0,b.jsx)(f,{value:p,onChange:q,placeholder:"Please describe the benefits and perks offered..."})]})]})]}),(0,b.jsx)("section",{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Minimum Qualifications (MQ)"}),(0,b.jsx)("textarea",{rows:3,value:n,onChange:a=>o(a.target.value),className:"w-full rounded border border-gray-300 p-3 text-sm",placeholder:"e.g., Bachelor's degree in relevant field OR 5 years equivalent experience; Valid driver's license required; Must pass background check..."})]})}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"font-semibold text-base mb-3",children:"Civil Service & Compliance"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Bargaining Unit"}),(0,b.jsx)("select",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2 bg-white",children:(0,b.jsx)("option",{children:"Select professional unit"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Pay Grade"}),(0,b.jsx)("input",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2",placeholder:"e.g., Grade 12"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Education"}),(0,b.jsx)("select",{className:"mt-1 block w-full rounded border border-red-300 px-3 py-2 bg-white",children:(0,b.jsx)("option",{children:"Select education"})})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 mt-4",children:[(0,b.jsxs)("label",{className:"flex items-center text-sm",children:[(0,b.jsx)("input",{type:"checkbox",className:"mr-2 h-4 w-4"})," Civil Service Exam"]}),(0,b.jsxs)("label",{className:"flex items-center text-sm",children:[(0,b.jsx)("input",{type:"checkbox",className:"mr-2 h-4 w-4"})," Veteran Preference"]}),(0,b.jsxs)("label",{className:"flex items-center text-sm",children:[(0,b.jsx)("input",{type:"checkbox",className:"mr-2 h-4 w-4"})," FLSA"]}),(0,b.jsxs)("label",{className:"flex items-center text-sm",children:[(0,b.jsx)("input",{type:"checkbox",className:"mr-2 h-4 w-4"})," Driver's license"]}),(0,b.jsxs)("label",{className:"flex items-center text-sm",children:[(0,b.jsx)("input",{type:"checkbox",className:"mr-2 h-4 w-4"})," Reference"]})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Scoring Criteria"}),(0,b.jsx)("textarea",{rows:3,value:r,onChange:a=>s(a.target.value),className:"w-full rounded border border-gray-300 p-3 text-sm",placeholder:"Describe the scoring criteria and weights (e.g., Education 30%, Experience 40%, Skills 30%)..."})]})]}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("button",{onClick:Y,className:"bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700 text-sm",children:"Publish Job"})})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("label",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:G,onChange:a=>H(a.target.checked),className:"h-4 w-4"}),(0,b.jsx)("span",{className:"font-medium",children:"Include screening questions"}),(0,b.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"(Optional — only add questions if required for this job)"})]})}),G?null:(0,b.jsxs)("div",{className:"border rounded p-4 bg-gray-50 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Screening questions are disabled for this job."}),(0,b.jsx)("button",{type:"button",onClick:()=>H(!0),className:"px-3 py-2 bg-blue-600 text-white rounded text-sm",children:"Enable Screening Questions"})]}),(0,b.jsxs)("div",{className:"border rounded-md p-4 flex items-center justify-between bg-gray-50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-400",children:[(0,b.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.jsx)("path",{d:"M14 2v6h6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-700",children:"Upload PDF or Word document with pre-written questions here..."}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Supported: .pdf, .doc, .docx"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{ref:D,type:"file",className:"hidden",accept:".pdf,.doc,.docx,.txt",onChange:async a=>{let b=a.target.files?.[0];if(b){if((t||v.length>0)&&!confirm("Uploading a new file will overwrite any existing questions. Continue?")){a.currentTarget.value="";return}if(u(b.name),b.type.startsWith("text/")||b.name.toLowerCase().endsWith(".txt"))try{let a=(await b.text()).split(/\r?\n/).map(a=>a.trim()).filter(Boolean);if(a.length>0){let b=a.slice(0,50).map(a=>({id:g(),type:"text",label:a,category:x,required:!0}));w(b),setTimeout(()=>{b[0]?.id&&C(b[0].id)},0)}else{let a={id:g(),type:"text",label:b.name,category:x,required:!0};w([a]),setTimeout(()=>C(a.id),0)}}catch(c){let a={id:g(),type:"text",label:`Uploaded: ${b.name} (parsing requires server)`,category:x};w([a]),setTimeout(()=>C(a.id),0)}else try{let a,c=await b.arrayBuffer(),d=new Uint8Array(c),e="";for(let a=0;a<d.length;a+=32768){let b=d.subarray(a,a+32768);e+=String.fromCharCode.apply(null,Array.from(b))}let f=btoa(e);try{let c=await fetch("/api/post-job/upload-doc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b.name,mime:b.type,data:f})}),d=await c.json();d&&d.ok&&d.versionId&&(a=d.versionId)}catch(a){}let h=await fetch("/api/post-job/parse-doc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b.name,mime:b.type,data:f,versionId:a})}),i=await h.json(),j=[];if(i&&i.ok&&Array.isArray(i.parsed)&&i.parsed.length>0)j=i.parsed.map(a=>({...a,category:a.category??x}));else{let a=(i&&i.ok&&i.text?String(i.text):i&&i.html?String(i.html).replace(/<[^>]+>/g,"\n"):"").split(/\n{2,}/).map(a=>a.trim()).filter(Boolean).slice(0,200),c=a=>a.replace(/^[\-\u2022\*\s]*/,"").replace(/^[0-9]+[\).]\s*/,"").replace(/^[a-zA-Z][\).]\s*/,"").trim();for(let b of a){let a=b.split(/\r?\n/).map(a=>a.trim()).filter(Boolean);if(0!==a.length){if(a.length>1&&a.slice(1).filter(a=>/^([\-\u2022\*]|[0-9]+[\).]|[a-zA-Z][\).])/.test(a)||/^\s*[-•*]/.test(a)).length>=1){let b=a.slice(1).map(c).filter(Boolean);j.push({id:g(),type:"radio",label:a[0],options:b,category:x,required:!0});continue}j.push({id:g(),type:"text",label:a[0],category:x,required:!0})}}0===j.length&&j.push({id:g(),type:"text",label:`Uploaded: ${b.name} (no parseable content)`,category:x,required:!0})}w(j),j.length>0&&setTimeout(()=>C(j[0].id),0)}catch(c){let a={id:g(),type:"text",label:`Uploaded: ${b.name} (parsing requires server)`,category:x};w([a]),setTimeout(()=>C(a.id),0)}}}}),(0,b.jsxs)("button",{type:"button",onClick:()=>D.current?.click(),className:"inline-flex items-center gap-2 px-3 py-2 bg-white border rounded text-sm hover:bg-gray-100",children:[(0,b.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-gray-600",children:[(0,b.jsx)("path",{d:"M12 5v14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.jsx)("path",{d:"M19 12l-7-7-7 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Upload Questions"]}),t&&(0,b.jsx)("div",{children:K?(0,b.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-700 mr-2",children:"Confirm delete?"}),(0,b.jsx)("button",{type:"button",onClick:()=>{u(null),w([]),D.current&&(D.current.value=""),L(!1)},className:"px-3 py-1 bg-red-600 text-white rounded text-sm",children:"Delete"}),(0,b.jsx)("button",{type:"button",onClick:()=>L(!1),className:"px-3 py-1 bg-white border rounded text-sm",children:"Cancel"})]}):(0,b.jsx)("button",{type:"button",onClick:()=>L(!0),className:"inline-flex items-center gap-2 px-3 py-2 bg-red-50 border border-red-200 rounded text-sm text-red-600 hover:bg-red-100",children:"Delete Upload"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("label",{className:"text-sm text-gray-600",children:"Default category for new questions:"}),(0,b.jsxs)("select",{value:x,onChange:a=>y(a.target.value),className:"rounded border px-2 py-1 text-sm",children:[(0,b.jsx)("option",{value:"agency",children:"Agency-Wide Questions"}),(0,b.jsx)("option",{value:"job",children:"Job-Specific Supplemental Questions"})]}),(0,b.jsx)("div",{className:"ml-4",children:(0,b.jsxs)("button",{type:"button",onClick:()=>A(a=>!a),"aria-pressed":z,className:`inline-flex items-center gap-2 px-3 py-1 text-sm rounded focus:outline-none focus:ring-2 ${z?"bg-blue-600 text-white border border-blue-700 hover:bg-blue-700":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-100"}`,children:[(0,b.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`${z?"text-white":"text-gray-600"}`,children:[(0,b.jsx)("path",{d:"M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12z",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,b.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,b.jsx)("span",{children:"Preview as applicant"})]})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-base mb-2",children:"Screening Questions"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Build custom screening questions for applicants by clicking form elements."}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"col-span-1",children:(0,b.jsxs)("div",{className:"bg-white border rounded p-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Form Elements"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("button",{draggable:!0,onDragStart:a=>M(a,"text","Short answer"),type:"button",onClick:()=>{P({id:g(),type:"text",label:"Short answer",category:x,required:!0})},className:"text-left p-3 border rounded bg-white hover:shadow-sm",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:"Text Input"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Single line text"})]}),(0,b.jsxs)("button",{draggable:!0,onDragStart:a=>M(a,"textarea","Long answer"),type:"button",onClick:()=>{P({id:g(),type:"textarea",label:"Long answer",category:x,required:!0})},className:"text-left p-3 border rounded bg-white hover:shadow-sm",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:"Text Area"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Multi-line text"})]}),(0,b.jsxs)("button",{draggable:!0,onDragStart:a=>M(a,"checkbox","Choose options"),type:"button",onClick:()=>{P({id:g(),type:"checkbox",label:"Choose options",options:["Option 1","Option 2"],category:x,required:!0})},className:"text-left p-3 border rounded bg-white hover:shadow-sm",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:"Checkbox"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Multiple choice"})]}),(0,b.jsxs)("button",{draggable:!0,onDragStart:a=>M(a,"radio","Choose one"),type:"button",onClick:()=>{P({id:g(),type:"radio",label:"Choose one",options:["Option A","Option B"],category:x,required:!0})},className:"text-left p-3 border rounded bg-white hover:shadow-sm",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:"Radio Buttons"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Single choice"})]}),(0,b.jsxs)("button",{draggable:!0,onDragStart:a=>M(a,"dropdown","Select"),type:"button",onClick:()=>{P({id:g(),type:"dropdown",label:"Select",options:["One","Two"],category:x,required:!0})},className:"text-left p-3 border rounded bg-white hover:shadow-sm",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:"Dropdown"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Select from list"})]}),(0,b.jsxs)("button",{draggable:!0,onDragStart:a=>M(a,"date","Select date"),type:"button",onClick:()=>{P({id:g(),type:"date",label:"Select date",category:x,required:!0})},className:"text-left p-3 border rounded bg-white hover:shadow-sm",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:"Date"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Date picker"})]}),(0,b.jsxs)("button",{draggable:!0,onDragStart:a=>M(a,"phone","Phone"),type:"button",onClick:()=>{P({id:g(),type:"phone",label:"Phone",category:x,required:!0})},className:"text-left p-3 border rounded bg-white hover:shadow-sm",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:"Phone"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Phone number"})]}),(0,b.jsxs)("button",{draggable:!0,onDragStart:a=>M(a,"email","Email"),type:"button",onClick:()=>{P({id:g(),type:"email",label:"Email",category:x,required:!0})},className:"text-left p-3 border rounded bg-white hover:shadow-sm",children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:"Email"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Email address"})]})]})]})}),(0,b.jsx)("div",{className:"md:col-span-2",children:(0,b.jsxs)("div",{className:"min-h-[16rem] border-2 border-dashed rounded-lg p-4 bg-white space-y-4",children:[(0,b.jsxs)("div",{onDragOver:N,onDrop:a=>Q(a,"agency"),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h4",{className:"text-sm font-medium",children:"Agency-Wide Questions"}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[v.filter(a=>"agency"===a.category).length," items"]})]}),0===v.filter(a=>"agency"===a.category).length?(0,b.jsx)("div",{className:"rounded p-4 bg-gray-50 text-center text-sm text-gray-400",children:"No agency-wide questions. Click an element to add."}):(0,b.jsx)("div",{className:"space-y-3",children:v.filter(a=>"agency"===a.category).map(V)})]}),(0,b.jsxs)("div",{onDragOver:N,onDrop:a=>Q(a,"job"),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h4",{className:"text-sm font-medium",children:"Job-Specific Supplemental Questions"}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[v.filter(a=>"job"===a.category).length," items"]})]}),0===v.filter(a=>"job"===a.category).length?(0,b.jsx)("div",{className:"rounded p-4 bg-gray-50 text-center text-sm text-gray-400",children:"No job-specific questions. Click an element to add."}):(0,b.jsx)("div",{className:"space-y-3",children:v.filter(a=>"job"===a.category).map(V)})]})]})})]})]}),z&&(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("h3",{className:"font-semibold text-base mb-3",children:"Preview — Applicant View"}),(0,b.jsx)("div",{className:"border rounded p-4 bg-white",children:(a=v.filter(a=>"agency"===a.category),d=v.filter(a=>"job"===a.category),(0,b.jsxs)(b.Fragment,{children:[a.length>0&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-center",children:"Agency-Wide Questions"}),(0,b.jsx)("div",{className:"mt-2",children:a.map((a,b)=>W(a,b+1))})]}),d.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-center",children:"Supplemental Questions"}),(0,b.jsx)("div",{className:"mt-2",children:d.map((a,b)=>W(a,b+1))})]}),0===a.length&&0===d.length&&(0,b.jsx)("div",{className:"text-sm text-gray-400 text-center",children:"No screening questions to preview."})]}))})]}),(0,b.jsx)("div",{className:"border-t pt-6",children:(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("button",{onClick:Y,className:"bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700 text-sm",children:"Publish Job"})})})]})]})}async function i(a){return(await fetch("/api/jobs/questions/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobId:null,questions:a})})).json()}a.s(["default",()=>h],56897)}];

//# sourceMappingURL=projobs_src_components_postjob_PostJobForm_tsx_fadaaaa9._.js.map