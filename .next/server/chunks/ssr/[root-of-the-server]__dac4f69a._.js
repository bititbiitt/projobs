module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},93653,(a,b,c)=>{"use strict";b.exports=a.r(22861).vendored.contexts.HooksClientContext},97011,(a,b,c)=>{"use strict";b.exports=a.r(22861).vendored.contexts.ServerInsertedHtml},70799,a=>{"use strict";var b=a.i(10150),c=a.i(95966),d=a.i(35432),e=a.i(85289),f=a.i(38373),g=a.i(43212);function h({categories:a}){let h=(0,d.useRouter)(),[i,j]=(0,g.useState)(""),[k,l]=(0,g.useState)([]),[m,n]=(0,g.useState)(!1),[o,p]=(0,g.useState)(-1),[q,r]=(0,g.useState)(!1),[s,t]=(0,g.useState)("Search by job title, function, category, or organization...|");(0,g.useEffect)(()=>{let a=()=>r(window.matchMedia("(pointer: coarse)").matches);return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),(0,g.useEffect)(()=>{let a=["Search by job title, function, category, or organization","Try 'Web Developer' or 'Remote'","Enter by city, state, or ZIP code","Or just ZIP code like '90210'"],b=0,c=0,d=!1,e=Date.now()+2e3,f=0,g=setInterval(()=>{f++;let g=a[b];d?f%1==0&&(c>0?(c--,t(g.substring(0,c)+"|")):(d=!1,b=(b+1)%a.length,e=Date.now()+700)):Date.now()>e&&f%2==0&&(c<g.length?(c++,t(g.substring(0,c)+"|")):(d=!0,e=Date.now()+3e3))},50);return()=>clearInterval(g)},[]),(0,g.useEffect)(()=>{let a=new AbortController,b=encodeURIComponent(i),c=i.toLowerCase();return i.trim().length>0?Promise.all([fetch(`/api/search?q=${b}`,{signal:a.signal}),fetch(`/api/search?taxonomy=locations&q=${b}`,{signal:a.signal})]).then(async([a,b])=>{let d=a.ok?await a.json():[],e=b.ok?await b.json():[],f=/^\d/.test(c);l([...(Array.isArray(e)?e:[]).filter(a=>"string"==typeof a&&a.length>0).map(a=>{let b=a.toLowerCase(),d=0,e=7;if(f){let b=a.match(/\b\d{5}\b/);if(b&&b[0].startsWith(c))return{value:a,type:"location",score:100,sortValue:parseInt(b[0],10)}}if(b.startsWith(c))d=3,e=5;else{let f=b.split(",").map(a=>a.trim());if(f.length>1&&f[1].toLowerCase().startsWith(c))d=2,e=6;else{let b=a.match(/\b\d{5}\b/);b&&b[0].startsWith(c)&&(d=1,e=7)}}return{value:a,type:"location",score:d,typeRating:e,sortValue:0}}).filter(a=>a.score>0),...(Array.isArray(d)?d:[]).filter(a=>("string"==typeof a?a:a.text).toLowerCase().startsWith(c)).map(a=>{let b="string"==typeof a?a:a.text,c="string"==typeof a?"keyword":a.type;return{value:b,type:"keyword",score:f?.5:5,typeRating:"job"===c?1:"function"===c?2:"category"===c?3:"company"===c||"organization"===c?4:10}})].sort((a,b)=>{if(f){if(a.score!==b.score)return b.score-a.score;if(a.sortValue!==b.sortValue)return a.sortValue-b.sortValue}return a.typeRating!==b.typeRating?a.typeRating-b.typeRating:a.value.localeCompare(b.value)}).slice(0,8))}).catch(a=>{"AbortError"!==a.name&&console.error(a)}):(l([]),p(-1)),()=>a.abort()},[i]);let u=(0,g.useMemo)(()=>{let a;if(q||!i||0===k.length)return"";if(o>=0&&o<k.length&&(a=k[o]),a||(a=k[0]),a&&a.value.toLowerCase().startsWith(i.toLowerCase()))return a.value.slice(i.length);if(a&&/^\d{5}$/.test(i)&&a.value.includes(i)){let b=a.value.replace(i,"").trim();return`  - ${b.replace(/,/g,"").trim()}`}return""},[i,k,q,o]),v=a=>{let b="",c="keyword";if("string"==typeof a){b=a.trim();let d=/^\d{5}$/.test(b),e=b.includes(","),f=!!d&&k.some(a=>"location"===a.type&&a.value.includes(b));if(e)c="location";else if(d)c=f?"location":"keyword";else{let a=k.length>0?k[0]:null;a&&"location"===a.type&&a.value.toLowerCase().startsWith(b.toLowerCase())&&(c="location",b=a.value)}}else b=a.value,c=a.type;j(b),n(!1),l([]),"location"===c?h.push(`/jobs?location=${encodeURIComponent(b)}&radius=50`):h.push(`/jobs?q=${encodeURIComponent(b)}`)};return(0,b.jsx)("section",{className:"bg-gradient-to-r from-[#172554] to-[#1e7a8a] pt-32 pb-20 md:pt-40 md:pb-32 px-4 relative overflow-hidden",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 md:px-8 text-center relative z-10",children:[(0,b.jsxs)("div",{className:`max-w-3xl mx-auto bg-white rounded-lg p-1 shadow-xl mb-12 relative z-50 border ${m?"border-red-500":"border-gray-200 pulse-border"}`,children:[(0,b.jsxs)("form",{action:"/jobs",className:"flex flex-col md:flex-row gap-2 relative",onSubmit:a=>{a.preventDefault(),v(i)},children:[(0,b.jsxs)("div",{className:"flex-1 relative group",children:[(0,b.jsx)(f.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-accent-blue transition-colors z-20",size:20}),!q&&m&&(0,b.jsxs)("div",{className:"absolute inset-0 pl-12 pr-4 py-1.5 flex items-center pointer-events-none z-10",children:[u&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-transparent whitespace-pre",children:i}),(0,b.jsx)("span",{className:"text-gray-400 opacity-60 whitespace-pre",children:u}),(0,b.jsx)("span",{className:"ml-2.5 text-[10px] bg-gray-50 text-gray-400 px-1.5 py-0.5 rounded border border-gray-200 shadow-sm font-mono tracking-wider opacity-70",children:"TAB"})]}),!u&&k.length>0&&(0,b.jsx)("div",{className:"flex-1 text-right",children:(0,b.jsx)("span",{className:"text-[10px] bg-gray-50 text-gray-400 px-1.5 py-0.5 rounded border border-gray-200 shadow-sm font-mono tracking-wider opacity-70",children:"TAB"})})]}),(0,b.jsx)("input",{type:"text",name:"q",value:i,onChange:a=>{j(a.target.value),p(-1)},onKeyDown:a=>{if("Enter"===a.key){a.preventDefault(),o>=0&&k.length>0?v(k[o]):v(i);return}if(0!==k.length)if("ArrowDown"===a.key)a.preventDefault(),p(a=>Math.min(a+1,k.length-1));else if("ArrowUp"===a.key)a.preventDefault(),p(a=>Math.max(a-1,-1));else if("Tab"===a.key){if(0===k.length)return;a.preventDefault(),v(o>=0?k[o]:k[0])}else"Escape"===a.key&&n(!1)},onFocus:()=>n(!0),onBlur:()=>setTimeout(()=>n(!1),200),autoComplete:"off",placeholder:s,className:"w-full pl-12 pr-4 py-1.5 rounded-md outline-none text-gray-700 placeholder:text-gray-400 focus:ring-2 focus:ring-red-500/20 transition-all border border-transparent hover:border-accent-blue/50 focus:border-red-500 bg-transparent relative z-20"}),!q&&m&&k.length>0&&(0,b.jsx)("div",{className:"absolute top-full left-0 right-0 bg-white mt-2 rounded-lg shadow-xl border border-gray-100 overflow-hidden text-left z-50",children:(0,b.jsx)("ul",{children:k.map((a,c)=>(0,b.jsx)("li",{children:(0,b.jsxs)("button",{type:"button",className:`w-full px-4 py-2 hover:bg-gray-50 text-gray-700 text-sm flex items-center gap-2 ${c===o?"bg-gray-100 ring-1 ring-inset ring-gray-200":""}`,onClick:()=>v(a),onMouseEnter:()=>p(c),children:["location"===a.type?(0,b.jsx)(e.MapPin,{size:14,className:"text-gray-400"}):(0,b.jsx)(f.Search,{size:14,className:"text-gray-400"}),a.value]})},c))})})]}),(0,b.jsx)("button",{type:"submit",className:"bg-navy hover:bg-navy-light hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] text-white font-medium px-8 py-1.5 rounded-md transition-all whitespace-nowrap",children:"Search Jobs"})]}),q&&k.length>0&&(0,b.jsx)("div",{className:"flex gap-2 p-2 overflow-x-auto border-t border-gray-100 mt-1",children:k.map((a,c)=>(0,b.jsxs)("button",{type:"button",onClick:()=>v(a),className:"px-4 py-2 bg-gray-50 text-gray-700 text-sm rounded-full border border-gray-200 whitespace-nowrap active:bg-blue-50 active:border-blue-200 transition-colors flex items-center gap-2",children:["location"===a.type?(0,b.jsx)(e.MapPin,{size:14,className:"text-gray-400"}):(0,b.jsx)(f.Search,{size:14,className:"text-gray-400"}),a.value]},c))})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 text-sm",children:a.map((a,d)=>(0,b.jsxs)(c.default,{href:`/jobs?category=${a.slug}`,className:"text-gray-200 hover:text-white transition-colors hover:underline",children:[a.name," (",a.count,")"]},d))})})]})})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__dac4f69a._.js.map