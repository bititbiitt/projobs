{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ILT/projobs/src/components/editor/QuillEditor.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport \"quill/dist/quill.snow.css\";\r\n\r\ntype Props = {\r\n  value: string;\r\n  onChange: (val: string) => void;\r\n  placeholder?: string;\r\n};\r\n\r\nconst modules = {\r\n  toolbar: [\r\n    [{ header: [1, 2, 3, false] }],\r\n    [\"bold\", \"italic\", \"underline\", \"strike\"],\r\n    [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n    [\"blockquote\", \"code-block\"],\r\n    [\"link\", \"image\"],\r\n    [\"clean\"],\r\n  ],\r\n};\r\n\r\nconst formats = [\r\n  \"header\",\r\n  \"bold\",\r\n  \"italic\",\r\n  \"underline\",\r\n  \"strike\",\r\n  \"list\",\r\n  \"blockquote\",\r\n  \"code-block\",\r\n  \"link\",\r\n  \"image\",\r\n];\r\n\r\nexport default function QuillEditor({ value, onChange, placeholder }: Props) {\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const quillRef = useRef<any>(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async () => {\r\n      // import Quill only on client\r\n      const QuillModule = await import(\"quill\");\r\n      const Quill = QuillModule && (QuillModule.default ?? QuillModule);\r\n      if (!mounted || !containerRef.current) return;\r\n\r\n      quillRef.current = new Quill(containerRef.current, {\r\n        theme: \"snow\",\r\n        modules,\r\n        formats,\r\n        placeholder,\r\n      });\r\n\r\n      // set initial content\r\n      if (value) {\r\n        try {\r\n          quillRef.current.clipboard.dangerouslyPasteHTML(value);\r\n        } catch (e) {\r\n          quillRef.current.setText(value);\r\n        }\r\n      }\r\n\r\n      const handleChange = () => {\r\n        const html = containerRef.current?.querySelector('.ql-editor')?.innerHTML ?? \"\";\r\n        onChange(html === '<p><br></p>' ? '' : html);\r\n      };\r\n\r\n      quillRef.current.on('text-change', handleChange);\r\n\r\n      return () => {\r\n        mounted = false;\r\n        if (quillRef.current) {\r\n          quillRef.current.off('text-change', handleChange);\r\n          // Quill doesn't provide a destroy API; clear reference\r\n          quillRef.current = null;\r\n        }\r\n      };\r\n    })();\r\n  }, []);\r\n\r\n  // update editor when value prop changes externally\r\n  useEffect(() => {\r\n    const editor = quillRef.current;\r\n    if (!editor) return;\r\n    const current = containerRef.current?.querySelector('.ql-editor')?.innerHTML ?? '';\r\n    if (value !== current) {\r\n      const selection = editor.getSelection();\r\n      try {\r\n        editor.clipboard.dangerouslyPasteHTML(value || '');\r\n      } catch (e) {\r\n        editor.setText(value || '');\r\n      }\r\n      if (selection) editor.setSelection(selection);\r\n    }\r\n  }, [value]);\r\n\r\n  return (\r\n    <div>\r\n      <div ref={containerRef} />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;;AAWA,MAAM,UAAU;IACd,SAAS;QACP;YAAC;gBAAE,QAAQ;oBAAC;oBAAG;oBAAG;oBAAG;iBAAM;YAAC;SAAE;QAC9B;YAAC;YAAQ;YAAU;YAAa;SAAS;QACzC;YAAC;gBAAE,MAAM;YAAU;YAAG;gBAAE,MAAM;YAAS;SAAE;QACzC;YAAC;YAAc;SAAa;QAC5B;YAAC;YAAQ;SAAQ;QACjB;YAAC;SAAQ;KACV;AACH;AAEA,MAAM,UAAU;IACd;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEc,SAAS,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAS;IACzE,MAAM,eAAe,IAAA,0NAAM,EAAwB;IACnD,MAAM,WAAW,IAAA,0NAAM,EAAM;IAE7B,IAAA,6NAAS,EAAC;QACR,IAAI,UAAU;QACd,CAAC;YACC,8BAA8B;YAC9B,MAAM,cAAc;YACpB,MAAM,QAAQ,eAAe,CAAC,YAAY,OAAO,IAAI,WAAW;YAChE,IAAI,CAAC,WAAW,CAAC,aAAa,OAAO,EAAE;YAEvC,SAAS,OAAO,GAAG,IAAI,MAAM,aAAa,OAAO,EAAE;gBACjD,OAAO;gBACP;gBACA;gBACA;YACF;YAEA,sBAAsB;YACtB,IAAI,OAAO;gBACT,IAAI;oBACF,SAAS,OAAO,CAAC,SAAS,CAAC,oBAAoB,CAAC;gBAClD,EAAE,OAAO,GAAG;oBACV,SAAS,OAAO,CAAC,OAAO,CAAC;gBAC3B;YACF;YAEA,MAAM,eAAe;gBACnB,MAAM,OAAO,aAAa,OAAO,EAAE,cAAc,eAAe,aAAa;gBAC7E,SAAS,SAAS,gBAAgB,KAAK;YACzC;YAEA,SAAS,OAAO,CAAC,EAAE,CAAC,eAAe;YAEnC,OAAO;gBACL,UAAU;gBACV,IAAI,SAAS,OAAO,EAAE;oBACpB,SAAS,OAAO,CAAC,GAAG,CAAC,eAAe;oBACpC,uDAAuD;oBACvD,SAAS,OAAO,GAAG;gBACrB;YACF;QACF,CAAC;IACH,GAAG,EAAE;IAEL,mDAAmD;IACnD,IAAA,6NAAS,EAAC;QACR,MAAM,SAAS,SAAS,OAAO;QAC/B,IAAI,CAAC,QAAQ;QACb,MAAM,UAAU,aAAa,OAAO,EAAE,cAAc,eAAe,aAAa;QAChF,IAAI,UAAU,SAAS;YACrB,MAAM,YAAY,OAAO,YAAY;YACrC,IAAI;gBACF,OAAO,SAAS,CAAC,oBAAoB,CAAC,SAAS;YACjD,EAAE,OAAO,GAAG;gBACV,OAAO,OAAO,CAAC,SAAS;YAC1B;YACA,IAAI,WAAW,OAAO,YAAY,CAAC;QACrC;IACF,GAAG;QAAC;KAAM;IAEV,qBACE,yPAAC;kBACC,cAAA,yPAAC;YAAI,KAAK;;;;;;;;;;;AAGhB"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ILT/projobs/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,oIACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}